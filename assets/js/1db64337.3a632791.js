"use strict";(self.webpackChunktemplate_docs=self.webpackChunktemplate_docs||[]).push([[8413],{6785:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>a,frontMatter:()=>c,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"overview","title":"Overview - C\xe1c th\xe0nh ph\u1ea7n c\u01a1 b\u1ea3n c\u1ee7a NestJS","description":"T\xecm hi\u1ec3u v\u1ec1 c\xe1c th\xe0nh ph\u1ea7n c\u01a1 b\u1ea3n v\xe0 ki\u1ebfn tr\xfac c\u1ee7a NestJS framework","source":"@site/docs/overview.md","sourceDirName":".","slug":"/overview","permalink":"/document/docs/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/ecom-co/document/tree/main/docs/overview.md","tags":[],"version":"current","frontMatter":{"title":"Overview - C\xe1c th\xe0nh ph\u1ea7n c\u01a1 b\u1ea3n c\u1ee7a NestJS","description":"T\xecm hi\u1ec3u v\u1ec1 c\xe1c th\xe0nh ph\u1ea7n c\u01a1 b\u1ea3n v\xe0 ki\u1ebfn tr\xfac c\u1ee7a NestJS framework"}}');var s=i(4848),l=i(8453);const c={title:"Overview - C\xe1c th\xe0nh ph\u1ea7n c\u01a1 b\u1ea3n c\u1ee7a NestJS",description:"T\xecm hi\u1ec3u v\u1ec1 c\xe1c th\xe0nh ph\u1ea7n c\u01a1 b\u1ea3n v\xe0 ki\u1ebfn tr\xfac c\u1ee7a NestJS framework"},t="Overview - C\xe1c th\xe0nh ph\u1ea7n c\u01a1 b\u1ea3n c\u1ee7a NestJS",d={},o=[{value:"Ki\u1ebfn tr\xfac t\u1ed5ng quan",id:"ki\u1ebfn-tr\xfac-t\u1ed5ng-quan",level:2},{value:"1. Modules (M\xf4-\u0111un)",id:"1-modules-m\xf4-\u0111un",level:2},{value:"AppModule (Module g\u1ed1c)",id:"appmodule-module-g\u1ed1c",level:3},{value:"Feature Modules",id:"feature-modules",level:3},{value:"Shared Modules",id:"shared-modules",level:3},{value:"Global Modules",id:"global-modules",level:3},{value:"2. Controllers (B\u1ed9 \u0111i\u1ec1u khi\u1ec3n)",id:"2-controllers-b\u1ed9-\u0111i\u1ec1u-khi\u1ec3n",level:2},{value:"Vai tr\xf2 c\u1ee7a Controllers",id:"vai-tr\xf2-c\u1ee7a-controllers",level:3},{value:"HTTP Methods",id:"http-methods",level:3},{value:"Route Parameters",id:"route-parameters",level:3},{value:"3. Services (D\u1ecbch v\u1ee5)",id:"3-services-d\u1ecbch-v\u1ee5",level:2},{value:"Vai tr\xf2 c\u1ee7a Services",id:"vai-tr\xf2-c\u1ee7a-services",level:3},{value:"Injectable Services",id:"injectable-services",level:3},{value:"Service Methods",id:"service-methods",level:3},{value:"4. Providers (Nh\xe0 cung c\u1ea5p)",id:"4-providers-nh\xe0-cung-c\u1ea5p",level:2},{value:"C\xe1c lo\u1ea1i Providers",id:"c\xe1c-lo\u1ea1i-providers",level:3},{value:"Provider Registration",id:"provider-registration",level:3},{value:"5. Dependency Injection (DI)",id:"5-dependency-injection-di",level:2},{value:"L\u1ee3i \xedch c\u1ee7a DI",id:"l\u1ee3i-\xedch-c\u1ee7a-di",level:3},{value:"Constructor Injection",id:"constructor-injection",level:3},{value:"Property Injection",id:"property-injection",level:3},{value:"6. Decorators (Trang tr\xed)",id:"6-decorators-trang-tr\xed",level:2},{value:"Class Decorators",id:"class-decorators",level:3},{value:"Method Decorators",id:"method-decorators",level:3},{value:"Parameter Decorators",id:"parameter-decorators",level:3},{value:"7. Guards (B\u1ea3o v\u1ec7)",id:"7-guards-b\u1ea3o-v\u1ec7",level:2},{value:"Vai tr\xf2 c\u1ee7a Guards",id:"vai-tr\xf2-c\u1ee7a-guards",level:3},{value:"Built-in Guards",id:"built-in-guards",level:3},{value:"Custom Guards",id:"custom-guards",level:3},{value:"8. Interceptors (Can thi\u1ec7p)",id:"8-interceptors-can-thi\u1ec7p",level:2},{value:"Vai tr\xf2 c\u1ee7a Interceptors",id:"vai-tr\xf2-c\u1ee7a-interceptors",level:3},{value:"Built-in Interceptors",id:"built-in-interceptors",level:3},{value:"Interceptor Lifecycle",id:"interceptor-lifecycle",level:3},{value:"9. Pipes (\u1ed0ng d\u1eabn)",id:"9-pipes-\u1ed1ng-d\u1eabn",level:2},{value:"Vai tr\xf2 c\u1ee7a Pipes",id:"vai-tr\xf2-c\u1ee7a-pipes",level:3},{value:"Built-in Pipes",id:"built-in-pipes",level:3},{value:"Custom Pipes",id:"custom-pipes",level:3},{value:"10. Exception Filters (B\u1ed9 l\u1ecdc ngo\u1ea1i l\u1ec7)",id:"10-exception-filters-b\u1ed9-l\u1ecdc-ngo\u1ea1i-l\u1ec7",level:2},{value:"Vai tr\xf2 c\u1ee7a Exception Filters",id:"vai-tr\xf2-c\u1ee7a-exception-filters",level:3},{value:"Built-in Exceptions",id:"built-in-exceptions",level:3},{value:"Custom Exception Filters",id:"custom-exception-filters",level:3},{value:"Lu\u1ed3ng x\u1eed l\xfd request c\u01a1 b\u1ea3n",id:"lu\u1ed3ng-x\u1eed-l\xfd-request-c\u01a1-b\u1ea3n",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Separation of Concerns",id:"1-separation-of-concerns",level:3},{value:"2. Single Responsibility",id:"2-single-responsibility",level:3},{value:"3. Dependency Injection",id:"3-dependency-injection",level:3},{value:"4. Error Handling",id:"4-error-handling",level:3},{value:"5. Validation",id:"5-validation",level:3},{value:"6. Testing",id:"6-testing",level:3}];function h(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"overview---c\xe1c-th\xe0nh-ph\u1ea7n-c\u01a1-b\u1ea3n-c\u1ee7a-nestjs",children:"Overview - C\xe1c th\xe0nh ph\u1ea7n c\u01a1 b\u1ea3n c\u1ee7a NestJS"})}),"\n",(0,s.jsx)(n.p,{children:"Sau khi c\xe0i \u0111\u1eb7t th\xe0nh c\xf4ng, b\u1ea1n c\u1ea7n hi\u1ec3u c\xe1c th\xe0nh ph\u1ea7n c\u01a1 b\u1ea3n c\u1ee7a NestJS \u0111\u1ec3 b\u1eaft \u0111\u1ea7u ph\xe1t tri\u1ec3n \u1ee9ng d\u1ee5ng. \u0110\xe2y l\xe0 nh\u1eefng kh\xe1i ni\u1ec7m quan tr\u1ecdng nh\u1ea5t m\xe0 b\u1ea1n c\u1ea7n n\u1eafm v\u1eefng."}),"\n",(0,s.jsx)(n.h2,{id:"ki\u1ebfn-tr\xfac-t\u1ed5ng-quan",children:"Ki\u1ebfn tr\xfac t\u1ed5ng quan"}),"\n",(0,s.jsx)(n.p,{children:"NestJS \u0111\u01b0\u1ee3c x\xe2y d\u1ef1ng d\u1ef1a tr\xean ki\u1ebfn tr\xfac module, s\u1eed d\u1ee5ng Dependency Injection v\xe0 c\xe1c decorators \u0111\u1ec3 t\u1ea1o ra \u1ee9ng d\u1ee5ng c\xf3 c\u1ea5u tr\xfac r\xf5 r\xe0ng v\xe0 d\u1ec5 b\u1ea3o tr\xec."}),"\n",(0,s.jsx)(n.admonition,{title:"Ki\u1ebfn tr\xfac ch\xednh",type:"tip",children:(0,s.jsxs)(n.p,{children:["NestJS t\u1ed5 ch\u1ee9c \u1ee9ng d\u1ee5ng th\xe0nh c\xe1c ",(0,s.jsx)(n.strong,{children:"Modules"}),", m\u1ed7i module ch\u1ee9a ",(0,s.jsx)(n.strong,{children:"Controllers"}),", ",(0,s.jsx)(n.strong,{children:"Services"})," v\xe0 ",(0,s.jsx)(n.strong,{children:"Providers"})," \u0111\u01b0\u1ee3c k\u1ebft n\u1ed1i th\xf4ng qua ",(0,s.jsx)(n.strong,{children:"Dependency Injection"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"1-modules-m\xf4-\u0111un",children:"1. Modules (M\xf4-\u0111un)"}),"\n",(0,s.jsx)(n.p,{children:"Modules l\xe0 c\xe1ch NestJS t\u1ed5 ch\u1ee9c \u1ee9ng d\u1ee5ng th\xe0nh c\xe1c ph\u1ea7n ri\xeang bi\u1ec7t v\xe0 c\xf3 th\u1ec3 t\xe1i s\u1eed d\u1ee5ng."}),"\n",(0,s.jsx)(n.h3,{id:"appmodule-module-g\u1ed1c",children:"AppModule (Module g\u1ed1c)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Module ch\xednh c\u1ee7a \u1ee9ng d\u1ee5ng"}),"\n",(0,s.jsx)(n.li,{children:"Import t\u1ea5t c\u1ea3 c\xe1c modules kh\xe1c"}),"\n",(0,s.jsx)(n.li,{children:"C\u1ea5u h\xecnh global providers"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"feature-modules",children:"Feature Modules"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\u1ed7i t\xednh n\u0103ng c\xf3 m\u1ed9t module ri\xeang"}),"\n",(0,s.jsx)(n.li,{children:"V\xed d\u1ee5: UserModule, ProductModule, OrderModule"}),"\n",(0,s.jsx)(n.li,{children:"Ch\u1ee9a controllers, services li\xean quan \u0111\u1ebfn t\xednh n\u0103ng \u0111\xf3"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"shared-modules",children:"Shared Modules"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Chia s\u1ebb logic gi\u1eefa c\xe1c modules"}),"\n",(0,s.jsx)(n.li,{children:"Export providers \u0111\u1ec3 modules kh\xe1c s\u1eed d\u1ee5ng"}),"\n",(0,s.jsx)(n.li,{children:"V\xed d\u1ee5: DatabaseModule, AuthModule"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"global-modules",children:"Global Modules"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"C\xf3 th\u1ec3 s\u1eed d\u1ee5ng \u1edf m\u1ecdi n\u01a1i trong \u1ee9ng d\u1ee5ng"}),"\n",(0,s.jsx)(n.li,{children:"Kh\xf4ng c\u1ea7n import v\xe0o t\u1eebng module"}),"\n",(0,s.jsx)(n.li,{children:"V\xed d\u1ee5: ConfigModule, LoggerModule"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"V\xed d\u1ee5 c\u1ea5u tr\xfac:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"AppModule\n\u251c\u2500\u2500 UserModule\n\u251c\u2500\u2500 ProductModule\n\u251c\u2500\u2500 OrderModule\n\u2514\u2500\u2500 AuthModule\n"})}),"\n",(0,s.jsx)(n.h2,{id:"2-controllers-b\u1ed9-\u0111i\u1ec1u-khi\u1ec3n",children:"2. Controllers (B\u1ed9 \u0111i\u1ec1u khi\u1ec3n)"}),"\n",(0,s.jsx)(n.p,{children:"Controllers x\u1eed l\xfd c\xe1c HTTP requests v\xe0 \u0111\u1ecbnh ngh\u0129a routes cho \u1ee9ng d\u1ee5ng."}),"\n",(0,s.jsx)(n.h3,{id:"vai-tr\xf2-c\u1ee7a-controllers",children:"Vai tr\xf2 c\u1ee7a Controllers"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Nh\u1eadn requests"})," t\u1eeb client (browser, mobile app, etc.)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validate d\u1eef li\u1ec7u"})," \u0111\u1ea7u v\xe0o"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"G\u1ecdi services"})," \u0111\u1ec3 x\u1eed l\xfd logic"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Tr\u1ea3 v\u1ec1 response"})," cho client"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"http-methods",children:"HTTP Methods"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Get()"})," - l\u1ea5y d\u1eef li\u1ec7u (GET request)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Post()"})," - t\u1ea1o m\u1edbi (POST request)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Put()"})," - c\u1eadp nh\u1eadt to\xe0n b\u1ed9 (PUT request)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Patch()"})," - c\u1eadp nh\u1eadt m\u1ed9t ph\u1ea7n (PATCH request)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Delete()"})," - x\xf3a (DELETE request)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"route-parameters",children:"Route Parameters"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Path Parameters"})," - ",(0,s.jsx)(n.code,{children:"/users/:id"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Query Parameters"})," - ",(0,s.jsx)(n.code,{children:"/users?page=1&limit=10"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Request Body"})," - d\u1eef li\u1ec7u g\u1eedi trong body"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Headers"})," - th\xf4ng tin b\u1ed5 sung"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"3-services-d\u1ecbch-v\u1ee5",children:"3. Services (D\u1ecbch v\u1ee5)"}),"\n",(0,s.jsx)(n.p,{children:"Services ch\u1ee9a business logic v\xe0 x\u1eed l\xfd d\u1eef li\u1ec7u c\u1ee7a \u1ee9ng d\u1ee5ng."}),"\n",(0,s.jsx)(n.h3,{id:"vai-tr\xf2-c\u1ee7a-services",children:"Vai tr\xf2 c\u1ee7a Services"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Business Logic"})," - logic nghi\u1ec7p v\u1ee5 ch\xednh"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Processing"})," - x\u1eed l\xfd v\xe0 bi\u1ebfn \u0111\u1ed5i d\u1eef li\u1ec7u"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"External API Calls"})," - g\u1ecdi API b\xean ngo\xe0i"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Database Operations"})," - thao t\xe1c v\u1edbi c\u01a1 s\u1edf d\u1eef li\u1ec7u"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"injectable-services",children:"Injectable Services"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u0110\u01b0\u1ee3c \u0111\xe1nh d\u1ea5u b\u1eb1ng ",(0,s.jsx)(n.code,{children:"@Injectable()"})]}),"\n",(0,s.jsx)(n.li,{children:"C\xf3 th\u1ec3 inject v\xe0o controllers ho\u1eb7c services kh\xe1c"}),"\n",(0,s.jsx)(n.li,{children:"Qu\u1ea3n l\xfd lifecycle b\u1edfi NestJS DI container"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"service-methods",children:"Service Methods"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CRUD Operations"})," - Create, Read, Update, Delete"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Validation"})," - ki\u1ec3m tra d\u1eef li\u1ec7u"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Error Handling"})," - x\u1eed l\xfd l\u1ed7i"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Logging"})," - ghi log"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"4-providers-nh\xe0-cung-c\u1ea5p",children:"4. Providers (Nh\xe0 cung c\u1ea5p)"}),"\n",(0,s.jsx)(n.p,{children:"Providers cung c\u1ea5p dependencies cho \u1ee9ng d\u1ee5ng th\xf4ng qua Dependency Injection."}),"\n",(0,s.jsx)(n.h3,{id:"c\xe1c-lo\u1ea1i-providers",children:"C\xe1c lo\u1ea1i Providers"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Services"})," - business logic"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Repositories"})," - truy c\u1eadp database"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Factories"})," - t\u1ea1o objects"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Values"})," - constants, configuration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Custom Providers"})," - providers t\xf9y ch\u1ec9nh"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"provider-registration",children:"Provider Registration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u0110\u0103ng k\xfd trong module's ",(0,s.jsx)(n.code,{children:"providers"})," array"]}),"\n",(0,s.jsx)(n.li,{children:"C\xf3 th\u1ec3 export \u0111\u1ec3 modules kh\xe1c s\u1eed d\u1ee5ng"}),"\n",(0,s.jsx)(n.li,{children:"C\xf3 th\u1ec3 set scope (DEFAULT, REQUEST, TRANSIENT)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"5-dependency-injection-di",children:"5. Dependency Injection (DI)"}),"\n",(0,s.jsx)(n.p,{children:"NestJS s\u1eed d\u1ee5ng DI \u0111\u1ec3 t\u1ef1 \u0111\u1ed9ng k\u1ebft n\u1ed1i c\xe1c th\xe0nh ph\u1ea7n v\u1edbi nhau."}),"\n",(0,s.jsx)(n.h3,{id:"l\u1ee3i-\xedch-c\u1ee7a-di",children:"L\u1ee3i \xedch c\u1ee7a DI"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Automatic Wiring"})," - t\u1ef1 \u0111\u1ed9ng k\u1ebft n\u1ed1i dependencies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Loose Coupling"})," - gi\u1ea3m s\u1ef1 ph\u1ee5 thu\u1ed9c gi\u1eefa c\xe1c components"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Easy Testing"})," - d\u1ec5 d\xe0ng mock dependencies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reusability"})," - t\xe1i s\u1eed d\u1ee5ng logic"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"constructor-injection",children:"Constructor Injection"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"constructor(private userService: UserService) {}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"property-injection",children:"Property Injection"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"@Inject('CONFIG') private config: ConfigService;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"6-decorators-trang-tr\xed",children:"6. Decorators (Trang tr\xed)"}),"\n",(0,s.jsx)(n.p,{children:"Decorators \u0111\u1ecbnh ngh\u0129a metadata cho classes v\xe0 methods."}),"\n",(0,s.jsx)(n.h3,{id:"class-decorators",children:"Class Decorators"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Controller()"})," - \u0111\u1ecbnh ngh\u0129a controller"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Injectable()"})," - \u0111\u1ecbnh ngh\u0129a service"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Module()"})," - \u0111\u1ecbnh ngh\u0129a module"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Global()"})," - \u0111\u1ecbnh ngh\u0129a global module"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"method-decorators",children:"Method Decorators"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Get()"}),", ",(0,s.jsx)(n.code,{children:"@Post()"}),", ",(0,s.jsx)(n.code,{children:"@Put()"}),", ",(0,s.jsx)(n.code,{children:"@Delete()"})," - HTTP methods"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@UseGuards()"})," - \xe1p d\u1ee5ng guards"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@UseInterceptors()"})," - \xe1p d\u1ee5ng interceptors"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@UsePipes()"})," - \xe1p d\u1ee5ng pipes"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"parameter-decorators",children:"Parameter Decorators"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Body()"})," - request body"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Param()"})," - path parameters"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Query()"})," - query parameters"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"@Headers()"})," - request headers"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"7-guards-b\u1ea3o-v\u1ec7",children:"7. Guards (B\u1ea3o v\u1ec7)"}),"\n",(0,s.jsx)(n.p,{children:"Guards b\u1ea3o v\u1ec7 routes v\xe0 x\u1eed l\xfd authentication/authorization."}),"\n",(0,s.jsx)(n.h3,{id:"vai-tr\xf2-c\u1ee7a-guards",children:"Vai tr\xf2 c\u1ee7a Guards"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authentication"})," - x\xe1c th\u1ef1c ng\u01b0\u1eddi d\xf9ng"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Authorization"})," - ph\xe2n quy\u1ec1n truy c\u1eadp"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Route Protection"})," - b\u1ea3o v\u1ec7 c\xe1c endpoints"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Pre-request Processing"})," - x\u1eed l\xfd tr\u01b0\u1edbc khi v\xe0o controller"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"built-in-guards",children:"Built-in Guards"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"AuthGuard"})," - x\xe1c th\u1ef1c JWT"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"RolesGuard"})," - ki\u1ec3m tra roles"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ThrottlerGuard"})," - gi\u1edbi h\u1ea1n request rate"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"custom-guards",children:"Custom Guards"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"T\u1ea1o guard t\xf9y ch\u1ec9nh"}),"\n",(0,s.jsxs)(n.li,{children:["Implement ",(0,s.jsx)(n.code,{children:"CanActivate"})," interface"]}),"\n",(0,s.jsx)(n.li,{children:"Logic x\xe1c th\u1ef1c/ph\xe2n quy\u1ec1n"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"8-interceptors-can-thi\u1ec7p",children:"8. Interceptors (Can thi\u1ec7p)"}),"\n",(0,s.jsx)(n.p,{children:"Interceptors can thi\u1ec7p v\xe0o request/response lifecycle."}),"\n",(0,s.jsx)(n.h3,{id:"vai-tr\xf2-c\u1ee7a-interceptors",children:"Vai tr\xf2 c\u1ee7a Interceptors"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Request Transformation"})," - bi\u1ebfn \u0111\u1ed5i request"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Response Transformation"})," - bi\u1ebfn \u0111\u1ed5i response"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Logging"})," - ghi log"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Error Handling"})," - x\u1eed l\xfd l\u1ed7i"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Caching"})," - cache response"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"built-in-interceptors",children:"Built-in Interceptors"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"LoggingInterceptor"})," - ghi log requests"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CacheInterceptor"})," - cache responses"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TimeoutInterceptor"})," - timeout requests"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"interceptor-lifecycle",children:"Interceptor Lifecycle"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Pre-processing"})," - tr\u01b0\u1edbc khi v\xe0o controller"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Post-processing"})," - sau khi controller x\u1eed l\xfd xong"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Exception handling"})," - x\u1eed l\xfd l\u1ed7i"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"9-pipes-\u1ed1ng-d\u1eabn",children:"9. Pipes (\u1ed0ng d\u1eabn)"}),"\n",(0,s.jsx)(n.p,{children:"Pipes x\u1eed l\xfd v\xe0 validate d\u1eef li\u1ec7u tr\u01b0\u1edbc khi v\xe0o controller."}),"\n",(0,s.jsx)(n.h3,{id:"vai-tr\xf2-c\u1ee7a-pipes",children:"Vai tr\xf2 c\u1ee7a Pipes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validation"})," - ki\u1ec3m tra d\u1eef li\u1ec7u \u0111\u1ea7u v\xe0o"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Transformation"})," - bi\u1ebfn \u0111\u1ed5i d\u1eef li\u1ec7u"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type Conversion"})," - chuy\u1ec3n \u0111\u1ed5i ki\u1ec3u d\u1eef li\u1ec7u"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Default Values"})," - gi\xe1 tr\u1ecb m\u1eb7c \u0111\u1ecbnh"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"built-in-pipes",children:"Built-in Pipes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ValidationPipe"})," - validate DTOs"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ParseIntPipe"})," - chuy\u1ec3n string th\xe0nh number"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ParseBoolPipe"})," - chuy\u1ec3n string th\xe0nh boolean"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ParseArrayPipe"})," - chuy\u1ec3n string th\xe0nh array"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"custom-pipes",children:"Custom Pipes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"T\u1ea1o pipe t\xf9y ch\u1ec9nh"}),"\n",(0,s.jsxs)(n.li,{children:["Implement ",(0,s.jsx)(n.code,{children:"PipeTransform"})," interface"]}),"\n",(0,s.jsx)(n.li,{children:"Logic validation/transformation"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"10-exception-filters-b\u1ed9-l\u1ecdc-ngo\u1ea1i-l\u1ec7",children:"10. Exception Filters (B\u1ed9 l\u1ecdc ngo\u1ea1i l\u1ec7)"}),"\n",(0,s.jsx)(n.p,{children:"Exception filters x\u1eed l\xfd l\u1ed7i m\u1ed9t c\xe1ch th\u1ed1ng nh\u1ea5t."}),"\n",(0,s.jsx)(n.h3,{id:"vai-tr\xf2-c\u1ee7a-exception-filters",children:"Vai tr\xf2 c\u1ee7a Exception Filters"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Error Handling"})," - x\u1eed l\xfd l\u1ed7i t\u1eadp trung"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Custom Error Responses"})," - t\xf9y ch\u1ec9nh response l\u1ed7i"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Logging"})," - ghi log l\u1ed7i"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Error Formatting"})," - \u0111\u1ecbnh d\u1ea1ng l\u1ed7i"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"built-in-exceptions",children:"Built-in Exceptions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"BadRequestException"})," - 400 Bad Request"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UnauthorizedException"})," - 401 Unauthorized"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"NotFoundException"})," - 404 Not Found"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"InternalServerErrorException"})," - 500 Internal Server Error"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"custom-exception-filters",children:"Custom Exception Filters"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"T\u1ea1o filter t\xf9y ch\u1ec9nh"}),"\n",(0,s.jsxs)(n.li,{children:["Implement ",(0,s.jsx)(n.code,{children:"ExceptionFilter"})," interface"]}),"\n",(0,s.jsx)(n.li,{children:"Logic x\u1eed l\xfd l\u1ed7i c\u1ee5 th\u1ec3"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"lu\u1ed3ng-x\u1eed-l\xfd-request-c\u01a1-b\u1ea3n",children:"Lu\u1ed3ng x\u1eed l\xfd request c\u01a1 b\u1ea3n"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Client Request\n    \u2193\nMiddleware (n\u1ebfu c\xf3)\n    \u2193\nGuards (Authentication/Authorization)\n    \u2193\nInterceptors (Pre-processing)\n    \u2193\nPipes (Validation/Transformation)\n    \u2193\nController (Route Handler)\n    \u2193\nService (Business Logic)\n    \u2193\nDatabase/External APIs\n    \u2193\nService (Process Response)\n    \u2193\nController (Format Response)\n    \u2193\nInterceptors (Post-processing)\n    \u2193\nClient Response\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"1-separation-of-concerns",children:"1. Separation of Concerns"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"T\xe1ch bi\u1ec7t r\xf5 r\xe0ng c\xe1c layer"}),"\n",(0,s.jsx)(n.li,{children:"Controllers ch\u1ec9 x\u1eed l\xfd HTTP, Services x\u1eed l\xfd business logic"}),"\n",(0,s.jsx)(n.li,{children:"M\u1ed7i module c\xf3 tr\xe1ch nhi\u1ec7m ri\xeang bi\u1ec7t"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-single-responsibility",children:"2. Single Responsibility"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\u1ed7i class ch\u1ec9 c\xf3 m\u1ed9t tr\xe1ch nhi\u1ec7m"}),"\n",(0,s.jsx)(n.li,{children:"Services nh\u1ecf, t\u1eadp trung v\xe0o m\u1ed9t domain"}),"\n",(0,s.jsx)(n.li,{children:"Controllers \u0111\u01a1n gi\u1ea3n, ch\u1ec9 routing"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"3-dependency-injection",children:"3. Dependency Injection"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"S\u1eed d\u1ee5ng DI thay v\xec t\u1ea1o objects tr\u1ef1c ti\u1ebfp"}),"\n",(0,s.jsx)(n.li,{children:"Inject dependencies qua constructor"}),"\n",(0,s.jsx)(n.li,{children:"Tr\xe1nh circular dependencies"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"4-error-handling",children:"4. Error Handling"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"X\u1eed l\xfd l\u1ed7i m\u1ed9t c\xe1ch th\u1ed1ng nh\u1ea5t"}),"\n",(0,s.jsx)(n.li,{children:"S\u1eed d\u1ee5ng exception filters"}),"\n",(0,s.jsx)(n.li,{children:"Log l\u1ed7i \u0111\u1ea7y \u0111\u1ee7"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"5-validation",children:"5. Validation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Validate d\u1eef li\u1ec7u \u0111\u1ea7u v\xe0o"}),"\n",(0,s.jsx)(n.li,{children:"S\u1eed d\u1ee5ng DTOs v\xe0 validation pipes"}),"\n",(0,s.jsx)(n.li,{children:"Ki\u1ec3m tra type safety"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"6-testing",children:"6. Testing"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Vi\u1ebft test cho m\u1ecdi component"}),"\n",(0,s.jsx)(n.li,{children:"Unit tests cho services"}),"\n",(0,s.jsx)(n.li,{children:"Integration tests cho controllers"}),"\n",(0,s.jsx)(n.li,{children:"E2E tests cho to\xe0n b\u1ed9 flow"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.admonition,{title:"Ti\u1ebfp theo",type:"info",children:(0,s.jsx)(n.p,{children:"B\xe2y gi\u1edd b\u1ea1n \u0111\xe3 hi\u1ec3u c\xe1c th\xe0nh ph\u1ea7n c\u01a1 b\u1ea3n, h\xe3y b\u1eaft \u0111\u1ea7u t\u1ea1o \u1ee9ng d\u1ee5ng \u0111\u1ea7u ti\xean!"})})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>t});var r=i(6540);const s={},l=r.createContext(s);function c(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);