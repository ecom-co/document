"use strict";(self.webpackChunktemplate_docs=self.webpackChunktemplate_docs||[]).push([[7790],{1538:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>x,frontMatter:()=>l,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"ecom-co/libs/utils/docs/dto-module","title":"DTO Module \u2014 Data Transfer Objects","description":"Module cung c\u1ea5p c\xe1c Data Transfer Objects (DTOs) chu\u1ea9n h\xf3a cho API responses, error handling, pagination, sorting v\xe0 querying trong NestJS applications.","source":"@site/docs/ecom-co/libs/utils/docs/dto-module.md","sourceDirName":"ecom-co/libs/utils/docs","slug":"/dto-module","permalink":"/document/docs/dto-module","draft":false,"unlisted":false,"editUrl":"https://github.com/ecom-co/document/tree/main/docs/ecom-co/libs/utils/docs/dto-module.md","tags":[{"inline":true,"label":"dto","permalink":"/document/docs/tags/dto"},{"inline":true,"label":"api","permalink":"/document/docs/tags/api"},{"inline":true,"label":"response","permalink":"/document/docs/tags/response"},{"inline":true,"label":"pagination","permalink":"/document/docs/tags/pagination"},{"inline":true,"label":"sorting","permalink":"/document/docs/tags/sorting"},{"inline":true,"label":"querying","permalink":"/document/docs/tags/querying"},{"inline":true,"label":"nestjs","permalink":"/document/docs/tags/nestjs"},{"inline":true,"label":"typescript","permalink":"/document/docs/tags/typescript"},{"inline":true,"label":"swagger","permalink":"/document/docs/tags/swagger"}],"version":"current","frontMatter":{"id":"dto-module","title":"DTO Module \u2014 Data Transfer Objects","sidebar_label":"DTO Module","slug":"/dto-module","description":"Module cung c\u1ea5p c\xe1c Data Transfer Objects (DTOs) chu\u1ea9n h\xf3a cho API responses, error handling, pagination, sorting v\xe0 querying trong NestJS applications.","tags":["dto","api","response","pagination","sorting","querying","nestjs","typescript","swagger"]},"sidebar":"tutorialSidebar","previous":{"title":"HttpExceptionFilter","permalink":"/document/docs/http-exception-filter"},"next":{"title":"ApiEndpoint Decorator","permalink":"/document/docs/api-endpoint-decorator"}}');var t=r(74848),i=r(28453),c=r(11470),d=r(19365);const l={id:"dto-module",title:"DTO Module \u2014 Data Transfer Objects",sidebar_label:"DTO Module",slug:"/dto-module",description:"Module cung c\u1ea5p c\xe1c Data Transfer Objects (DTOs) chu\u1ea9n h\xf3a cho API responses, error handling, pagination, sorting v\xe0 querying trong NestJS applications.",tags:["dto","api","response","pagination","sorting","querying","nestjs","typescript","swagger"]},o=void 0,a={},h=[{value:"T\u1ed5ng quan",id:"t\u1ed5ng-quan",level:3},{value:"C\xe1ch ho\u1ea1t \u0111\u1ed9ng",id:"c\xe1ch-ho\u1ea1t-\u0111\u1ed9ng",level:3},{value:"Ki\u1ebfn tr\xfac Module",id:"ki\u1ebfn-tr\xfac-module",level:3},{value:"1. API Response DTO",id:"1-api-response-dto",level:2},{value:"M\u1ee5c \u0111\xedch",id:"m\u1ee5c-\u0111\xedch",level:3},{value:"C\u1ea5u tr\xfac",id:"c\u1ea5u-tr\xfac",level:3},{value:"Usage Examples",id:"usage-examples",level:3},{value:"Factory Function",id:"factory-function",level:3},{value:"2. Error Response DTO",id:"2-error-response-dto",level:2},{value:"M\u1ee5c \u0111\xedch",id:"m\u1ee5c-\u0111\xedch-1",level:3},{value:"C\u1ea5u tr\xfac",id:"c\u1ea5u-tr\xfac-1",level:3},{value:"Usage Example",id:"usage-example",level:3},{value:"3. Pagination System",id:"3-pagination-system",level:2},{value:"3.1 Pagination DTO",id:"31-pagination-dto",level:3},{value:"M\u1ee5c \u0111\xedch",id:"m\u1ee5c-\u0111\xedch-2",level:4},{value:"C\u1ea5u tr\xfac",id:"c\u1ea5u-tr\xfac-2",level:4},{value:"Validation Rules",id:"validation-rules",level:4},{value:"3.2 Paginated Response DTO",id:"32-paginated-response-dto",level:3},{value:"M\u1ee5c \u0111\xedch",id:"m\u1ee5c-\u0111\xedch-3",level:4},{value:"C\u1ea5u tr\xfac Paging",id:"c\u1ea5u-tr\xfac-paging",level:4},{value:"Usage Examples",id:"usage-examples-1",level:4},{value:"3.3 Cursor Pagination",id:"33-cursor-pagination",level:3},{value:"M\u1ee5c \u0111\xedch",id:"m\u1ee5c-\u0111\xedch-4",level:4},{value:"C\u1ea5u tr\xfac CursorPaging",id:"c\u1ea5u-tr\xfac-cursorpaging",level:4},{value:"Usage Example",id:"usage-example-1",level:4},{value:"4. Order DTO",id:"4-order-dto",level:2},{value:"M\u1ee5c \u0111\xedch",id:"m\u1ee5c-\u0111\xedch-5",level:3},{value:"C\u1ea5u tr\xfac",id:"c\u1ea5u-tr\xfac-3",level:3},{value:"Validation Rules",id:"validation-rules-1",level:3},{value:"Usage Example",id:"usage-example-2",level:3},{value:"5. Query DTO",id:"5-query-dto",level:2},{value:"M\u1ee5c \u0111\xedch",id:"m\u1ee5c-\u0111\xedch-6",level:3},{value:"C\u1ea5u tr\xfac Base",id:"c\u1ea5u-tr\xfac-base",level:3},{value:"JsonLogic Filtering",id:"jsonlogic-filtering",level:3},{value:"Factory Function",id:"factory-function-1",level:3},{value:"Usage Examples",id:"usage-examples-2",level:3},{value:"Integration v\u1edbi Other Modules",id:"integration-v\u1edbi-other-modules",level:2},{value:"Swagger Integration",id:"swagger-integration",level:3},{value:"Validation Integration",id:"validation-integration",level:3},{value:"Exception Filter Integration",id:"exception-filter-integration",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3}];function u(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"Module DTO cung c\u1ea5p b\u1ed9 s\u01b0u t\u1eadp \u0111\u1ea7y \u0111\u1ee7 c\xe1c Data Transfer Objects \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1ec3 chu\u1ea9n h\xf3a API responses, x\u1eed l\xfd l\u1ed7i, ph\xe2n trang v\xe0 querying trong NestJS applications."})}),"\n",(0,t.jsx)(n.h3,{id:"t\u1ed5ng-quan",children:"T\u1ed5ng quan"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"M\u1ee5c ti\xeau"}),": Chu\u1ea9n h\xf3a c\u1ea5u tr\xfac d\u1eef li\u1ec7u cho API responses v\xe0 requests"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u0110i\u1ec3m n\u1ed5i b\u1eadt"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Standardized API Responses"}),": C\u1ea5u tr\xfac response nh\u1ea5t qu\xe1n cho t\u1ea5t c\u1ea3 endpoints"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Comprehensive Error Handling"}),": Error response format chu\u1ea9n v\u1edbi detailed information"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Flexible Pagination"}),": H\u1ed7 tr\u1ee3 c\u1ea3 offset-based v\xe0 cursor-based pagination"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Advanced Querying"}),": JsonLogic filtering, ordering v\xe0 field selection"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Swagger Integration"}),": T\u1ef1 \u0111\u1ed9ng generate API documentation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Type Safety"}),": Full TypeScript support v\u1edbi generic types"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"c\xe1ch-ho\u1ea1t-\u0111\u1ed9ng",children:"C\xe1ch ho\u1ea1t \u0111\u1ed9ng"}),"\n",(0,t.jsx)(n.mermaid,{value:'graph TD\n    A[Client Request] --\x3e B[DTO Validation]\n    B --\x3e C{Valid?}\n    C --\x3e|Yes| D[Process Request]\n    C --\x3e|No| E[Return Error Response]\n    D --\x3e F[Generate Response]\n    F --\x3e G[Format with DTO]\n    G --\x3e H[Return to Client]\n\n    subgraph "DTO Types"\n        I[API Response DTO]\n        J[Error Response DTO]\n        K[Pagination DTOs]\n        L[Order DTO]\n        M[Query DTO]\n    end\n\n    F --\x3e I\n    E --\x3e J\n    D --\x3e K\n    D --\x3e L\n    D --\x3e M'}),"\n",(0,t.jsx)(n.h3,{id:"ki\u1ebfn-tr\xfac-module",children:"Ki\u1ebfn tr\xfac Module"}),"\n",(0,t.jsx)(n.mermaid,{value:'graph LR\n    subgraph "Core DTOs"\n        A[ApiResponseDto]\n        B[ErrorResponseDto]\n    end\n\n    subgraph "Pagination System"\n        C[PaginationDto]\n        D[PaginatedResponseDto]\n        E[CursorPaginatedResponseDto]\n    end\n\n    subgraph "Query System"\n        F[OrderDto]\n        G[QueryDto]\n    end\n\n    A --\x3e H[Swagger Docs]\n    B --\x3e H\n    C --\x3e D\n    D --\x3e H\n    E --\x3e H\n    F --\x3e G\n    G --\x3e H'}),"\n",(0,t.jsx)(n.h2,{id:"1-api-response-dto",children:"1. API Response DTO"}),"\n",(0,t.jsx)(n.h3,{id:"m\u1ee5c-\u0111\xedch",children:"M\u1ee5c \u0111\xedch"}),"\n",(0,t.jsx)(n.p,{children:"\u0110\u1ecbnh ngh\u0129a c\u1ea5u tr\xfac chu\u1ea9n cho t\u1ea5t c\u1ea3 API responses, \u0111\u1ea3m b\u1ea3o t\xednh nh\u1ea5t qu\xe1n v\xe0 d\u1ec5 d\xe0ng integrate v\u1edbi Swagger."}),"\n",(0,t.jsx)(n.h3,{id:"c\u1ea5u-tr\xfac",children:"C\u1ea5u tr\xfac"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"M\xf4 t\u1ea3"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"data"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"T | null"})}),(0,t.jsx)(n.td,{children:"D\u1eef li\u1ec7u response (c\xf3 th\u1ec3 null)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"message"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"Th\xf4ng b\xe1o m\xf4 t\u1ea3 k\u1ebft qu\u1ea3"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"statusCode"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"HTTP status code"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,t.jsxs)(c.A,{children:[(0,t.jsx)(d.A,{value:"basic",label:"Basic Usage",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { ApiResponseDto } from '@ecom-co/utils';\n\n// T\u1ea1o response DTO cho User\nconst UserResponseDto = ApiResponseDto(UserDto);\n\n// S\u1eed d\u1ee5ng trong controller\n@Get()\n@ApiResponse({ type: UserResponseDto })\nasync getUsers(): Promise<IApiResponse<User[]>> {\n    const users = await this.userService.findAll();\n    return {\n        data: users,\n        message: 'Users retrieved successfully',\n        statusCode: 200\n    };\n}\n"})})}),(0,t.jsx)(d.A,{value:"null-data",label:"Null Data Response",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// Response kh\xf4ng c\xf3 data (v\xed d\u1ee5: delete operation)\nconst DeleteResponseDto = ApiResponseDto(null);\n\n@Delete(':id')\n@ApiResponse({ type: DeleteResponseDto })\nasync deleteUser(): Promise<IApiResponse<null>> {\n    await this.userService.delete(id);\n    return {\n        data: null,\n        message: 'User deleted successfully',\n        statusCode: 200\n    };\n}\n"})})})]}),"\n",(0,t.jsx)(n.h3,{id:"factory-function",children:"Factory Function"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// ApiResponseDto<T>(dataType: Type<T> | null)\nconst UserResponseDto = ApiResponseDto(UserDto);\nconst DeleteResponseDto = ApiResponseDto(null);\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"ApiResponseDto(null)"})," cho c\xe1c operations kh\xf4ng tr\u1ea3 v\u1ec1 data nh\u01b0 DELETE, ho\u1eb7c khi response ch\u1ec9 c\u1ea7n message v\xe0 statusCode."]})}),"\n",(0,t.jsx)(n.h2,{id:"2-error-response-dto",children:"2. Error Response DTO"}),"\n",(0,t.jsx)(n.h3,{id:"m\u1ee5c-\u0111\xedch-1",children:"M\u1ee5c \u0111\xedch"}),"\n",(0,t.jsx)(n.p,{children:"Chu\u1ea9n h\xf3a format cho error responses, cung c\u1ea5p th\xf4ng tin chi ti\u1ebft v\u1ec1 l\u1ed7i \u0111\u1ec3 debugging v\xe0 user experience t\u1ed1t h\u01a1n."}),"\n",(0,t.jsx)(n.h3,{id:"c\u1ea5u-tr\xfac-1",children:"C\u1ea5u tr\xfac"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"M\xf4 t\u1ea3"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"error"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"T\xean ng\u1eafn g\u1ecdn c\u1ee7a l\u1ed7i"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"message"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"M\xf4 t\u1ea3 chi ti\u1ebft v\u1ec1 l\u1ed7i"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"statusCode"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"HTTP status code"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"path"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"\u0110\u01b0\u1eddng d\u1eabn request g\xe2y l\u1ed7i"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"requestId"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"ID duy nh\u1ea5t cho request tracking"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"timestamp"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"\u2705"}),(0,t.jsx)(n.td,{children:"Th\u1eddi \u0111i\u1ec3m x\u1ea3y ra l\u1ed7i"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"details"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Record<string, unknown>"})}),(0,t.jsx)(n.td,{children:"\u274c"}),(0,t.jsx)(n.td,{children:"Chi ti\u1ebft l\u1ed7i (ch\u1ec9 trong development)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"errors"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string[]"})}),(0,t.jsx)(n.td,{children:"\u274c"}),(0,t.jsx)(n.td,{children:"Array c\xe1c validation errors"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"fieldErrors"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Record<string, Record<string, string>>"})}),(0,t.jsx)(n.td,{children:"\u274c"}),(0,t.jsx)(n.td,{children:"Validation errors theo field"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"method"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"\u274c"}),(0,t.jsx)(n.td,{children:"HTTP method (ch\u1ec9 trong development)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"stack"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"\u274c"}),(0,t.jsx)(n.td,{children:"Stack trace (ch\u1ec9 trong development)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"userAgent"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"\u274c"}),(0,t.jsx)(n.td,{children:"User agent (ch\u1ec9 trong development)"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"usage-example",children:"Usage Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { ErrorResponseDto } from '@ecom-co/utils';\n\n// Trong exception filter\n@Catch(HttpException)\nexport class HttpExceptionFilter implements ExceptionFilter {\n    catch(exception: HttpException, host: ArgumentsHost) {\n        const ctx = host.switchToHttp();\n        const response = ctx.getResponse<Response>();\n        const request = ctx.getRequest<Request>();\n\n        const errorResponse = new ErrorResponseDto();\n        errorResponse.error = exception.getStatusText();\n        errorResponse.message = exception.message;\n        errorResponse.statusCode = exception.getStatus();\n        errorResponse.path = request.url;\n        errorResponse.requestId = request.headers['x-request-id'] || uuid();\n        errorResponse.timestamp = new Date().toISOString();\n\n        response.status(exception.getStatus()).json(errorResponse);\n    }\n}\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["C\xe1c properties nh\u01b0 ",(0,t.jsx)(n.code,{children:"details"}),", ",(0,t.jsx)(n.code,{children:"stack"}),", ",(0,t.jsx)(n.code,{children:"method"}),", ",(0,t.jsx)(n.code,{children:"userAgent"})," ch\u1ec9 n\xean hi\u1ec3n th\u1ecb trong development environment \u0111\u1ec3 tr\xe1nh leak sensitive information."]})}),"\n",(0,t.jsx)(n.h2,{id:"3-pagination-system",children:"3. Pagination System"}),"\n",(0,t.jsx)(n.h3,{id:"31-pagination-dto",children:"3.1 Pagination DTO"}),"\n",(0,t.jsx)(n.h4,{id:"m\u1ee5c-\u0111\xedch-2",children:"M\u1ee5c \u0111\xedch"}),"\n",(0,t.jsx)(n.p,{children:"\u0110\u1ecbnh ngh\u0129a tham s\u1ed1 ph\xe2n trang chu\u1ea9n v\u1edbi limit, page v\xe0 search functionality."}),"\n",(0,t.jsx)(n.h4,{id:"c\u1ea5u-tr\xfac-2",children:"C\u1ea5u tr\xfac"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"M\xf4 t\u1ea3"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"limit"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"10"})}),(0,t.jsx)(n.td,{children:"S\u1ed1 items per page (1-100)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"page"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"1"})}),(0,t.jsx)(n.td,{children:"S\u1ed1 trang (1-based)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"q"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"Search query string"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"validation-rules",children:"Validation Rules"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"@ClampNumber({ min: 1, max: 100 })  // limit: 1-100\n@Min(1)                              // page: >= 1\n@IsInt()                             // limit, page: integers only\n@IsOptional()                        // T\u1ea5t c\u1ea3 \u0111\u1ec1u optional\n"})}),"\n",(0,t.jsx)(n.h3,{id:"32-paginated-response-dto",children:"3.2 Paginated Response DTO"}),"\n",(0,t.jsx)(n.h4,{id:"m\u1ee5c-\u0111\xedch-3",children:"M\u1ee5c \u0111\xedch"}),"\n",(0,t.jsx)(n.p,{children:"Cung c\u1ea5p response format chu\u1ea9n cho paginated data v\u1edbi metadata \u0111\u1ea7y \u0111\u1ee7."}),"\n",(0,t.jsx)(n.h4,{id:"c\u1ea5u-tr\xfac-paging",children:"C\u1ea5u tr\xfac Paging"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"M\xf4 t\u1ea3"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"page"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"Trang hi\u1ec7n t\u1ea1i"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"limit"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"S\u1ed1 items per page"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"total"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"T\u1ed5ng s\u1ed1 items"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"totalPages"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"T\u1ed5ng s\u1ed1 trang"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"currentPageSize"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"S\u1ed1 items trong trang hi\u1ec7n t\u1ea1i"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"hasNextPage"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"boolean"})}),(0,t.jsx)(n.td,{children:"C\xf3 trang ti\u1ebfp theo kh\xf4ng"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"hasPreviousPage"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"boolean"})}),(0,t.jsx)(n.td,{children:"C\xf3 trang tr\u01b0\u1edbc kh\xf4ng"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"startItem"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"Item \u0111\u1ea7u ti\xean trong trang"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"endItem"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"Item cu\u1ed1i c\xf9ng trong trang"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"offset"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"S\u1ed1 items b\u1ecf qua"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"usage-examples-1",children:"Usage Examples"}),"\n",(0,t.jsxs)(c.A,{children:[(0,t.jsx)(d.A,{value:"basic",label:"Basic Pagination",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { ApiPaginatedResponseDto, ApiPaginatedResponseData } from '@ecom-co/utils';\n\n// T\u1ea1o DTO cho Swagger\nconst UsersPaginatedResponseDto = ApiPaginatedResponseDto(UserDto);\n\n// Trong service\nconst users = await this.userService.findAll(page, limit);\nconst total = await this.userService.count();\n\nconst response = new ApiPaginatedResponseData({\n    data: users,\n    paging: new Paging({ page, limit, total }),\n    message: 'Users retrieved successfully',\n});\n"})})}),(0,t.jsx)(d.A,{value:"auto",label:"Auto Calculation",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// T\u1ef1 \u0111\u1ed9ng t\xednh to\xe1n pagination\nconst response = ApiPaginatedResponseData.createWithAutoPaging({\n    data: users,\n    page: 1,\n    limit: 10,\n    total: 95,\n    message: 'Users retrieved successfully',\n});\n"})})})]}),"\n",(0,t.jsx)(n.h3,{id:"33-cursor-pagination",children:"3.3 Cursor Pagination"}),"\n",(0,t.jsx)(n.h4,{id:"m\u1ee5c-\u0111\xedch-4",children:"M\u1ee5c \u0111\xedch"}),"\n",(0,t.jsx)(n.p,{children:"Cung c\u1ea5p cursor-based pagination cho performance t\u1ed1t h\u01a1n v\u1edbi large datasets."}),"\n",(0,t.jsx)(n.h4,{id:"c\u1ea5u-tr\xfac-cursorpaging",children:"C\u1ea5u tr\xfac CursorPaging"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"M\xf4 t\u1ea3"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"nextCursor"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"Cursor cho trang ti\u1ebfp theo"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"hasNextPage"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"boolean"})}),(0,t.jsx)(n.td,{children:"C\xf3 trang ti\u1ebfp theo kh\xf4ng"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"previousCursor"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"Cursor cho trang tr\u01b0\u1edbc"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"hasPreviousPage"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"boolean"})}),(0,t.jsx)(n.td,{children:"C\xf3 trang tr\u01b0\u1edbc kh\xf4ng"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"firstCursor"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"Cursor cho trang \u0111\u1ea7u ti\xean"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"lastCursor"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"Cursor cho trang cu\u1ed1i c\xf9ng"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"currentPageSize"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"S\u1ed1 items trong trang hi\u1ec7n t\u1ea1i"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"usage-example-1",children:"Usage Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { ApiCursorPaginatedResponseDto, ApiCursorPaginatedResponseData } from '@ecom-co/utils';\n\n// T\u1ea1o DTO cho Swagger\nconst UsersCursorPaginatedResponseDto = ApiCursorPaginatedResponseDto(UserDto);\n\n// Trong service\nconst response = ApiCursorPaginatedResponseData.createWithAutoCursors({\n    data: users,\n    limit: 10,\n    nextCursor: 'eyJpZCI6MjB9',\n    total: 95,\n    message: 'Users retrieved successfully',\n});\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"Cursor pagination ph\xf9 h\u1ee3p cho real-time data v\xe0 large datasets, trong khi offset pagination ph\xf9 h\u1ee3p cho small datasets v\xe0 khi c\u1ea7n bi\u1ebft t\u1ed5ng s\u1ed1 items."})}),"\n",(0,t.jsx)(n.h2,{id:"4-order-dto",children:"4. Order DTO"}),"\n",(0,t.jsx)(n.h3,{id:"m\u1ee5c-\u0111\xedch-5",children:"M\u1ee5c \u0111\xedch"}),"\n",(0,t.jsx)(n.p,{children:"\u0110\u1ecbnh ngh\u0129a c\u1ea5u tr\xfac cho vi\u1ec7c s\u1eafp x\u1ebfp/sorting data v\u1edbi field v\xe0 direction."}),"\n",(0,t.jsx)(n.h3,{id:"c\u1ea5u-tr\xfac-3",children:"C\u1ea5u tr\xfac"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"M\xf4 t\u1ea3"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"field"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"T\xean field \u0111\u1ec3 sort"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"direction"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"1 | -1"})}),(0,t.jsx)(n.td,{children:"H\u01b0\u1edbng sort: 1 (ASC), -1 (DESC)"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"validation-rules-1",children:"Validation Rules"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"@IsIn([1, -1])      // direction: ch\u1ec9 cho ph\xe9p 1 ho\u1eb7c -1\n@IsNumber()          // direction: ph\u1ea3i l\xe0 number\n@IsString()          // field: ph\u1ea3i l\xe0 string\n@Type(() => Number)  // Transform direction th\xe0nh number\n"})}),"\n",(0,t.jsx)(n.h3,{id:"usage-example-2",children:"Usage Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { OrderDto } from '@ecom-co/utils';\n\n// Trong query\nconst orderDto = new OrderDto();\norderDto.field = 'createdAt';\norderDto.direction = -1; // DESC\n\n// Ho\u1eb7c t\u1eeb request\n@Query() query: { order?: OrderDto[] }\n// GET /users?order[0][field]=createdAt&order[0][direction]=-1\n"})}),"\n",(0,t.jsx)(n.h2,{id:"5-query-dto",children:"5. Query DTO"}),"\n",(0,t.jsx)(n.h3,{id:"m\u1ee5c-\u0111\xedch-6",children:"M\u1ee5c \u0111\xedch"}),"\n",(0,t.jsx)(n.p,{children:"Cung c\u1ea5p base class cho advanced querying v\u1edbi filtering, ordering v\xe0 field selection."}),"\n",(0,t.jsx)(n.h3,{id:"c\u1ea5u-tr\xfac-base",children:"C\u1ea5u tr\xfac Base"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"M\xf4 t\u1ea3"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"order"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"OrderDto[]"})}),(0,t.jsx)(n.td,{children:"Array c\xe1c field \u0111\u1ec3 sort"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"select"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string[]"})}),(0,t.jsx)(n.td,{children:"Array c\xe1c field c\u1ea7n include trong response"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"jsonlogic-filtering",children:"JsonLogic Filtering"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// V\xed d\u1ee5 filter ph\u1ee9c t\u1ea1p\nconst filter = {\n    and: [\n        { '==': [{ var: 'status' }, 'active'] },\n        { '>': [{ var: 'age' }, 18] },\n        { in: [{ var: 'role' }, ['user', 'admin']] },\n    ],\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"factory-function-1",children:"Factory Function"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import { createCustomQueryDto } from '@ecom-co/utils';\n\n// T\u1ea1o custom query DTO v\u1edbi filter example\nconst UserQueryDto = createCustomQueryDto({\n    and: [\n        { '==': [{ var: 'status' }, 'active'] },\n        { '>': [{ var: 'age' }, 18] }\n    ]\n});\n\n// S\u1eed d\u1ee5ng trong controller\n@Get()\nasync getUsers(@Query() query: UserQueryDto) {\n    // query.filter s\u1ebd c\xf3 type safety\n    return this.userService.findWithFilter(query);\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"usage-examples-2",children:"Usage Examples"}),"\n",(0,t.jsxs)(c.A,{children:[(0,t.jsx)(d.A,{value:"basic",label:"Basic Query",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// GET /users?select[]=id&select[]=name&order[0][field]=createdAt&order[0][direction]=-1\n{\n    select: ['id', 'name'],\n    order: [\n        { field: 'createdAt', direction: -1 }\n    ]\n}\n"})})}),(0,t.jsx)(d.A,{value:"filter",label:"With Filtering",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// GET /users?filter[and][0][==][0][var]=status&filter[and][0][==][1]=active\n{\n    select: ['id', 'name', 'email'],\n    order: [{ field: 'name', direction: 1 }],\n    filter: {\n        and: [\n            { '==': [{ var: 'status' }, 'active'] }\n        ]\n    }\n}\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"integration-v\u1edbi-other-modules",children:"Integration v\u1edbi Other Modules"}),"\n",(0,t.jsx)(n.h3,{id:"swagger-integration",children:"Swagger Integration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// T\u1ef1 \u0111\u1ed9ng generate Swagger documentation\n@ApiResponse({ type: UserResponseDto })\n@ApiResponse({ type: ErrorResponseDto, status: 400 })\nasync getUsers() {\n    // Implementation\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"validation-integration",children:"Validation Integration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// T\u1ef1 \u0111\u1ed9ng validate v\u1edbi class-validator\n@Post()\nasync createUser(@Body() @Validate() userDto: CreateUserDto) {\n    // userDto \u0111\xe3 \u0111\u01b0\u1ee3c validate\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"exception-filter-integration",children:"Exception Filter Integration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// T\u1ef1 \u0111\u1ed9ng format error responses\n@UseFilters(HttpExceptionFilter)\nexport class UsersController {\n    // Controller methods\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Consistent Response Format"}),": Lu\xf4n s\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"ApiResponseDto"})," \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o format nh\u1ea5t qu\xe1n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Proper Error Handling"}),": S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"ErrorResponseDto"})," cho t\u1ea5t c\u1ea3 error responses"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Pagination Strategy"}),": Ch\u1ecdn pagination strategy ph\xf9 h\u1ee3p (offset vs cursor)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Filter Validation"}),": Validate JsonLogic filters tr\u01b0\u1edbc khi s\u1eed d\u1ee5ng"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Field Selection"}),": S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"select"})," \u0111\u1ec3 optimize response size"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Type Safety"}),": Lu\xf4n s\u1eed d\u1ee5ng generic types cho type safety"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Issue 1: Swagger kh\xf4ng hi\u1ec3n th\u1ecb generic types"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Error: Generic types kh\xf4ng \u0111\u01b0\u1ee3c resolve trong Swagger\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution"}),": S\u1eed d\u1ee5ng factory functions nh\u01b0 ",(0,t.jsx)(n.code,{children:"ApiResponseDto(UserDto)"})," thay v\xec generic interfaces."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Issue 2: Validation kh\xf4ng ho\u1ea1t \u0111\u1ed9ng"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Error: Validation decorators kh\xf4ng validate\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution"}),": \u0110\u1ea3m b\u1ea3o \u0111\xe3 enable validation pipe trong main.ts:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"app.useGlobalPipes(\n    new ValidationPipe({\n        transform: true,\n        whitelist: true,\n    }),\n);\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Issue 3: Cursor pagination kh\xf4ng ho\u1ea1t \u0111\u1ed9ng"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Error: Cursor kh\xf4ng \u0111\u01b0\u1ee3c generate \u0111\xfang\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution"}),": S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"createWithAutoCursors"})," method v\xe0 \u0111\u1ea3m b\u1ea3o data c\xf3 field unique \u0111\u1ec3 t\u1ea1o cursor."]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"Lu\xf4n s\u1eed d\u1ee5ng TypeScript strict mode \u0111\u1ec3 catch type errors s\u1edbm v\xe0 \u0111\u1ea3m b\u1ea3o type safety."})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"JsonLogic filters c\xf3 th\u1ec3 complex, h\xe3y validate input k\u1ef9 l\u01b0\u1ee1ng \u0111\u1ec3 tr\xe1nh security issues."})}),"\n",(0,t.jsx)(n.admonition,{type:"danger",children:(0,t.jsx)(n.p,{children:"Kh\xf4ng bao gi\u1edd expose sensitive information trong error responses \u1edf production environment."})})]})}function x(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},11470:(e,n,r)=>{r.d(n,{A:()=>D});var s=r(96540),t=r(34164),i=r(23104),c=r(56347),d=r(205),l=r(57485),o=r(31682),a=r(70679);function h(e){return s.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function u(e){const{values:n,children:r}=e;return(0,s.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:r,default:s}})=>({value:e,label:n,attributes:r,default:s}))}(r);return function(e){const n=(0,o.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,r])}function x({value:e,tabValues:n}){return n.some(n=>n.value===e)}function j({queryString:e=!1,groupId:n}){const r=(0,c.W6)(),t=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(t),(0,s.useCallback)(e=>{if(!t)return;const n=new URLSearchParams(r.location.search);n.set(t,e),r.replace({...r.location,search:n.toString()})},[t,r])]}function g(e){const{defaultValue:n,queryString:r=!1,groupId:t}=e,i=u(e),[c,l]=(0,s.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!x({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const r=n.find(e=>e.default)??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:i})),[o,h]=j({queryString:r,groupId:t}),[g,p]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[r,t]=(0,a.Dv)(n);return[r,(0,s.useCallback)(e=>{n&&t.set(e)},[n,t])]}({groupId:t}),m=(()=>{const e=o??g;return x({value:e,tabValues:i})?e:null})();(0,d.A)(()=>{m&&l(m)},[m]);return{selectedValue:c,selectValue:(0,s.useCallback)(e=>{if(!x({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),p(e)},[h,p,i]),tabValues:i}}var p=r(92303);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=r(74848);function b({className:e,block:n,selectedValue:r,selectValue:s,tabValues:c}){const d=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),o=e=>{const n=e.currentTarget,t=d.indexOf(n),i=c[t].value;i!==r&&(l(n),s(i))},a=e=>{let n=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const r=d.indexOf(e.currentTarget)+1;n=d[r]??d[0];break}case"ArrowLeft":{const r=d.indexOf(e.currentTarget)-1;n=d[r]??d[d.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":n},e),children:c.map(({value:e,label:n,attributes:s})=>(0,v.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{d.push(e)},onKeyDown:a,onClick:o,...s,className:(0,t.A)("tabs__item",m.tabItem,s?.className,{"tabs__item--active":r===e}),children:n??e},e))})}function f({lazy:e,children:n,selectedValue:r}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find(e=>e.props.value===r);return e?(0,s.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:i.map((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==r}))})}function y(e){const n=g(e);return(0,v.jsxs)("div",{className:(0,t.A)("tabs-container",m.tabList),children:[(0,v.jsx)(b,{...n,...e}),(0,v.jsx)(f,{...n,...e})]})}function D(e){const n=(0,p.A)();return(0,v.jsx)(y,{...e,children:h(e.children)},String(n))}},19365:(e,n,r)=>{r.d(n,{A:()=>c});r(96540);var s=r(34164);const t={tabItem:"tabItem_Ymn6"};var i=r(74848);function c({children:e,hidden:n,className:r}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,s.A)(t.tabItem,r),hidden:n,children:e})}},28453:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>d});var s=r(96540);const t={},i=s.createContext(t);function c(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);