"use strict";(self.webpackChunktemplate_docs=self.webpackChunktemplate_docs||[]).push([[540],{11470:(e,n,s)=>{s.d(n,{A:()=>b});var i=s(96540),r=s(34164),t=s(23104),c=s(56347),d=s(205),l=s(57485),o=s(31682),a=s(70679);function h(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function x(e){const{values:n,children:s}=e;return(0,i.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:s,default:i}})=>({value:e,label:n,attributes:s,default:i}))}(s);return function(e){const n=(0,o.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,s])}function u({value:e,tabValues:n}){return n.some(n=>n.value===e)}function j({queryString:e=!1,groupId:n}){const s=(0,c.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(r),(0,i.useCallback)(e=>{if(!r)return;const n=new URLSearchParams(s.location.search);n.set(r,e),s.replace({...s.location,search:n.toString()})},[r,s])]}function p(e){const{defaultValue:n,queryString:s=!1,groupId:r}=e,t=x(e),[c,l]=(0,i.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!u({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find(e=>e.default)??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:t})),[o,h]=j({queryString:s,groupId:r}),[p,m]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,r]=(0,a.Dv)(n);return[s,(0,i.useCallback)(e=>{n&&r.set(e)},[n,r])]}({groupId:r}),g=(()=>{const e=o??p;return u({value:e,tabValues:t})?e:null})();(0,d.A)(()=>{g&&l(g)},[g]);return{selectedValue:c,selectValue:(0,i.useCallback)(e=>{if(!u({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),m(e)},[h,m,t]),tabValues:t}}var m=s(92303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=s(74848);function R({className:e,block:n,selectedValue:s,selectValue:i,tabValues:c}){const d=[],{blockElementScrollPositionUntilNextRender:l}=(0,t.a_)(),o=e=>{const n=e.currentTarget,r=d.indexOf(n),t=c[r].value;t!==s&&(l(n),i(t))},a=e=>{let n=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const s=d.indexOf(e.currentTarget)+1;n=d[s]??d[0];break}case"ArrowLeft":{const s=d.indexOf(e.currentTarget)-1;n=d[s]??d[d.length-1];break}}n?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:c.map(({value:e,label:n,attributes:i})=>(0,y.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{d.push(e)},onKeyDown:a,onClick:o,...i,className:(0,r.A)("tabs__item",g.tabItem,i?.className,{"tabs__item--active":s===e}),children:n??e},e))})}function v({lazy:e,children:n,selectedValue:s}){const t=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=t.find(e=>e.props.value===s);return e?(0,i.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:t.map((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function f(e){const n=p(e);return(0,y.jsxs)("div",{className:(0,r.A)("tabs-container",g.tabList),children:[(0,y.jsx)(R,{...n,...e}),(0,y.jsx)(v,{...n,...e})]})}function b(e){const n=(0,m.A)();return(0,y.jsx)(f,{...e,children:h(e.children)},String(n))}},19365:(e,n,s)=>{s.d(n,{A:()=>c});s(96540);var i=s(34164);const r={tabItem:"tabItem_Ymn6"};var t=s(74848);function c({children:e,hidden:n,className:s}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,i.A)(r.tabItem,s),hidden:n,children:e})}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>d});var i=s(96540);const r={},t=i.createContext(r);function c(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(t.Provider,{value:n},e.children)}},74412:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"ecom-co/libs/redis/docs/redis-api-reference","title":"Redis Module API Reference","description":"Tham kh\u1ea3o \u0111\u1ea7y \u0111\u1ee7 c\xe1c API, decorators, interfaces v\xe0 types c\u1ee7a Redis module.","source":"@site/docs/ecom-co/libs/redis/docs/redis-api-reference.md","sourceDirName":"ecom-co/libs/redis/docs","slug":"/redis-api-reference","permalink":"/document/docs/redis-api-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/ecom-co/document/tree/main/docs/ecom-co/libs/redis/docs/redis-api-reference.md","tags":[{"inline":true,"label":"api-reference","permalink":"/document/docs/tags/api-reference"},{"inline":true,"label":"decorators","permalink":"/document/docs/tags/decorators"},{"inline":true,"label":"interfaces","permalink":"/document/docs/tags/interfaces"},{"inline":true,"label":"types","permalink":"/document/docs/tags/types"},{"inline":true,"label":"redis-module","permalink":"/document/docs/tags/redis-module"}],"version":"current","frontMatter":{"id":"redis-api-reference","title":"Redis Module API Reference","sidebar_label":"API Reference","slug":"/redis-api-reference","description":"Tham kh\u1ea3o \u0111\u1ea7y \u0111\u1ee7 c\xe1c API, decorators, interfaces v\xe0 types c\u1ee7a Redis module.","tags":["api-reference","decorators","interfaces","types","redis-module"]},"sidebar":"tutorialSidebar","previous":{"title":"RedisFacade","permalink":"/document/docs/redis-facade"},"next":{"title":"TypeORM Library","permalink":"/document/docs/ecom-co/libs/typeorm/typeorm-library"}}');var r=s(74848),t=s(28453);s(11470),s(19365);const c={id:"redis-api-reference",title:"Redis Module API Reference",sidebar_label:"API Reference",slug:"/redis-api-reference",description:"Tham kh\u1ea3o \u0111\u1ea7y \u0111\u1ee7 c\xe1c API, decorators, interfaces v\xe0 types c\u1ee7a Redis module.",tags:["api-reference","decorators","interfaces","types","redis-module"]},d=void 0,l={},o=[{value:"Decorators",id:"decorators",level:2},{value:"@InjectRedis",id:"injectredis",level:3},{value:"@InjectRedisFacade",id:"injectredisfacade",level:3},{value:"Core Classes",id:"core-classes",level:2},{value:"RedisModule",id:"redismodule",level:3},{value:"Static Methods",id:"static-methods",level:4},{value:"<code>forRoot(options: RedisModuleOptions): DynamicModule</code>",id:"forrootoptions-redismoduleoptions-dynamicmodule",level:5},{value:"<code>forRootAsync(options: RedisModuleAsyncOptions): DynamicModule</code>",id:"forrootasyncoptions-redismoduleasyncoptions-dynamicmodule",level:5},{value:"RedisService",id:"redisservice",level:3},{value:"Methods",id:"methods",level:4},{value:"<code>get(name?: string): RedisClient</code>",id:"getname-string-redisclient",level:5},{value:"<code>use(name?: string, prefix?: string): RedisFacade</code>",id:"usename-string-prefix-string-redisfacade",level:5},{value:"RedisFacade",id:"redisfacade",level:3},{value:"Constructor",id:"constructor",level:4},{value:"Core Methods",id:"core-methods",level:4},{value:"Basic Operations",id:"basic-operations",level:5},{value:"Hash Operations",id:"hash-operations",level:5},{value:"List Operations",id:"list-operations",level:5},{value:"Set Operations",id:"set-operations",level:5},{value:"Sorted Set Operations",id:"sorted-set-operations",level:5},{value:"Advanced Operations",id:"advanced-operations",level:5},{value:"Interfaces",id:"interfaces",level:2},{value:"RedisModuleOptions",id:"redismoduleoptions",level:3},{value:"RedisModuleAsyncOptions",id:"redismoduleasyncoptions",level:3},{value:"RedisClientOptions",id:"redisclientoptions",level:3},{value:"SingleClientOptions",id:"singleclientoptions",level:3},{value:"ClusterClientOptions",id:"clusterclientoptions",level:3},{value:"SentinelClientOptions",id:"sentinelclientoptions",level:3},{value:"RedisSetOptions",id:"redissetoptions",level:3},{value:"BatchOperation",id:"batchoperation",level:3},{value:"LockResult",id:"lockresult",level:3},{value:"RateLimitResult",id:"ratelimitresult",level:3},{value:"HealthCheckResult",id:"healthcheckresult",level:3},{value:"CacheStats",id:"cachestats",level:3},{value:"Utility Functions",id:"utility-functions",level:2},{value:"checkRedisHealthy",id:"checkredishealthy",level:3},{value:"defineRedisNames",id:"defineredisnames",level:3},{value:"Constants",id:"constants",level:2},{value:"REDIS_DEFAULT_CLIENT_NAME",id:"redis_default_client_name",level:3},{value:"REDIS_MODULE_OPTIONS",id:"redis_module_options",level:3},{value:"getRedisClientToken",id:"getredisclienttoken",level:3},{value:"getRedisFacadeToken",id:"getredisfacadetoken",level:3},{value:"Type Utilities",id:"type-utilities",level:2},{value:"RedisClientNamesFromOptions",id:"redisclientnamesfromoptions",level:3},{value:"RedisClientNamesFromPredeclare",id:"redisclientnamesfrompredeclare",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Common Error Types",id:"common-error-types",level:3},{value:"Error Handling Best Practices",id:"error-handling-best-practices",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Batch Operations",id:"batch-operations",level:3},{value:"Pipeline Usage",id:"pipeline-usage",level:3},{value:"Key Design",id:"key-design",level:3}];function a(e){const n={admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"T\xe0i li\u1ec7u n\xe0y cung c\u1ea5p tham kh\u1ea3o \u0111\u1ea7y \u0111\u1ee7 v\u1ec1 c\xe1c API, decorators, interfaces v\xe0 types c\u1ee7a Redis module. S\u1eed d\u1ee5ng \u0111\u1ec3 hi\u1ec3u r\xf5 c\xe1ch s\u1eed d\u1ee5ng t\u1eebng th\xe0nh ph\u1ea7n."})}),"\n",(0,r.jsx)(n.h2,{id:"decorators",children:"Decorators"}),"\n",(0,r.jsx)(n.h3,{id:"injectredis",children:"@InjectRedis"}),"\n",(0,r.jsx)(n.p,{children:"Inject Redis client instance v\xe0o service ho\u1eb7c controller."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { InjectRedis } from '@ecom-co/redis';\nimport type { Redis } from 'ioredis';\n\n@Injectable()\nexport class CacheService {\n    constructor(\n        @InjectRedis() private readonly redis: Redis, // Default client\n        @InjectRedis('cache') private readonly cache: Redis, // Named client\n        @InjectRedis('session') private readonly session: Redis, // Another named client\n    ) {}\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name?: string"})," - T\xean Redis client (case-insensitive, m\u1eb7c \u0111\u1ecbnh: 'default')"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns:"})," ",(0,r.jsx)(n.code,{children:"ParameterDecorator"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Inject default Redis client\n@InjectRedis()\nprivate readonly redis: Redis;\n\n// Inject named Redis client\n@InjectRedis('cache')\nprivate readonly cacheRedis: Redis;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"injectredisfacade",children:"@InjectRedisFacade"}),"\n",(0,r.jsx)(n.p,{children:"Inject RedisFacade instance v\xe0o service ho\u1eb7c controller."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { InjectRedisFacade } from '@ecom-co/redis';\nimport { RedisFacade } from '@ecom-co/redis';\n\n@Injectable()\nexport class UserService {\n    constructor(\n        @InjectRedisFacade() private readonly cache: RedisFacade, // Default facade\n        @InjectRedisFacade('cache') private readonly cacheFacade: RedisFacade, // Named facade\n        @InjectRedisFacade('session') private readonly sessionFacade: RedisFacade, // Another named facade\n    ) {}\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name?: string"})," - T\xean RedisFacade (case-insensitive, m\u1eb7c \u0111\u1ecbnh: 'default')"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns:"})," ",(0,r.jsx)(n.code,{children:"ParameterDecorator"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Inject default RedisFacade\n@InjectRedisFacade()\nprivate readonly cache: RedisFacade;\n\n// Inject named RedisFacade\n@InjectRedisFacade('user-cache')\nprivate readonly userCache: RedisFacade;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"core-classes",children:"Core Classes"}),"\n",(0,r.jsx)(n.h3,{id:"redismodule",children:"RedisModule"}),"\n",(0,r.jsx)(n.p,{children:"Module ch\xednh \u0111\u1ec3 t\xedch h\u1ee3p Redis v\xe0o \u1ee9ng d\u1ee5ng NestJS."}),"\n",(0,r.jsx)(n.h4,{id:"static-methods",children:"Static Methods"}),"\n",(0,r.jsx)(n.h5,{id:"forrootoptions-redismoduleoptions-dynamicmodule",children:(0,r.jsx)(n.code,{children:"forRoot(options: RedisModuleOptions): DynamicModule"})}),"\n",(0,r.jsx)(n.p,{children:"C\u1ea5u h\xecnh Redis module v\u1edbi options t\u0129nh."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"RedisModule.forRoot({\n    clients: [\n        {\n            type: 'single',\n            name: 'default',\n            host: 'localhost',\n            port: 6379,\n        },\n    ],\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"options: RedisModuleOptions"})," - C\u1ea5u h\xecnh Redis module"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns:"})," ",(0,r.jsx)(n.code,{children:"DynamicModule"})]}),"\n",(0,r.jsx)(n.h5,{id:"forrootasyncoptions-redismoduleasyncoptions-dynamicmodule",children:(0,r.jsx)(n.code,{children:"forRootAsync(options: RedisModuleAsyncOptions): DynamicModule"})}),"\n",(0,r.jsx)(n.p,{children:"C\u1ea5u h\xecnh Redis module v\u1edbi options b\u1ea5t \u0111\u1ed3ng b\u1ed9."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"RedisModule.forRootAsync({\n    imports: [ConfigModule],\n    inject: [ConfigService],\n    useFactory: (config: ConfigService) => ({\n        clients: [\n            {\n                type: 'single',\n                name: 'default',\n                host: config.get('REDIS_HOST'),\n                port: config.get('REDIS_PORT'),\n            },\n        ],\n    }),\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"options: RedisModuleAsyncOptions"})," - C\u1ea5u h\xecnh Redis module b\u1ea5t \u0111\u1ed3ng b\u1ed9"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns:"})," ",(0,r.jsx)(n.code,{children:"DynamicModule"})]}),"\n",(0,r.jsx)(n.h3,{id:"redisservice",children:"RedisService"}),"\n",(0,r.jsx)(n.p,{children:"Service \u0111\u1ec3 qu\u1ea3n l\xfd c\xe1c Redis client connections."}),"\n",(0,r.jsx)(n.h4,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.h5,{id:"getname-string-redisclient",children:(0,r.jsx)(n.code,{children:"get(name?: string): RedisClient"})}),"\n",(0,r.jsx)(n.p,{children:"L\u1ea5y Redis client theo t\xean."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const redisClient = this.redisService.get('default');\nconst cacheClient = this.redisService.get('cache');\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name?: string"})," - T\xean Redis client (m\u1eb7c \u0111\u1ecbnh: 'default')"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns:"})," ",(0,r.jsx)(n.code,{children:"RedisClient"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Throws:"})," ",(0,r.jsx)(n.code,{children:"Error"})," n\u1ebfu client kh\xf4ng t\u1ed3n t\u1ea1i"]}),"\n",(0,r.jsx)(n.h5,{id:"usename-string-prefix-string-redisfacade",children:(0,r.jsx)(n.code,{children:"use(name?: string, prefix?: string): RedisFacade"})}),"\n",(0,r.jsx)(n.p,{children:"T\u1ea1o RedisFacade instance v\u1edbi optional key prefix."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const cache = this.redisService.use('default', 'app:');\nconst userCache = this.redisService.use('default', 'user:');\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name?: string"})," - T\xean Redis client (m\u1eb7c \u0111\u1ecbnh: 'default')"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"prefix?: string"})," - Key prefix cho t\u1ea5t c\u1ea3 operations"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns:"})," ",(0,r.jsx)(n.code,{children:"RedisFacade"})]}),"\n",(0,r.jsx)(n.h3,{id:"redisfacade",children:"RedisFacade"}),"\n",(0,r.jsx)(n.p,{children:"L\u1edbp wrapper cao c\u1ea5p cho Redis v\u1edbi c\xe1c t\xednh n\u0103ng n\xe2ng cao."}),"\n",(0,r.jsx)(n.h4,{id:"constructor",children:"Constructor"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"constructor(\n  client: RedisClient,\n  keyPrefix?: string,\n  config?: Partial<RedisFacadeConfig>,\n  logger?: Logger\n)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"client: RedisClient"})," - Redis client instance"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"keyPrefix?: string"})," - Prefix cho t\u1ea5t c\u1ea3 keys (m\u1eb7c \u0111\u1ecbnh: '')"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"config?: Partial<RedisFacadeConfig>"})," - C\u1ea5u h\xecnh t\xf9y ch\u1ec9nh"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"logger?: Logger"})," - Logger instance (m\u1eb7c \u0111\u1ecbnh: console)"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"core-methods",children:"Core Methods"}),"\n",(0,r.jsx)(n.h5,{id:"basic-operations",children:"Basic Operations"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Returns"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"get<T>(key: string)"})}),(0,r.jsx)(n.td,{children:"L\u1ea5y value theo key"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<T | null>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"set(key: string, value: unknown, options?: RedisSetOptions)"})}),(0,r.jsx)(n.td,{children:"Set value v\u1edbi options"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<string | null>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"del(keyOrPattern: string)"})}),(0,r.jsx)(n.td,{children:"X\xf3a key ho\u1eb7c keys theo pattern"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<number>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"exists(...keys: string[])"})}),(0,r.jsx)(n.td,{children:"Ki\u1ec3m tra s\u1ef1 t\u1ed3n t\u1ea1i c\u1ee7a keys"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<number>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expire(key: string, ttlSeconds: number)"})}),(0,r.jsx)(n.td,{children:"Set TTL cho key"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<boolean>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ttl(key: string)"})}),(0,r.jsx)(n.td,{children:"L\u1ea5y TTL c\u1ee7a key"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<number>"})})]})]})]}),"\n",(0,r.jsx)(n.h5,{id:"hash-operations",children:"Hash Operations"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Returns"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hget<T>(key: string, field: string)"})}),(0,r.jsx)(n.td,{children:"L\u1ea5y field value t\u1eeb hash"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<T | null>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hset(key: string, field: string, value: unknown)"})}),(0,r.jsx)(n.td,{children:"Set field value trong hash"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<number>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hgetall<T>(key: string)"})}),(0,r.jsx)(n.td,{children:"L\u1ea5y t\u1ea5t c\u1ea3 fields t\u1eeb hash"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<T>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hmsetObject(key: string, obj: Record<string, Primitive>)"})}),(0,r.jsx)(n.td,{children:"Set multiple fields"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<'OK'>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hmgetObject<T>(key: string, fields: string[])"})}),(0,r.jsx)(n.td,{children:"L\u1ea5y multiple fields"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<T>"})})]})]})]}),"\n",(0,r.jsx)(n.h5,{id:"list-operations",children:"List Operations"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Returns"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"lpush(key: string, ...values: unknown[])"})}),(0,r.jsx)(n.td,{children:"Push values v\xe0o \u0111\u1ea7u list"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<number>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rpush(key: string, ...values: unknown[])"})}),(0,r.jsx)(n.td,{children:"Push values v\xe0o cu\u1ed1i list"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<number>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"lpop<T>(key: string, count?: number)"})}),(0,r.jsx)(n.td,{children:"Pop values t\u1eeb \u0111\u1ea7u list"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<T | T[] | null>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rpop<T>(key: string, count?: number)"})}),(0,r.jsx)(n.td,{children:"Pop values t\u1eeb cu\u1ed1i list"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<T | T[] | null>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"lrange<T>(key: string, start: number, stop: number)"})}),(0,r.jsx)(n.td,{children:"L\u1ea5y range c\u1ee7a list"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<T[]>"})})]})]})]}),"\n",(0,r.jsx)(n.h5,{id:"set-operations",children:"Set Operations"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Returns"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sadd(key: string, ...members: unknown[])"})}),(0,r.jsx)(n.td,{children:"Th\xeam members v\xe0o set"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<number>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"srem(key: string, ...members: unknown[])"})}),(0,r.jsx)(n.td,{children:"X\xf3a members kh\u1ecfi set"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<number>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"smembers<T>(key: string)"})}),(0,r.jsx)(n.td,{children:"L\u1ea5y t\u1ea5t c\u1ea3 members c\u1ee7a set"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<T[]>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sismember(key: string, member: unknown)"})}),(0,r.jsx)(n.td,{children:"Ki\u1ec3m tra member c\xf3 trong set"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<boolean>"})})]})]})]}),"\n",(0,r.jsx)(n.h5,{id:"sorted-set-operations",children:"Sorted Set Operations"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Returns"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"zadd(key: string, ...scoreMembers: Array<number | string>)"})}),(0,r.jsx)(n.td,{children:"Th\xeam members v\u1edbi scores"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<number>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"zrange<T>(key: string, start: number, stop: number, withScores?: boolean)"})}),(0,r.jsx)(n.td,{children:"L\u1ea5y range theo index"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<T[] | Array<{member: T, score: number}>>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"zscore(key: string, member: unknown)"})}),(0,r.jsx)(n.td,{children:"L\u1ea5y score c\u1ee7a member"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<number | null>"})})]})]})]}),"\n",(0,r.jsx)(n.h5,{id:"advanced-operations",children:"Advanced Operations"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Returns"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"getOrSet<T>(key: string, ttlSeconds: number, loader: () => Promise<T>)"})}),(0,r.jsx)(n.td,{children:"Cache-Aside pattern"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<T>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"acquireLock(key: string, ttlMs: number)"})}),(0,r.jsx)(n.td,{children:"Acquire distributed lock"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<LockResult>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rateLimit(key: string, limit: number, windowMs: number)"})}),(0,r.jsx)(n.td,{children:"Fixed window rate limiting"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<RateLimitResult>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"executeBatch(operations: BatchOperation[])"})}),(0,r.jsx)(n.td,{children:"Execute batch operations"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<unknown[]>"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"healthCheck()"})}),(0,r.jsx)(n.td,{children:"Basic health check"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Promise<HealthCheckResult>"})})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"interfaces",children:"Interfaces"}),"\n",(0,r.jsx)(n.h3,{id:"redismoduleoptions",children:"RedisModuleOptions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"interface RedisModuleOptions {\n    clients: RedisClientOptions[];\n    logger?: LoggerService;\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Properties:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"clients: RedisClientOptions[]"})," - Danh s\xe1ch Redis client configurations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"logger?: LoggerService"})," - Optional logger cho connection lifecycle"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"redismoduleasyncoptions",children:"RedisModuleAsyncOptions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"interface RedisModuleAsyncOptions<TArgs extends readonly any[] = readonly any[]>\n    extends Pick<ModuleMetadata, 'imports'> {\n    inject?: ((new (...args: any[]) => unknown) | string | symbol)[];\n    useFactory: (...args: TArgs) => Promise<RedisModuleOptions> | RedisModuleOptions;\n    predeclare?: string[];\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Properties:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"inject?: ((new (...args: any[]) => unknown) | string | symbol)[]"})," - Dependencies \u0111\u1ec3 inject v\xe0o useFactory"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"useFactory: (...args: TArgs) => Promise<RedisModuleOptions> | RedisModuleOptions"})," - Factory function \u0111\u1ec3 t\u1ea1o options"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"predeclare?: string[]"})," - Danh s\xe1ch client names \u0111\u1ec3 predeclare DI tokens"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"redisclientoptions",children:"RedisClientOptions"}),"\n",(0,r.jsx)(n.p,{children:"Union type c\u1ee7a t\u1ea5t c\u1ea3 Redis client options:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"type RedisClientOptions = ClusterClientOptions | SentinelClientOptions | SingleClientOptions;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"singleclientoptions",children:"SingleClientOptions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"type SingleClientOptions = RedisOptions & {\n    name?: string;\n    type: 'single';\n    connectionString?: string;\n};\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Properties:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name?: string"})," - T\xean client cho DI"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"type: 'single'"})," - Lo\u1ea1i client (ph\u1ea3i l\xe0 'single')"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"connectionString?: string"})," - Connection string ho\xe0n ch\u1ec9nh"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"clusterclientoptions",children:"ClusterClientOptions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"type ClusterClientOptions = ClusterOptions & {\n    name?: string;\n    type: 'cluster';\n    nodes: Array<ClusterNode | string>;\n};\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Properties:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name?: string"})," - T\xean client cho DI"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"type: 'cluster'"})," - Lo\u1ea1i client (ph\u1ea3i l\xe0 'cluster')"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"nodes: Array<ClusterNode | string>"})," - Danh s\xe1ch cluster nodes"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sentinelclientoptions",children:"SentinelClientOptions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"type SentinelClientOptions = Omit<RedisOptions, 'name' | 'sentinelPassword' | 'sentinels' | 'sentinelUsername'> & {\n    type: 'sentinel';\n    name?: string;\n    sentinels: SentinelAddress[];\n    sentinelName: string;\n    sentinelPassword?: string;\n    sentinelUsername?: string;\n};\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Properties:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name?: string"})," - T\xean client cho DI"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"type: 'sentinel'"})," - Lo\u1ea1i client (ph\u1ea3i l\xe0 'sentinel')"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sentinels: SentinelAddress[]"})," - Danh s\xe1ch sentinel nodes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sentinelName: string"})," - T\xean master trong sentinel"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sentinelPassword?: string"})," - Password cho sentinel nodes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sentinelUsername?: string"})," - Username cho sentinel nodes"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"redissetoptions",children:"RedisSetOptions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"type RedisSetOptions = {\n    ttlSeconds?: number; // Expire after N seconds (EX)\n    pxMs?: number; // Expire after N milliseconds (PX)\n    exAtSec?: number; // Expire at UNIX time in seconds (EXAT)\n    pxAtMs?: number; // Expire at UNIX time in milliseconds (PXAT)\n    keepTtl?: boolean; // Keep existing TTL (KEEPTTL)\n    mode?: 'NX' | 'XX'; // NX: only set if not exists; XX: only set if exists\n    get?: boolean; // Return the old value (GET)\n};\n"})}),"\n",(0,r.jsx)(n.h3,{id:"batchoperation",children:"BatchOperation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"type BatchOperation = {\n    amount?: number;\n    key: string;\n    operation: 'decr' | 'del' | 'get' | 'incr' | 'set';\n    options?: RedisSetOptions;\n    value?: unknown;\n};\n"})}),"\n",(0,r.jsx)(n.h3,{id:"lockresult",children:"LockResult"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"type LockResult = {\n    error?: string;\n    ok: boolean;\n    release?: () => Promise<boolean>;\n    token?: string;\n    ttl?: number;\n};\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ratelimitresult",children:"RateLimitResult"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"type RateLimitResult = {\n    allowed: boolean;\n    remaining: number;\n    resetTime?: number;\n    retryAfter?: number;\n};\n"})}),"\n",(0,r.jsx)(n.h3,{id:"healthcheckresult",children:"HealthCheckResult"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"type HealthCheckResult = {\n    error?: string;\n    latency: number;\n    status: 'healthy' | 'unhealthy';\n    timestamp: number;\n};\n"})}),"\n",(0,r.jsx)(n.h3,{id:"cachestats",children:"CacheStats"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"type CacheStats = {\n    hitRate: number;\n    memoryUsage: string;\n    missRate: number;\n    totalKeys: number;\n    totalRequests: number;\n};\n"})}),"\n",(0,r.jsx)(n.h2,{id:"utility-functions",children:"Utility Functions"}),"\n",(0,r.jsx)(n.h3,{id:"checkredishealthy",children:"checkRedisHealthy"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export const checkRedisHealthy = async (\n  client: Redis,\n  key = 'redis'\n): Promise<HealthIndicatorResult>\n"})}),"\n",(0,r.jsx)(n.p,{children:"Ki\u1ec3m tra s\u1ee9c kh\u1ecfe Redis client b\u1eb1ng PING command."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"client: Redis"})," - Redis client instance"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"key?: string"})," - Key name cho health check result (m\u1eb7c \u0111\u1ecbnh: 'redis')"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns:"})," ",(0,r.jsx)(n.code,{children:"Promise<HealthIndicatorResult>"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { checkRedisHealthy } from '@ecom-co/redis';\n\n@Get('health')\nasync check() {\n  return await this.health.check([\n    () => checkRedisHealthy(redisClient, 'redis'),\n  ]);\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"defineredisnames",children:"defineRedisNames"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export const defineRedisNames = <const T extends readonly string[]>(\n  names: T\n): { [K in T[number]]: K }\n"})}),"\n",(0,r.jsxs)(n.p,{children:["T\u1ea1o typed map c\u1ee7a client names \u0111\u1ec3 tr\xe1nh ",(0,r.jsx)(n.code,{children:"as"})," assertions khi injecting."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"names: T"})," - Array c\u1ee7a client names as const"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns:"})," ",(0,r.jsx)(n.code,{children:"{ [K in T[number]]: K }"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { defineRedisNames } from '@ecom-co/redis';\n\nconst NAMES = ['FORWARD', 'CACHE'] as const;\nconst RedisNames = defineRedisNames(NAMES);\n\n// S\u1eed d\u1ee5ng\n@InjectRedis(RedisNames.FORWARD)\nprivate readonly forwardRedis: Redis;\n\n@InjectRedis(RedisNames.CACHE)\nprivate readonly cacheRedis: Redis;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"constants",children:"Constants"}),"\n",(0,r.jsx)(n.h3,{id:"redis_default_client_name",children:"REDIS_DEFAULT_CLIENT_NAME"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export const REDIS_DEFAULT_CLIENT_NAME = 'default';\n"})}),"\n",(0,r.jsx)(n.p,{children:"T\xean m\u1eb7c \u0111\u1ecbnh cho Redis client."}),"\n",(0,r.jsx)(n.h3,{id:"redis_module_options",children:"REDIS_MODULE_OPTIONS"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export const REDIS_MODULE_OPTIONS = Symbol('REDIS_MODULE_OPTIONS');\n"})}),"\n",(0,r.jsx)(n.p,{children:"Dependency injection token cho Redis module options."}),"\n",(0,r.jsx)(n.h3,{id:"getredisclienttoken",children:"getRedisClientToken"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export const getRedisClientToken = (name?: string): string\n"})}),"\n",(0,r.jsx)(n.p,{children:"L\u1ea5y DI token cho Redis client theo t\xean."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name?: string"})," - T\xean client (case-insensitive)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns:"})," ",(0,r.jsx)(n.code,{children:"string"})," - DI token"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const token = getRedisClientToken('cache'); // 'REDIS_CLIENT_CACHE'\nconst defaultToken = getRedisClientToken(); // 'REDIS_CLIENT'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"getredisfacadetoken",children:"getRedisFacadeToken"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export const getRedisFacadeToken = (name?: string): string\n"})}),"\n",(0,r.jsx)(n.p,{children:"L\u1ea5y DI token cho RedisFacade theo t\xean."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name?: string"})," - T\xean facade (case-insensitive)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Returns:"})," ",(0,r.jsx)(n.code,{children:"string"})," - DI token"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const token = getRedisFacadeToken('cache'); // 'REDIS_FACADE_CACHE'\nconst defaultToken = getRedisFacadeToken(); // 'REDIS_FACADE'\n"})}),"\n",(0,r.jsx)(n.h2,{id:"type-utilities",children:"Type Utilities"}),"\n",(0,r.jsx)(n.h3,{id:"redisclientnamesfromoptions",children:"RedisClientNamesFromOptions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export type RedisClientNamesFromOptions<T extends { clients: ReadonlyArray<{ name?: string }> }> =\n    | 'default'\n    | Lowercase<Extract<T['clients'][number]['name'], string>>;\n"})}),"\n",(0,r.jsx)(n.p,{children:"Derive client name unions t\u1eeb module options t\u1ea1i compile time."}),"\n",(0,r.jsx)(n.h3,{id:"redisclientnamesfrompredeclare",children:"RedisClientNamesFromPredeclare"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export type RedisClientNamesFromPredeclare<TNames extends ReadonlyArray<string>> =\n    | 'default'\n    | Lowercase<TNames[number]>;\n"})}),"\n",(0,r.jsx)(n.p,{children:"Derive client name unions t\u1eeb predeclare list t\u1ea1i compile time."}),"\n",(0,r.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(n.h3,{id:"common-error-types",children:"Common Error Types"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Error Message"}),(0,r.jsx)(n.th,{children:"Cause"}),(0,r.jsx)(n.th,{children:"Solution"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Redis client not found: {name}"})}),(0,r.jsx)(n.td,{children:"Client name kh\xf4ng t\u1ed3n t\u1ea1i"}),(0,r.jsx)(n.td,{children:"Ki\u1ec3m tra t\xean client trong configuration"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Circuit breaker is open for {operation}"})}),(0,r.jsx)(n.td,{children:"Circuit breaker \u0111\xe3 m\u1edf"}),(0,r.jsx)(n.td,{children:"\u0110\u1ee3i timeout ho\u1eb7c reset circuit breaker"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Failed to acquire lock for key: {key}"})}),(0,r.jsx)(n.td,{children:"Kh\xf4ng th\u1ec3 acquire distributed lock"}),(0,r.jsx)(n.td,{children:"Ki\u1ec3m tra lock TTL ho\u1eb7c retry"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Rate limit exceeded"})}),(0,r.jsx)(n.td,{children:"V\u01b0\u1ee3t qu\xe1 rate limit"}),(0,r.jsx)(n.td,{children:"\u0110\u1ee3i reset time ho\u1eb7c gi\u1ea3m request frequency"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"error-handling-best-practices",children:"Error Handling Best Practices"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"try {\n    const result = await this.cache.get('key');\n    return result;\n} catch (error) {\n    // Handle specific error types\n    if (error.message.includes('Circuit breaker is open')) {\n        // Fallback strategy\n        return await this.databaseFallback();\n    }\n\n    if (error.message.includes('Rate limit exceeded')) {\n        // Rate limit handling\n        throw new TooManyRequestsException();\n    }\n\n    // Log and rethrow\n    this.logger.error('Redis operation failed', error);\n    throw error;\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"batch-operations",children:"Batch Operations"}),"\n",(0,r.jsx)(n.p,{children:"S\u1eed d\u1ee5ng batch operations thay v\xec multiple single operations:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// \u274c Kh\xf4ng t\u1ed1t\nfor (const key of keys) {\n    await this.cache.get(key);\n}\n\n// \u2705 T\u1ed1t h\u01a1n\nawait this.cache.mget(keys);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"pipeline-usage",children:"Pipeline Usage"}),"\n",(0,r.jsx)(n.p,{children:"S\u1eed d\u1ee5ng pipeline cho complex operations:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const pipeline = this.cache.pipeline();\npipeline.set('key1', 'value1');\npipeline.set('key2', 'value2');\npipeline.get('key3');\nconst results = await pipeline.exec();\n"})}),"\n",(0,r.jsx)(n.h3,{id:"key-design",children:"Key Design"}),"\n",(0,r.jsx)(n.p,{children:"Thi\u1ebft k\u1ebf keys h\u1ee3p l\xfd:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// \u274c Kh\xf4ng t\u1ed1t\nawait this.cache.set('user_123_profile_name', 'John');\nawait this.cache.set('user_123_profile_email', 'john@example.com');\n\n// \u2705 T\u1ed1t h\u01a1n\nawait this.cache.hmsetObject('user:123:profile', {\n    name: 'John',\n    email: 'john@example.com',\n});\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);