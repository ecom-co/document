"use strict";(self.webpackChunktemplate_docs=self.webpackChunktemplate_docs||[]).push([[1145],{2223:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"overview/controllers","title":"Controllers","description":"T\xecm hi\u1ec3u v\u1ec1 Controllers - c\xe1ch NestJS x\u1eed l\xfd HTTP requests v\xe0 \u0111\u1ecbnh ngh\u0129a API endpoints","source":"@site/docs/overview/controllers.md","sourceDirName":"overview","slug":"/overview/controllers","permalink":"/document/vi/docs/overview/controllers","draft":false,"unlisted":false,"editUrl":"https://github.com/ecom-co/document/tree/main/docs/overview/controllers.md","tags":[],"version":"current","frontMatter":{"title":"Controllers","description":"T\xecm hi\u1ec3u v\u1ec1 Controllers - c\xe1ch NestJS x\u1eed l\xfd HTTP requests v\xe0 \u0111\u1ecbnh ngh\u0129a API endpoints"},"sidebar":"tutorialSidebar","previous":{"title":"Modules","permalink":"/document/vi/docs/overview/modules"},"next":{"title":"Providers","permalink":"/document/vi/docs/overview/providers"}}');var t=r(4848),i=r(8453);const l={title:"Controllers",description:"T\xecm hi\u1ec3u v\u1ec1 Controllers - c\xe1ch NestJS x\u1eed l\xfd HTTP requests v\xe0 \u0111\u1ecbnh ngh\u0129a API endpoints"},o="Controllers",d={},c=[{value:"Controllers l\xe0 g\xec?",id:"controllers-l\xe0-g\xec",level:2},{value:"L\xfd thuy\u1ebft v\u1ec1 Controllers",id:"l\xfd-thuy\u1ebft-v\u1ec1-controllers",level:2},{value:"Nguy\xean l\xfd ho\u1ea1t \u0111\u1ed9ng",id:"nguy\xean-l\xfd-ho\u1ea1t-\u0111\u1ed9ng",level:3},{value:"Controller Metadata",id:"controller-metadata",level:3},{value:"T\u1ea1o Controller c\u01a1 b\u1ea3n",id:"t\u1ea1o-controller-c\u01a1-b\u1ea3n",level:2},{value:"C\u1ea5u tr\xfac Controller",id:"c\u1ea5u-tr\xfac-controller",level:2},{value:"Route Prefix",id:"route-prefix",level:3},{value:"HTTP Methods",id:"http-methods",level:3},{value:"Route Handlers",id:"route-handlers",level:3},{value:"Dependencies",id:"dependencies",level:3},{value:"HTTP Methods",id:"http-methods-1",level:2},{value:"1. GET - L\u1ea5y d\u1eef li\u1ec7u",id:"1-get---l\u1ea5y-d\u1eef-li\u1ec7u",level:3},{value:"2. POST - T\u1ea1o m\u1edbi",id:"2-post---t\u1ea1o-m\u1edbi",level:3},{value:"3. PUT - C\u1eadp nh\u1eadt to\xe0n b\u1ed9",id:"3-put---c\u1eadp-nh\u1eadt-to\xe0n-b\u1ed9",level:3},{value:"4. PATCH - C\u1eadp nh\u1eadt m\u1ed9t ph\u1ea7n",id:"4-patch---c\u1eadp-nh\u1eadt-m\u1ed9t-ph\u1ea7n",level:3},{value:"5. DELETE - X\xf3a d\u1eef li\u1ec7u",id:"5-delete---x\xf3a-d\u1eef-li\u1ec7u",level:3},{value:"T\u1ed5ng h\u1ee3p HTTP Methods",id:"t\u1ed5ng-h\u1ee3p-http-methods",level:2},{value:"B\u1ea3ng so s\xe1nh c\xe1c HTTP Methods",id:"b\u1ea3ng-so-s\xe1nh-c\xe1c-http-methods",level:3},{value:"\u0110\u1eb7c \u0111i\u1ec3m chi ti\u1ebft",id:"\u0111\u1eb7c-\u0111i\u1ec3m-chi-ti\u1ebft",level:3},{value:"<strong>Idempotent Methods</strong>",id:"idempotent-methods",level:4},{value:"<strong>Safe Methods</strong>",id:"safe-methods",level:4},{value:"<strong>Cacheable Methods</strong>",id:"cacheable-methods",level:4},{value:"<strong>Request Body</strong>",id:"request-body",level:4},{value:"<strong>Parameters</strong>",id:"parameters",level:4},{value:"Best Practices cho HTTP Methods",id:"best-practices-cho-http-methods",level:3},{value:"Route Parameters",id:"route-parameters",level:2},{value:"Path Parameters",id:"path-parameters",level:3},{value:"Query Parameters",id:"query-parameters",level:3},{value:"Request Body",id:"request-body-1",level:3},{value:"Route Prefixes v\xe0 Nested Routes",id:"route-prefixes-v\xe0-nested-routes",level:2},{value:"Route Prefixes",id:"route-prefixes",level:3},{value:"Nested Routes",id:"nested-routes",level:3},{value:"Status Codes v\xe0 Headers",id:"status-codes-v\xe0-headers",level:2},{value:"HTTP Status Codes",id:"http-status-codes",level:3},{value:"Response Headers",id:"response-headers",level:3},{value:"Redirects v\xe0 Response Objects",id:"redirects-v\xe0-response-objects",level:2},{value:"Redirects",id:"redirects",level:3},{value:"Response Objects",id:"response-objects",level:3},{value:"Dependency Injection",id:"dependency-injection",level:2},{value:"Constructor Injection",id:"constructor-injection",level:3},{value:"Property Injection",id:"property-injection",level:3},{value:"Request v\xe0 Response Objects",id:"request-v\xe0-response-objects",level:2},{value:"Request Object",id:"request-object",level:3},{value:"Response Object",id:"response-object",level:3},{value:"Async Controllers",id:"async-controllers",level:2},{value:"Async/Await Pattern",id:"asyncawait-pattern",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Validation v\xe0 Transformation",id:"validation-v\xe0-transformation",level:2},{value:"Input Validation",id:"input-validation",level:3},{value:"Data Transformation",id:"data-transformation",level:3},{value:"Documentation v\xe0 Testing",id:"documentation-v\xe0-testing",level:2},{value:"API Documentation",id:"api-documentation",level:3},{value:"Controller Testing",id:"controller-testing",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Single Responsibility",id:"1-single-responsibility",level:3},{value:"2. Proper Error Handling",id:"2-proper-error-handling",level:3},{value:"3. Input Validation",id:"3-input-validation",level:3},{value:"4. Proper HTTP Methods",id:"4-proper-http-methods",level:3},{value:"5. Dependency Injection",id:"5-dependency-injection",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"controllers",children:"Controllers"})}),"\n",(0,t.jsx)(n.p,{children:"Controllers trong NestJS l\xe0 c\xe1c class x\u1eed l\xfd HTTP requests v\xe0 responses. Ch\xfang \u0111\u1ecbnh ngh\u0129a c\xe1c routes, HTTP methods, v\xe0 logic x\u1eed l\xfd request t\u1eeb client."}),"\n",(0,t.jsx)(n.mermaid,{value:"graph TB\n    A[HTTP Request] --\x3e B[Controller]\n    B --\x3e C[Route Handler]\n    C --\x3e D[Service Layer]\n    D --\x3e E[Database External API]\n    E --\x3e F[Response]\n    \n    B --\x3e G[GET users]\n    B --\x3e H[POST users]\n    B --\x3e I[PUT users id]\n    B --\x3e J[DELETE users id]\n    \n    C --\x3e K[Validation]\n    C --\x3e L[Authentication]\n    C --\x3e M[Business Logic]\n    \n    style A fill:#e3f2fd\n    style B fill:#f3e5f5\n    style C fill:#e8f5e8\n    style D fill:#fff3e0\n    style F fill:#fce4ec"}),"\n",(0,t.jsx)(n.admonition,{title:"\ud83d\udca1 Kh\xe1i ni\u1ec7m c\u01a1 b\u1ea3n",type:"tip",children:(0,t.jsx)(n.p,{children:'Controllers trong NestJS gi\u1ed1ng nh\u01b0 "c\u1eeda ng\xf5" c\u1ee7a \u1ee9ng d\u1ee5ng, nh\u1eadn requests t\u1eeb client v\xe0 tr\u1ea3 v\u1ec1 responses. Ch\xfang s\u1eed d\u1ee5ng decorators \u0111\u1ec3 \u0111\u1ecbnh ngh\u0129a routes v\xe0 HTTP methods.'})}),"\n",(0,t.jsx)(n.h2,{id:"controllers-l\xe0-g\xec",children:"Controllers l\xe0 g\xec?"}),"\n",(0,t.jsx)(n.p,{children:"Controllers trong NestJS:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"X\u1eed l\xfd HTTP requests"})," - nh\u1eadn v\xe0 x\u1eed l\xfd requests t\u1eeb client"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a routes"})," - mapping URLs v\u1edbi logic x\u1eed l\xfd"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validate input"})," - ki\u1ec3m tra v\xe0 validate d\u1eef li\u1ec7u \u0111\u1ea7u v\xe0o"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Return responses"})," - tr\u1ea3 v\u1ec1 d\u1eef li\u1ec7u cho client"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Orchestrate services"})," - \u0111i\u1ec1u ph\u1ed1i c\xe1c services \u0111\u1ec3 x\u1eed l\xfd business logic"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"l\xfd-thuy\u1ebft-v\u1ec1-controllers",children:"L\xfd thuy\u1ebft v\u1ec1 Controllers"}),"\n",(0,t.jsx)(n.h3,{id:"nguy\xean-l\xfd-ho\u1ea1t-\u0111\u1ed9ng",children:"Nguy\xean l\xfd ho\u1ea1t \u0111\u1ed9ng"}),"\n",(0,t.jsxs)(n.p,{children:["Controllers trong NestJS ho\u1ea1t \u0111\u1ed9ng d\u1ef1a tr\xean nguy\xean l\xfd ",(0,t.jsx)(n.strong,{children:"Request-Response Pattern"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Request Reception"})," - Nh\u1eadn HTTP request t\u1eeb client"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Route Matching"})," - T\xecm route handler ph\xf9 h\u1ee3p"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Parameter Extraction"})," - Tr\xedch xu\u1ea5t parameters t\u1eeb request"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validation"})," - Validate d\u1eef li\u1ec7u \u0111\u1ea7u v\xe0o"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Service Call"})," - G\u1ecdi service \u0111\u1ec3 x\u1eed l\xfd business logic"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Response Generation"})," - T\u1ea1o v\xe0 tr\u1ea3 v\u1ec1 response"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"\ud83d\udd27 Request-Response Pattern",type:"info",children:(0,t.jsx)(n.p,{children:"Request-Response Pattern l\xe0 c\xe1ch NestJS x\u1eed l\xfd HTTP requests m\u1ed9t c\xe1ch c\xf3 c\u1ea5u tr\xfac, \u0111\u1ea3m b\u1ea3o m\u1ed7i request \u0111\u01b0\u1ee3c x\u1eed l\xfd \u0111\xfang c\xe1ch v\xe0 tr\u1ea3 v\u1ec1 response ph\xf9 h\u1ee3p."})}),"\n",(0,t.jsx)(n.h3,{id:"controller-metadata",children:"Controller Metadata"}),"\n",(0,t.jsx)(n.p,{children:"M\u1ed7i controller \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a b\u1eb1ng decorators:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Controller Metadata Structure"',children:"@Controller('users')\nexport class UserController {\n  // highlight-start\n  @Get()           // HTTP GET method\n  @Post()          // HTTP POST method\n  @Put(':id')      // HTTP PUT method v\u1edbi parameter\n  @Delete(':id')   // HTTP DELETE method v\u1edbi parameter\n  // highlight-end\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"t\u1ea1o-controller-c\u01a1-b\u1ea3n",children:"T\u1ea1o Controller c\u01a1 b\u1ea3n"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Basic Controller Example"',children:"import { Controller, Get, Post, Body, Param } from '@nestjs/common';\nimport { UserService } from './user.service';\nimport { CreateUserDto } from './dto/create-user.dto';\n\n@Controller('users')\nexport class UserController {\n  constructor(private readonly userService: UserService) {}\n\n  @Get()\n  findAll() {\n    return this.userService.findAll();\n  }\n\n  @Get(':id')\n  findOne(@Param('id') id: string) {\n    return this.userService.findOne(id);\n  }\n\n  @Post()\n  create(@Body() createUserDto: CreateUserDto) {\n    return this.userService.create(createUserDto);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"c\u1ea5u-tr\xfac-controller",children:"C\u1ea5u tr\xfac Controller"}),"\n",(0,t.jsx)(n.p,{children:"M\u1ed7i controller c\xf3 c\xe1c th\xe0nh ph\u1ea7n ch\xednh:"}),"\n",(0,t.jsx)(n.mermaid,{value:"graph LR\n    A[Controller] --\x3e B[Route Prefix]\n    A --\x3e C[HTTP Methods]\n    A --\x3e D[Route Handlers]\n    A --\x3e E[Dependencies]\n    \n    B --\x3e F[Controller users]\n    C --\x3e G[Get Post Put Delete]\n    D --\x3e H[findAll findOne create update]\n    E --\x3e I[UserService ValidationPipe]\n    \n    style A fill:#e3f2fd\n    style B fill:#f3e5f5\n    style C fill:#e8f5e8\n    style D fill:#fff3e0\n    style E fill:#fce4ec"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Controller Structure Breakdown"',children:"@Controller('users')                    // Route prefix\nexport class UserController {\n  constructor(private userService: UserService) {}  // Dependencies\n  \n  @Get()                               // HTTP method\n  findAll() {                          // Route handler\n    return this.userService.findAll();\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"route-prefix",children:"Route Prefix"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u0110\u1ecbnh ngh\u0129a base path cho t\u1ea5t c\u1ea3 routes"}),"\n",(0,t.jsxs)(n.li,{children:["V\xed d\u1ee5: ",(0,t.jsx)(n.code,{children:"@Controller('users')"})," \u2192 ",(0,t.jsx)(n.code,{children:"/users"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"http-methods",children:"HTTP Methods"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"X\xe1c \u0111\u1ecbnh lo\u1ea1i HTTP request \u0111\u01b0\u1ee3c x\u1eed l\xfd"}),"\n",(0,t.jsx)(n.li,{children:"GET, POST, PUT, PATCH, DELETE"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"route-handlers",children:"Route Handlers"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Methods x\u1eed l\xfd logic cho t\u1eebng route"}),"\n",(0,t.jsx)(n.li,{children:"C\xf3 th\u1ec3 async/await"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"dependencies",children:"Dependencies"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Services, pipes, guards \u0111\u01b0\u1ee3c inject"}),"\n",(0,t.jsx)(n.li,{children:"S\u1eed d\u1ee5ng constructor injection"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"http-methods-1",children:"HTTP Methods"}),"\n",(0,t.jsx)(n.h3,{id:"1-get---l\u1ea5y-d\u1eef-li\u1ec7u",children:"1. GET - L\u1ea5y d\u1eef li\u1ec7u"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"M\u1ee5c \u0111\xedch:"})," L\u1ea5y d\u1eef li\u1ec7u t\u1eeb server, kh\xf4ng thay \u0111\u1ed5i d\u1eef li\u1ec7u."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Khi n\xe0o s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"L\u1ea5y danh s\xe1ch resources"}),"\n",(0,t.jsx)(n.li,{children:"L\u1ea5y th\xf4ng tin chi ti\u1ebft m\u1ed9t resource"}),"\n",(0,t.jsx)(n.li,{children:"Search v\xe0 filter d\u1eef li\u1ec7u"}),"\n",(0,t.jsx)(n.li,{children:"L\u1ea5y d\u1eef li\u1ec7u \u0111\u1ec3 hi\u1ec3n th\u1ecb"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="GET Method Examples"',children:"@Controller('users')\nexport class UserController {\n  @Get()                    // GET /users\n  findAll() {\n    return this.userService.findAll();\n  }\n\n  @Get(':id')               // GET /users/123\n  findOne(@Param('id') id: string) {\n    return this.userService.findOne(id);\n  }\n\n  @Get('search')            // GET /users/search\n  search(@Query('q') query: string) {\n    return this.userService.search(query);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.admonition,{title:"\ud83d\udd0d GET Method Characteristics",type:"info",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Idempotent"})," - G\u1ecdi nhi\u1ec1u l\u1ea7n kh\xf4ng thay \u0111\u1ed5i d\u1eef li\u1ec7u"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Safe"})," - Kh\xf4ng c\xf3 side effects"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cacheable"})," - C\xf3 th\u1ec3 cache response"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Query Parameters"})," - S\u1eed d\u1ee5ng query string"]}),"\n"]})}),"\n",(0,t.jsx)(n.h3,{id:"2-post---t\u1ea1o-m\u1edbi",children:"2. POST - T\u1ea1o m\u1edbi"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"M\u1ee5c \u0111\xedch:"})," T\u1ea1o m\u1edbi resource tr\xean server."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Khi n\xe0o s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"T\u1ea1o user m\u1edbi"}),"\n",(0,t.jsx)(n.li,{children:"Submit form data"}),"\n",(0,t.jsx)(n.li,{children:"Upload files"}),"\n",(0,t.jsx)(n.li,{children:"T\u1ea1o order m\u1edbi"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="POST Method Examples"',children:"@Controller('users')\nexport class UserController {\n  @Post()                   // POST /users\n  create(@Body() createUserDto: CreateUserDto) {\n    return this.userService.create(createUserDto);\n  }\n\n  @Post('bulk')             // POST /users/bulk\n  createMany(@Body() users: CreateUserDto[]) {\n    return this.userService.createMany(users);\n  }\n\n  @Post('upload')           // POST /users/upload\n  @UseInterceptors(FileInterceptor('file'))\n  uploadFile(@UploadedFile() file: Express.Multer.File) {\n    return this.userService.uploadAvatar(file);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.admonition,{title:"\ud83d\udca1 POST Method Best Practices",type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validation"})," - Lu\xf4n validate input data"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"DTOs"})," - S\u1eed d\u1ee5ng Data Transfer Objects"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Error Handling"})," - X\u1eed l\xfd l\u1ed7i m\u1ed9t c\xe1ch graceful"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Response Codes"})," - Tr\u1ea3 v\u1ec1 HTTP status codes ph\xf9 h\u1ee3p"]}),"\n"]})}),"\n",(0,t.jsx)(n.h3,{id:"3-put---c\u1eadp-nh\u1eadt-to\xe0n-b\u1ed9",children:"3. PUT - C\u1eadp nh\u1eadt to\xe0n b\u1ed9"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"M\u1ee5c \u0111\xedch:"})," C\u1eadp nh\u1eadt to\xe0n b\u1ed9 resource, thay th\u1ebf ho\xe0n to\xe0n."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Khi n\xe0o s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"C\u1eadp nh\u1eadt to\xe0n b\u1ed9 user profile"}),"\n",(0,t.jsx)(n.li,{children:"Thay th\u1ebf resource ho\xe0n to\xe0n"}),"\n",(0,t.jsx)(n.li,{children:"C\u1eadp nh\u1eadt settings"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="PUT Method Examples"',children:"@Controller('users')\nexport class UserController {\n  @Put(':id')               // PUT /users/123\n  update(@Param('id') id: string, @Body() updateUserDto: UpdateUserDto) {\n    return this.userService.update(id, updateUserDto);\n  }\n\n  @Put(':id/password')      // PUT /users/123/password\n  updatePassword(\n    @Param('id') id: string,\n    @Body() passwordDto: UpdatePasswordDto\n  ) {\n    return this.userService.updatePassword(id, passwordDto);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.admonition,{title:"\u26a0\ufe0f PUT vs PATCH",type:"warning",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"PUT"})," - C\u1eadp nh\u1eadt to\xe0n b\u1ed9 resource"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"PATCH"})," - C\u1eadp nh\u1eadt m\u1ed9t ph\u1ea7n resource"]}),"\n",(0,t.jsx)(n.li,{children:"Ch\u1ecdn method ph\xf9 h\u1ee3p v\u1edbi use case"}),"\n"]})}),"\n",(0,t.jsx)(n.h3,{id:"4-patch---c\u1eadp-nh\u1eadt-m\u1ed9t-ph\u1ea7n",children:"4. PATCH - C\u1eadp nh\u1eadt m\u1ed9t ph\u1ea7n"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"M\u1ee5c \u0111\xedch:"})," C\u1eadp nh\u1eadt m\u1ed9t ph\u1ea7n resource, kh\xf4ng thay th\u1ebf to\xe0n b\u1ed9."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Khi n\xe0o s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"C\u1eadp nh\u1eadt m\u1ed9t s\u1ed1 fields"}),"\n",(0,t.jsx)(n.li,{children:"Toggle status"}),"\n",(0,t.jsx)(n.li,{children:"Increment/decrement values"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="PATCH Method Examples"',children:"@Controller('users')\nexport class UserController {\n  @Patch(':id')             // PATCH /users/123\n  updatePartial(\n    @Param('id') id: string,\n    @Body() partialUpdateDto: PartialUpdateUserDto\n  ) {\n    return this.userService.updatePartial(id, partialUpdateDto);\n  }\n\n  @Patch(':id/status')      // PATCH /users/123/status\n  updateStatus(\n    @Param('id') id: string,\n    @Body('status') status: UserStatus\n  ) {\n    return this.userService.updateStatus(id, status);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"5-delete---x\xf3a-d\u1eef-li\u1ec7u",children:"5. DELETE - X\xf3a d\u1eef li\u1ec7u"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"M\u1ee5c \u0111\xedch:"})," X\xf3a resource kh\u1ecfi server."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Khi n\xe0o s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"X\xf3a user"}),"\n",(0,t.jsx)(n.li,{children:"X\xf3a file"}),"\n",(0,t.jsx)(n.li,{children:"X\xf3a order"}),"\n",(0,t.jsx)(n.li,{children:"Soft delete (mark as deleted)"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="DELETE Method Examples"',children:"@Controller('users')\nexport class UserController {\n  @Delete(':id')            // DELETE /users/123\n  remove(@Param('id') id: string) {\n    return this.userService.remove(id);\n  }\n\n  @Delete(':id/soft')       // DELETE /users/123/soft\n  softRemove(@Param('id') id: string) {\n    return this.userService.softRemove(id);\n  }\n\n  @Delete('bulk')           // DELETE /users/bulk\n  removeMany(@Body('ids') ids: string[]) {\n    return this.userService.removeMany(ids);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.admonition,{title:"\u26a0\ufe0f DELETE Method Considerations",type:"warning",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Soft Delete"})," - C\xe2n nh\u1eafc soft delete thay v\xec hard delete"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cascade"})," - X\u1eed l\xfd dependencies v\xe0 related data"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Permissions"})," - Ki\u1ec3m tra quy\u1ec1n x\xf3a"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Audit Trail"})," - Ghi log c\xe1c thao t\xe1c x\xf3a"]}),"\n"]})}),"\n",(0,t.jsx)(n.h2,{id:"t\u1ed5ng-h\u1ee3p-http-methods",children:"T\u1ed5ng h\u1ee3p HTTP Methods"}),"\n",(0,t.jsx)(n.h3,{id:"b\u1ea3ng-so-s\xe1nh-c\xe1c-http-methods",children:"B\u1ea3ng so s\xe1nh c\xe1c HTTP Methods"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"HTTP Method"}),(0,t.jsx)(n.th,{children:"M\u1ee5c \u0111\xedch"}),(0,t.jsx)(n.th,{children:"Khi n\xe0o s\u1eed d\u1ee5ng"}),(0,t.jsx)(n.th,{children:"\u0110\u1eb7c \u0111i\u1ec3m"}),(0,t.jsx)(n.th,{children:"Status Codes"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"GET"})}),(0,t.jsx)(n.td,{children:"L\u1ea5y d\u1eef li\u1ec7u"}),(0,t.jsxs)(n.td,{children:["\u2022 L\u1ea5y danh s\xe1ch resources",(0,t.jsx)("br",{}),"\u2022 L\u1ea5y th\xf4ng tin chi ti\u1ebft",(0,t.jsx)("br",{}),"\u2022 Search v\xe0 filter",(0,t.jsx)("br",{}),"\u2022 L\u1ea5y d\u1eef li\u1ec7u hi\u1ec3n th\u1ecb"]}),(0,t.jsxs)(n.td,{children:["\u2022 Idempotent",(0,t.jsx)("br",{}),"\u2022 Safe",(0,t.jsx)("br",{}),"\u2022 Cacheable",(0,t.jsx)("br",{}),"\u2022 Query parameters"]}),(0,t.jsx)(n.td,{children:"200, 404, 400"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"POST"})}),(0,t.jsx)(n.td,{children:"T\u1ea1o m\u1edbi"}),(0,t.jsxs)(n.td,{children:["\u2022 T\u1ea1o user m\u1edbi",(0,t.jsx)("br",{}),"\u2022 Submit form data",(0,t.jsx)("br",{}),"\u2022 Upload files",(0,t.jsx)("br",{}),"\u2022 T\u1ea1o order m\u1edbi"]}),(0,t.jsxs)(n.td,{children:["\u2022 Kh\xf4ng idempotent",(0,t.jsx)("br",{}),"\u2022 C\xf3 side effects",(0,t.jsx)("br",{}),"\u2022 Request body",(0,t.jsx)("br",{}),"\u2022 Validation required"]}),(0,t.jsx)(n.td,{children:"201, 400, 409"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"PUT"})}),(0,t.jsx)(n.td,{children:"C\u1eadp nh\u1eadt to\xe0n b\u1ed9"}),(0,t.jsxs)(n.td,{children:["\u2022 C\u1eadp nh\u1eadt to\xe0n b\u1ed9 profile",(0,t.jsx)("br",{}),"\u2022 Thay th\u1ebf resource",(0,t.jsx)("br",{}),"\u2022 C\u1eadp nh\u1eadt settings"]}),(0,t.jsxs)(n.td,{children:["\u2022 Idempotent",(0,t.jsx)("br",{}),"\u2022 Thay th\u1ebf ho\xe0n to\xe0n",(0,t.jsx)("br",{}),"\u2022 Request body",(0,t.jsx)("br",{}),"\u2022 All fields required"]}),(0,t.jsx)(n.td,{children:"200, 204, 400, 404"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"PATCH"})}),(0,t.jsx)(n.td,{children:"C\u1eadp nh\u1eadt m\u1ed9t ph\u1ea7n"}),(0,t.jsxs)(n.td,{children:["\u2022 C\u1eadp nh\u1eadt m\u1ed9t s\u1ed1 fields",(0,t.jsx)("br",{}),"\u2022 Toggle status",(0,t.jsx)("br",{}),"\u2022 Increment/decrement"]}),(0,t.jsxs)(n.td,{children:["\u2022 Idempotent",(0,t.jsx)("br",{}),"\u2022 Partial update",(0,t.jsx)("br",{}),"\u2022 Request body",(0,t.jsx)("br",{}),"\u2022 Optional fields"]}),(0,t.jsx)(n.td,{children:"200, 204, 400, 404"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"DELETE"})}),(0,t.jsx)(n.td,{children:"X\xf3a d\u1eef li\u1ec7u"}),(0,t.jsxs)(n.td,{children:["\u2022 X\xf3a user",(0,t.jsx)("br",{}),"\u2022 X\xf3a file",(0,t.jsx)("br",{}),"\u2022 X\xf3a order",(0,t.jsx)("br",{}),"\u2022 Soft delete"]}),(0,t.jsxs)(n.td,{children:["\u2022 Idempotent",(0,t.jsx)("br",{}),"\u2022 C\xf3 side effects",(0,t.jsx)("br",{}),"\u2022 Path parameters",(0,t.jsx)("br",{}),"\u2022 Permissions check"]}),(0,t.jsx)(n.td,{children:"204, 404, 403"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"\u0111\u1eb7c-\u0111i\u1ec3m-chi-ti\u1ebft",children:"\u0110\u1eb7c \u0111i\u1ec3m chi ti\u1ebft"}),"\n",(0,t.jsx)(n.h4,{id:"idempotent-methods",children:(0,t.jsx)(n.strong,{children:"Idempotent Methods"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"GET, PUT, PATCH, DELETE"})," - G\u1ecdi nhi\u1ec1u l\u1ea7n kh\xf4ng thay \u0111\u1ed5i k\u1ebft qu\u1ea3"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"POST"})," - Kh\xf4ng idempotent, m\u1ed7i l\u1ea7n g\u1ecdi c\xf3 th\u1ec3 t\u1ea1o resource m\u1edbi"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"safe-methods",children:(0,t.jsx)(n.strong,{children:"Safe Methods"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"GET"})," - Ch\u1ec9 \u0111\u1ecdc d\u1eef li\u1ec7u, kh\xf4ng thay \u0111\u1ed5i server state"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"POST, PUT, PATCH, DELETE"})," - C\xf3 th\u1ec3 thay \u0111\u1ed5i server state"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"cacheable-methods",children:(0,t.jsx)(n.strong,{children:"Cacheable Methods"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"GET"})," - C\xf3 th\u1ec3 cache response"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"POST, PUT, PATCH, DELETE"})," - Th\u01b0\u1eddng kh\xf4ng cache"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"request-body",children:(0,t.jsx)(n.strong,{children:"Request Body"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"GET, DELETE"})," - Th\u01b0\u1eddng kh\xf4ng c\xf3 request body"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"POST, PUT, PATCH"})," - C\xf3 request body v\u1edbi d\u1eef li\u1ec7u"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"parameters",children:(0,t.jsx)(n.strong,{children:"Parameters"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"GET"})," - Query parameters, path parameters"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"POST, PUT, PATCH"})," - Request body, path parameters"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"DELETE"})," - Path parameters, c\xf3 th\u1ec3 c\xf3 request body"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"best-practices-cho-http-methods",children:"Best Practices cho HTTP Methods"}),"\n",(0,t.jsx)(n.admonition,{title:"\ud83d\udca1 L\u1eddi khuy\xean s\u1eed d\u1ee5ng HTTP Methods",type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"S\u1eed d\u1ee5ng \u0111\xfang m\u1ee5c \u0111\xedch"})," - M\u1ed7i method c\xf3 vai tr\xf2 ri\xeang"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"RESTful conventions"})," - Tu\xe2n th\u1ee7 chu\u1ea9n REST"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Consistent naming"})," - \u0110\u1eb7t t\xean routes nh\u1ea5t qu\xe1n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Proper status codes"})," - Tr\u1ea3 v\u1ec1 HTTP status codes ph\xf9 h\u1ee3p"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Input validation"})," - Validate d\u1eef li\u1ec7u \u0111\u1ea7u v\xe0o"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Error handling"})," - X\u1eed l\xfd l\u1ed7i m\u1ed9t c\xe1ch graceful"]}),"\n"]})}),"\n",(0,t.jsx)(n.h2,{id:"route-parameters",children:"Route Parameters"}),"\n",(0,t.jsx)(n.h3,{id:"path-parameters",children:"Path Parameters"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Parameters \u0111\u01b0\u1ee3c truy\u1ec1n qua URL path."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"@Param()"})," decorator"]}),"\n",(0,t.jsx)(n.li,{children:"C\xf3 th\u1ec3 l\u1ea5y m\u1ed9t ho\u1eb7c nhi\u1ec1u parameters"}),"\n",(0,t.jsx)(n.li,{children:"T\u1ef1 \u0111\u1ed9ng parse v\xe0 validate"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Path Parameters Examples"',children:"@Controller('users')\nexport class UserController {\n  @Get(':id')               // GET /users/123\n  findOne(@Param('id') id: string) {\n    return this.userService.findOne(id);\n  }\n\n  @Get(':id/posts/:postId') // GET /users/123/posts/456\n  findUserPost(\n    @Param('id') userId: string,\n    @Param('postId') postId: string\n  ) {\n    return this.userService.findUserPost(userId, postId);\n  }\n\n  @Get(':id')\n  findOne(@Param() params: { id: string }) {\n    // L\u1ea5y t\u1ea5t c\u1ea3 parameters\n    return this.userService.findOne(params.id);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Parameters \u0111\u01b0\u1ee3c truy\u1ec1n qua query string."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"@Query()"})," decorator"]}),"\n",(0,t.jsx)(n.li,{children:"H\u1ed7 tr\u1ee3 pagination, filtering, sorting"}),"\n",(0,t.jsx)(n.li,{children:"C\xf3 th\u1ec3 optional ho\u1eb7c required"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Query Parameters Examples"',children:"@Controller('users')\nexport class UserController {\n  @Get()\n  findAll(\n    @Query('page') page: number = 1,\n    @Query('limit') limit: number = 10,\n    @Query('search') search?: string,\n    @Query('sort') sort?: string\n  ) {\n    return this.userService.findAll({ page, limit, search, sort });\n  }\n\n  @Get('search')\n  search(@Query() query: SearchUserDto) {\n    // S\u1eed d\u1ee5ng DTO \u0111\u1ec3 validate query parameters\n    return this.userService.search(query);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"request-body-1",children:"Request Body"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," D\u1eef li\u1ec7u \u0111\u01b0\u1ee3c g\u1eedi trong request body."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"@Body()"})," decorator"]}),"\n",(0,t.jsx)(n.li,{children:"Th\u01b0\u1eddng d\xf9ng v\u1edbi POST, PUT, PATCH"}),"\n",(0,t.jsx)(n.li,{children:"Validate b\u1eb1ng DTOs"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Request Body Examples"',children:"@Controller('users')\nexport class UserController {\n  @Post()\n  create(@Body() createUserDto: CreateUserDto) {\n    return this.userService.create(createUserDto);\n  }\n\n  @Post('bulk')\n  createMany(@Body('users') users: CreateUserDto[]) {\n    // L\u1ea5y specific field t\u1eeb body\n    return this.userService.createMany(users);\n  }\n\n  @Put(':id')\n  update(\n    @Param('id') id: string,\n    @Body() updateUserDto: UpdateUserDto\n  ) {\n    return this.userService.update(id, updateUserDto);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"route-prefixes-v\xe0-nested-routes",children:"Route Prefixes v\xe0 Nested Routes"}),"\n",(0,t.jsx)(n.h3,{id:"route-prefixes",children:"Route Prefixes"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Base path cho t\u1ea5t c\u1ea3 routes trong controller."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"L\u1ee3i \xedch:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"T\u1ed5 ch\u1ee9c routes theo nh\xf3m logic"}),"\n",(0,t.jsx)(n.li,{children:"D\u1ec5 d\xe0ng qu\u1ea3n l\xfd v\xe0 maintain"}),"\n",(0,t.jsx)(n.li,{children:"T\u1ea1o c\u1ea5u tr\xfac API r\xf5 r\xe0ng"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Route Prefixes Examples"',children:"@Controller('users')                    // Base: /users\nexport class UserController {\n  @Get()                               // GET /users\n  findAll() { return this.userService.findAll(); }\n\n  @Get(':id')                          // GET /users/123\n  findOne(@Param('id') id: string) { return this.userService.findOne(id); }\n\n  @Post()                              // POST /users\n  create(@Body() dto: CreateUserDto) { return this.userService.create(dto); }\n}\n\n@Controller('admin/users')              // Base: /admin/users\nexport class AdminUserController {\n  @Get()                               // GET /admin/users\n  findAll() { return this.userService.findAllForAdmin(); }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"nested-routes",children:"Nested Routes"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Routes l\u1ed3ng nhau \u0111\u1ec3 th\u1ec3 hi\u1ec7n m\u1ed1i quan h\u1ec7 gi\u1eefa resources."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["S\u1eed d\u1ee5ng multiple ",(0,t.jsx)(n.code,{children:"@Controller()"})," decorators"]}),"\n",(0,t.jsx)(n.li,{children:"T\u1ea1o c\u1ea5u tr\xfac hierarchy r\xf5 r\xe0ng"}),"\n",(0,t.jsx)(n.li,{children:"D\u1ec5 d\xe0ng qu\u1ea3n l\xfd permissions"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Nested Routes Examples"',children:"@Controller('users')\nexport class UserController {\n  @Get(':id/posts')                    // GET /users/123/posts\n  findUserPosts(@Param('id') userId: string) {\n    return this.postService.findByUserId(userId);\n  }\n\n  @Get(':id/posts/:postId')            // GET /users/123/posts/456\n  findUserPost(\n    @Param('id') userId: string,\n    @Param('postId') postId: string\n  ) {\n    return this.postService.findUserPost(userId, postId);\n  }\n\n  @Post(':id/posts')                   // POST /users/123/posts\n  createUserPost(\n    @Param('id') userId: string,\n    @Body() createPostDto: CreatePostDto\n  ) {\n    return this.postService.createForUser(userId, createPostDto);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"status-codes-v\xe0-headers",children:"Status Codes v\xe0 Headers"}),"\n",(0,t.jsx)(n.h3,{id:"http-status-codes",children:"HTTP Status Codes"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," M\xe3 tr\u1ea1ng th\xe1i HTTP \u0111\u1ec3 th\xf4ng b\xe1o k\u1ebft qu\u1ea3 request."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"@HttpCode()"})," decorator"]}),"\n",(0,t.jsx)(n.li,{children:"Ho\u1eb7c return response object v\u1edbi status"}),"\n",(0,t.jsx)(n.li,{children:"NestJS t\u1ef1 \u0111\u1ed9ng set status codes ph\xf9 h\u1ee3p"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Status Codes Examples"',children:"@Controller('users')\nexport class UserController {\n  @Post()\n  @HttpCode(201)                       // Set custom status code\n  create(@Body() dto: CreateUserDto) {\n    return this.userService.create(dto);\n  }\n\n  @Delete(':id')\n  @HttpCode(204)                       // No Content\n  remove(@Param('id') id: string) {\n    this.userService.remove(id);\n    // Kh\xf4ng return g\xec, status 204\n  }\n\n  @Get(':id')\n  findOne(@Param('id') id: string) {\n    const user = this.userService.findOne(id);\n    if (!user) {\n      throw new NotFoundException('User not found'); // 404\n    }\n    return user; // 200\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-headers",children:"Response Headers"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Headers \u0111\u01b0\u1ee3c g\u1eedi k\xe8m response."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"@Header()"})," decorator"]}),"\n",(0,t.jsx)(n.li,{children:"Ho\u1eb7c return response object v\u1edbi headers"}),"\n",(0,t.jsx)(n.li,{children:"H\u1eefu \xedch cho caching, CORS, authentication"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Response Headers Examples"',children:"@Controller('users')\nexport class UserController {\n  @Get()\n  @Header('Cache-Control', 'max-age=300')  // Cache 5 minutes\n  findAll() {\n    return this.userService.findAll();\n  }\n\n  @Get('export')\n  @Header('Content-Type', 'text/csv')\n  @Header('Content-Disposition', 'attachment; filename=\"users.csv\"')\n  exportUsers() {\n    return this.userService.exportToCSV();\n  }\n\n  @Post('login')\n  @Header('Set-Cookie', 'token=abc123; HttpOnly')\n  login(@Body() loginDto: LoginDto) {\n    return this.authService.login(loginDto);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"redirects-v\xe0-response-objects",children:"Redirects v\xe0 Response Objects"}),"\n",(0,t.jsx)(n.h3,{id:"redirects",children:"Redirects"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Chuy\u1ec3n h\u01b0\u1edbng client \u0111\u1ebfn URL kh\xe1c."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"@Redirect()"})," decorator"]}),"\n",(0,t.jsx)(n.li,{children:"Ho\u1eb7c return RedirectResponse object"}),"\n",(0,t.jsx)(n.li,{children:"H\u1eefu \xedch cho OAuth, pagination, etc."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Redirect Examples"',children:"@Controller('users')\nexport class UserController {\n  @Get('old/:id')\n  @Redirect('/users/:id', 301)         // Permanent redirect\n  redirectToNew(@Param('id') id: string) {\n    return { url: `/users/${id}` };\n  }\n\n  @Get('search')\n  search(@Query('q') query: string) {\n    if (!query) {\n      return new RedirectResponse('/users', 302); // Temporary redirect\n    }\n    return this.userService.search(query);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-objects",children:"Response Objects"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Custom response objects v\u1edbi status, headers, data."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Return Response object"}),"\n",(0,t.jsx)(n.li,{children:"Customize status, headers, body"}),"\n",(0,t.jsx)(n.li,{children:"H\u1eefu \xedch cho complex responses"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Response Objects Examples"',children:"@Controller('users')\nexport class UserController {\n  @Get()\n  findAll(@Res() res: Response) {\n    const users = this.userService.findAll();\n    return res\n      .status(200)\n      .header('X-Total-Count', users.length.toString())\n      .json(users);\n  }\n\n  @Post()\n  create(@Body() dto: CreateUserDto, @Res() res: Response) {\n    const user = this.userService.create(dto);\n    return res\n      .status(201)\n      .location(`/users/${user.id}`)\n      .json(user);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"dependency-injection",children:"Dependency Injection"}),"\n",(0,t.jsx)(n.h3,{id:"constructor-injection",children:"Constructor Injection"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Inject dependencies th\xf4ng qua constructor."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch ho\u1ea1t \u0111\u1ed9ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"NestJS t\u1ef1 \u0111\u1ed9ng inject dependencies"}),"\n",(0,t.jsx)(n.li,{children:"S\u1eed d\u1ee5ng TypeScript types \u0111\u1ec3 resolve"}),"\n",(0,t.jsx)(n.li,{children:"Singleton instances \u0111\u01b0\u1ee3c chia s\u1ebb"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Constructor Injection Examples"',children:"@Controller('users')\nexport class UserController {\n  constructor(\n    private readonly userService: UserService,\n    private readonly emailService: EmailService,\n    private readonly logger: Logger\n  ) {}\n\n  @Post()\n  async create(@Body() dto: CreateUserDto) {\n    this.logger.log('Creating new user');\n    const user = await this.userService.create(dto);\n    await this.emailService.sendWelcomeEmail(user.email);\n    return user;\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"property-injection",children:"Property Injection"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Inject dependencies th\xf4ng qua properties."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"@Inject()"})," decorator"]}),"\n",(0,t.jsx)(n.li,{children:"H\u1eefu \xedch cho optional dependencies"}),"\n",(0,t.jsx)(n.li,{children:"Dynamic injection"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Property Injection Examples"',children:"@Controller('users')\nexport class UserController {\n  @Inject(UserService)\n  private readonly userService: UserService;\n\n  @InjectOptional(EmailService)\n  private readonly emailService?: EmailService;\n\n  @Inject('CONFIG')\n  private readonly config: ConfigService;\n\n  @Post()\n  async create(@Body() dto: CreateUserDto) {\n    const user = await this.userService.create(dto);\n    \n    if (this.emailService) {\n      await this.emailService.sendWelcomeEmail(user.email);\n    }\n    \n    return user;\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"request-v\xe0-response-objects",children:"Request v\xe0 Response Objects"}),"\n",(0,t.jsx)(n.h3,{id:"request-object",children:"Request Object"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Object ch\u1ee9a th\xf4ng tin v\u1ec1 HTTP request."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"@Req()"})," decorator"]}),"\n",(0,t.jsx)(n.li,{children:"Truy c\u1eadp headers, cookies, IP address"}),"\n",(0,t.jsx)(n.li,{children:"H\u1eefu \xedch cho logging, analytics"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Request Object Examples"',children:"@Controller('users')\nexport class UserController {\n  @Get()\n  findAll(@Req() req: Request) {\n    this.logger.log(`Request from ${req.ip}`);\n    this.logger.log(`User-Agent: ${req.headers['user-agent']}`);\n    \n    return this.userService.findAll();\n  }\n\n  @Post('upload')\n  @UseInterceptors(FileInterceptor('file'))\n  uploadFile(\n    @UploadedFile() file: Express.Multer.File,\n    @Req() req: Request\n  ) {\n    this.logger.log(`File uploaded by ${req.user?.id}`);\n    return this.fileService.upload(file);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-object",children:"Response Object"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Object \u0111\u1ec3 customize HTTP response."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"@Res()"})," decorator"]}),"\n",(0,t.jsx)(n.li,{children:"Customize status, headers, body"}),"\n",(0,t.jsxs)(n.li,{children:["L\u01b0u \xfd: S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"@Res()"})," s\u1ebd disable NestJS response handling"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Response Object Examples"',children:"@Controller('users')\nexport class UserController {\n  @Get('export')\n  exportUsers(@Res() res: Response) {\n    const csv = this.userService.exportToCSV();\n    \n    res.set({\n      'Content-Type': 'text/csv',\n      'Content-Disposition': 'attachment; filename=\"users.csv\"',\n      'Content-Length': Buffer.byteLength(csv)\n    });\n    \n    return res.send(csv);\n  }\n\n  @Get('stream')\n  streamUsers(@Res() res: Response) {\n    const stream = this.userService.createReadStream();\n    stream.pipe(res);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"async-controllers",children:"Async Controllers"}),"\n",(0,t.jsx)(n.h3,{id:"asyncawait-pattern",children:"Async/Await Pattern"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Controllers x\u1eed l\xfd b\u1ea5t \u0111\u1ed3ng b\u1ed9 v\u1edbi async/await."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"L\u1ee3i \xedch:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Code d\u1ec5 \u0111\u1ecdc v\xe0 maintain"}),"\n",(0,t.jsx)(n.li,{children:"Proper error handling"}),"\n",(0,t.jsx)(n.li,{children:"Performance t\u1ed1t h\u01a1n cho I/O operations"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Async Controllers Examples"',children:"@Controller('users')\nexport class UserController {\n  @Get()\n  async findAll(): Promise<User[]> {\n    return await this.userService.findAll();\n  }\n\n  @Get(':id')\n  async findOne(@Param('id') id: string): Promise<User> {\n    const user = await this.userService.findOne(id);\n    if (!user) {\n      throw new NotFoundException('User not found');\n    }\n    return user;\n  }\n\n  @Post()\n  async create(@Body() dto: CreateUserDto): Promise<User> {\n    try {\n      const user = await this.userService.create(dto);\n      await this.emailService.sendWelcomeEmail(user.email);\n      return user;\n    } catch (error) {\n      this.logger.error('Failed to create user', error);\n      throw new InternalServerErrorException('Failed to create user');\n    }\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," X\u1eed l\xfd l\u1ed7i m\u1ed9t c\xe1ch graceful v\xe0 consistent."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"S\u1eed d\u1ee5ng built-in exception filters"}),"\n",(0,t.jsx)(n.li,{children:"Custom exception classes"}),"\n",(0,t.jsx)(n.li,{children:"Proper HTTP status codes"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Error Handling Examples"',children:"@Controller('users')\nexport class UserController {\n  @Get(':id')\n  async findOne(@Param('id') id: string): Promise<User> {\n    try {\n      const user = await this.userService.findOne(id);\n      if (!user) {\n        throw new NotFoundException(`User with ID ${id} not found`);\n      }\n      return user;\n    } catch (error) {\n      if (error instanceof NotFoundException) {\n        throw error;\n      }\n      this.logger.error(`Error finding user ${id}`, error);\n      throw new InternalServerErrorException('Internal server error');\n    }\n  }\n\n  @Post()\n  async create(@Body() dto: CreateUserDto): Promise<User> {\n    try {\n      await this.validationService.validate(dto);\n      const user = await this.userService.create(dto);\n      return user;\n    } catch (error) {\n      if (error instanceof ValidationException) {\n        throw new BadRequestException(error.message);\n      }\n      throw new InternalServerErrorException('Failed to create user');\n    }\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"validation-v\xe0-transformation",children:"Validation v\xe0 Transformation"}),"\n",(0,t.jsx)(n.h3,{id:"input-validation",children:"Input Validation"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Ki\u1ec3m tra v\xe0 validate d\u1eef li\u1ec7u \u0111\u1ea7u v\xe0o."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"S\u1eed d\u1ee5ng DTOs v\u1edbi class-validator"}),"\n",(0,t.jsx)(n.li,{children:"Global validation pipe"}),"\n",(0,t.jsx)(n.li,{children:"Custom validation decorators"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Input Validation Examples"',children:"@Controller('users')\nexport class UserController {\n  @Post()\n  async create(@Body() createUserDto: CreateUserDto) {\n    // Validation \u0111\u01b0\u1ee3c x\u1eed l\xfd t\u1ef1 \u0111\u1ed9ng b\u1edfi ValidationPipe\n    return this.userService.create(createUserDto);\n  }\n\n  @Put(':id')\n  async update(\n    @Param('id', ParseIntPipe) id: number,  // Parse v\xe0 validate ID\n    @Body() updateUserDto: UpdateUserDto\n  ) {\n    return this.userService.update(id, updateUserDto);\n  }\n\n  @Get()\n  async findAll(\n    @Query('page', new DefaultValuePipe(1), ParseIntPipe) page: number,\n    @Query('limit', new DefaultValuePipe(10), ParseIntPipe) limit: number\n  ) {\n    return this.userService.findAll({ page, limit });\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"data-transformation",children:"Data Transformation"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Chuy\u1ec3n \u0111\u1ed5i d\u1eef li\u1ec7u tr\u01b0\u1edbc khi x\u1eed l\xfd."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"S\u1eed d\u1ee5ng transformation pipes"}),"\n",(0,t.jsx)(n.li,{children:"Custom transformation logic"}),"\n",(0,t.jsx)(n.li,{children:"Data sanitization"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Data Transformation Examples"',children:"@Controller('users')\nexport class UserController {\n  @Post()\n  async create(\n    @Body(new ValidationPipe({ transform: true })) createUserDto: CreateUserDto\n  ) {\n    // Transform: string -> number, trim strings, etc.\n    return this.userService.create(createUserDto);\n  }\n\n  @Get('search')\n  async search(\n    @Query('q', new TrimPipe()) query: string,\n    @Query('tags', new ParseArrayPipe({ items: String, separator: ',' })) tags: string[]\n  ) {\n    return this.userService.search({ query: query.trim(), tags });\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"documentation-v\xe0-testing",children:"Documentation v\xe0 Testing"}),"\n",(0,t.jsx)(n.h3,{id:"api-documentation",children:"API Documentation"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," T\u1ef1 \u0111\u1ed9ng t\u1ea1o API documentation v\u1edbi Swagger."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["S\u1eed d\u1ee5ng ",(0,t.jsx)(n.code,{children:"@ApiTags()"}),", ",(0,t.jsx)(n.code,{children:"@ApiOperation()"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"@ApiResponse()"}),", ",(0,t.jsx)(n.code,{children:"@ApiParam()"})]}),"\n",(0,t.jsx)(n.li,{children:"Generate OpenAPI specification"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="API Documentation Examples"',children:"@ApiTags('users')\n@Controller('users')\nexport class UserController {\n  @ApiOperation({ summary: 'Get all users' })\n  @ApiResponse({ status: 200, description: 'List of users', type: [User] })\n  @ApiResponse({ status: 400, description: 'Bad request' })\n  @Get()\n  findAll(): Promise<User[]> {\n    return this.userService.findAll();\n  }\n\n  @ApiOperation({ summary: 'Get user by ID' })\n  @ApiParam({ name: 'id', description: 'User ID', type: 'string' })\n  @ApiResponse({ status: 200, description: 'User found', type: User })\n  @ApiResponse({ status: 404, description: 'User not found' })\n  @Get(':id')\n  findOne(@Param('id') id: string): Promise<User> {\n    return this.userService.findOne(id);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"controller-testing",children:"Controller Testing"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Test controllers m\u1ed9t c\xe1ch \u0111\u1ed9c l\u1eadp."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"C\xe1ch s\u1eed d\u1ee5ng:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Unit tests v\u1edbi mocked services"}),"\n",(0,t.jsx)(n.li,{children:"Integration tests v\u1edbi real database"}),"\n",(0,t.jsx)(n.li,{children:"E2E tests v\u1edbi HTTP requests"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Controller Testing Examples"',children:"describe('UserController', () => {\n  let controller: UserController;\n  let service: UserService;\n\n  beforeEach(async () => {\n    const module = await Test.createTestingModule({\n      controllers: [UserController],\n      providers: [\n        {\n          provide: UserService,\n          useValue: {\n            findAll: jest.fn(),\n            findOne: jest.fn(),\n            create: jest.fn(),\n          },\n        },\n      ],\n    }).compile();\n\n    controller = module.get<UserController>(UserController);\n    service = module.get<UserService>(UserService);\n  });\n\n  it('should be defined', () => {\n    expect(controller).toBeDefined();\n  });\n\n  it('should return users', async () => {\n    const users = [{ id: '1', name: 'John' }];\n    jest.spyOn(service, 'findAll').mockResolvedValue(users);\n\n    const result = await controller.findAll();\n    expect(result).toEqual(users);\n    expect(service.findAll).toHaveBeenCalled();\n  });\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"1-single-responsibility",children:"1. Single Responsibility"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Single Responsibility Principle"',children:"// \u2705 T\u1ed1t - M\u1ed7i controller m\u1ed9t responsibility\n@Controller('users')\nexport class UserController {\n  // Ch\u1ec9 x\u1eed l\xfd user-related operations\n}\n\n@Controller('auth')\nexport class AuthController {\n  // Ch\u1ec9 x\u1eed l\xfd authentication\n}\n\n// \u274c Kh\xf4ng t\u1ed1t - Controller qu\xe1 nhi\u1ec1u responsibilities\n@Controller('api')\nexport class ApiController {\n  // X\u1eed l\xfd users, auth, orders, payments...\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-proper-error-handling",children:"2. Proper Error Handling"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Proper Error Handling"',children:"// \u2705 T\u1ed1t - X\u1eed l\xfd l\u1ed7i \u0111\xfang c\xe1ch\n@Controller('users')\nexport class UserController {\n  @Get(':id')\n  async findOne(@Param('id') id: string) {\n    try {\n      const user = await this.userService.findOne(id);\n      if (!user) {\n        throw new NotFoundException('User not found');\n      }\n      return user;\n    } catch (error) {\n      this.logger.error(`Error finding user ${id}`, error);\n      throw error;\n    }\n  }\n}\n\n// \u274c Kh\xf4ng t\u1ed1t - Kh\xf4ng x\u1eed l\xfd l\u1ed7i\n@Controller('users')\nexport class UserController {\n  @Get(':id')\n  async findOne(@Param('id') id: string) {\n    return this.userService.findOne(id); // C\xf3 th\u1ec3 throw error\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-input-validation",children:"3. Input Validation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Input Validation Best Practices"',children:"// \u2705 T\u1ed1t - Validate input \u0111\u1ea7y \u0111\u1ee7\n@Controller('users')\nexport class UserController {\n  @Post()\n  async create(\n    @Body(new ValidationPipe({ \n      whitelist: true, \n      forbidNonWhitelisted: true \n    })) dto: CreateUserDto\n  ) {\n    return this.userService.create(dto);\n  }\n}\n\n// \u274c Kh\xf4ng t\u1ed1t - Kh\xf4ng validate input\n@Controller('users')\nexport class UserController {\n  @Post()\n  async create(@Body() dto: any) { // any type, kh\xf4ng validation\n    return this.userService.create(dto);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4-proper-http-methods",children:"4. Proper HTTP Methods"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="HTTP Methods Best Practices"',children:"// \u2705 T\u1ed1t - S\u1eed d\u1ee5ng HTTP methods \u0111\xfang\n@Controller('users')\nexport class UserController {\n  @Get()           // L\u1ea5y d\u1eef li\u1ec7u\n  findAll() { return this.userService.findAll(); }\n\n  @Post()          // T\u1ea1o m\u1edbi\n  create(@Body() dto: CreateUserDto) { return this.userService.create(dto); }\n\n  @Put(':id')      // C\u1eadp nh\u1eadt to\xe0n b\u1ed9\n  update(@Param('id') id: string, @Body() dto: UpdateUserDto) { \n    return this.userService.update(id, dto); \n  }\n\n  @Delete(':id')   // X\xf3a\n  remove(@Param('id') id: string) { return this.userService.remove(id); }\n}\n\n// \u274c Kh\xf4ng t\u1ed1t - S\u1eed d\u1ee5ng HTTP methods sai\n@Controller('users')\nexport class UserController {\n  @Post('get-users')    // N\xean d\xf9ng @Get()\n  findAll() { return this.userService.findAll(); }\n\n  @Get('create-user')   // N\xean d\xf9ng @Post()\n  create(@Body() dto: CreateUserDto) { return this.userService.create(dto); }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"5-dependency-injection",children:"5. Dependency Injection"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="Dependency Injection Best Practices"',children:"// \u2705 T\u1ed1t - Constructor injection\n@Controller('users')\nexport class UserController {\n  constructor(\n    private readonly userService: UserService,\n    private readonly logger: Logger\n  ) {}\n}\n\n// \u274c Kh\xf4ng t\u1ed1t - Manual instantiation\n@Controller('users')\nexport class UserController {\n  private userService = new UserService(); // Kh\xf4ng s\u1eed d\u1ee5ng DI\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.admonition,{title:"\ud83d\udca1 L\u1eddi khuy\xean t\u1ed5ng k\u1ebft",type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"S\u1eed d\u1ee5ng HTTP methods \u0111\xfang m\u1ee5c \u0111\xedch"}),"\n",(0,t.jsx)(n.li,{children:"Validate input data \u0111\u1ea7y \u0111\u1ee7"}),"\n",(0,t.jsx)(n.li,{children:"X\u1eed l\xfd l\u1ed7i m\u1ed9t c\xe1ch graceful"}),"\n",(0,t.jsx)(n.li,{children:"T\xe1ch bi\u1ec7t business logic ra services"}),"\n",(0,t.jsx)(n.li,{children:"S\u1eed d\u1ee5ng DTOs cho type safety"}),"\n",(0,t.jsx)(n.li,{children:"Test controllers m\u1ed9t c\xe1ch comprehensive"}),"\n",(0,t.jsx)(n.li,{children:"Document API v\u1edbi Swagger"}),"\n",(0,t.jsx)(n.li,{children:"Follow RESTful conventions"}),"\n"]})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"B\xe0i ti\u1ebfp theo:"})," ",(0,t.jsx)(n.a,{href:"/docs/overview/services",children:"Services"})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>o});var s=r(6540);const t={},i=s.createContext(t);function l(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);