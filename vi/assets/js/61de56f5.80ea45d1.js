"use strict";(self.webpackChunktemplate_docs=self.webpackChunktemplate_docs||[]).push([[2419],{28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var l=i(96540);const s={},r=l.createContext(s);function t(e){const n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),l.createElement(r.Provider,{value:n},e.children)}},98732:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>a,frontMatter:()=>t,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"overview/modules","title":"Modules","description":"T\xecm hi\u1ec3u v\u1ec1 Modules - c\xe1ch NestJS t\u1ed5 ch\u1ee9c v\xe0 c\u1ea5u tr\xfac \u1ee9ng d\u1ee5ng","source":"@site/docs/overview/modules.md","sourceDirName":"overview","slug":"/overview/modules","permalink":"/document/vi/docs/overview/modules","draft":false,"unlisted":false,"editUrl":"https://github.com/ecom-co/document/tree/main/docs/overview/modules.md","tags":[],"version":"current","frontMatter":{"title":"Modules","description":"T\xecm hi\u1ec3u v\u1ec1 Modules - c\xe1ch NestJS t\u1ed5 ch\u1ee9c v\xe0 c\u1ea5u tr\xfac \u1ee9ng d\u1ee5ng"},"sidebar":"tutorialSidebar","previous":{"title":"C\xe0i \u0111\u1eb7t NestJS","permalink":"/document/vi/docs/installation"},"next":{"title":"Controllers","permalink":"/document/vi/docs/overview/controllers"}}');var s=i(74848),r=i(28453);const t={title:"Modules",description:"T\xecm hi\u1ec3u v\u1ec1 Modules - c\xe1ch NestJS t\u1ed5 ch\u1ee9c v\xe0 c\u1ea5u tr\xfac \u1ee9ng d\u1ee5ng"},o="Modules",c={},d=[{value:"Modules l\xe0 g\xec?",id:"modules-l\xe0-g\xec",level:2},{value:"L\xfd thuy\u1ebft v\u1ec1 Modules",id:"l\xfd-thuy\u1ebft-v\u1ec1-modules",level:2},{value:"Nguy\xean l\xfd ho\u1ea1t \u0111\u1ed9ng",id:"nguy\xean-l\xfd-ho\u1ea1t-\u0111\u1ed9ng",level:3},{value:"Module Metadata",id:"module-metadata",level:3},{value:"T\u1ea1o Module c\u01a1 b\u1ea3n",id:"t\u1ea1o-module-c\u01a1-b\u1ea3n",level:2},{value:"C\u1ea5u tr\xfac Module",id:"c\u1ea5u-tr\xfac-module",level:2},{value:"Imports",id:"imports",level:3},{value:"Controllers",id:"controllers",level:3},{value:"Providers",id:"providers",level:3},{value:"Exports",id:"exports",level:3},{value:"C\xe1c lo\u1ea1i Modules",id:"c\xe1c-lo\u1ea1i-modules",level:2},{value:"1. AppModule (Module g\u1ed1c)",id:"1-appmodule-module-g\u1ed1c",level:3},{value:"2. Feature Modules",id:"2-feature-modules",level:3},{value:"3. Shared Modules",id:"3-shared-modules",level:3},{value:"4. Global Modules",id:"4-global-modules",level:3},{value:"Module Configuration",id:"module-configuration",level:2},{value:"Dynamic Modules",id:"dynamic-modules",level:3},{value:"forRoot() Method",id:"forroot-method",level:4},{value:"forRootAsync() Method",id:"forrootasync-method",level:4},{value:"So s\xe1nh forRoot() vs forRootAsync()",id:"so-s\xe1nh-forroot-vs-forrootasync",level:4},{value:"Async Modules",id:"async-modules",level:3},{value:"Module Dependencies",id:"module-dependencies",level:2},{value:"Circular Dependencies",id:"circular-dependencies",level:3},{value:"Gi\u1ea3i ph\xe1p cho Circular Dependencies",id:"gi\u1ea3i-ph\xe1p-cho-circular-dependencies",level:3},{value:"1. S\u1eed d\u1ee5ng forwardRef()",id:"1-s\u1eed-d\u1ee5ng-forwardref",level:4},{value:"2. Refactor Architecture",id:"2-refactor-architecture",level:4},{value:"3. Event-based Communication",id:"3-event-based-communication",level:4},{value:"Conditional Imports",id:"conditional-imports",level:3},{value:"Module Scopes",id:"module-scopes",level:2},{value:"Default Scope (Singleton)",id:"default-scope-singleton",level:3},{value:"Request Scope",id:"request-scope",level:3},{value:"Transient Scope",id:"transient-scope",level:3},{value:"Module Testing",id:"module-testing",level:2},{value:"Unit Testing",id:"unit-testing",level:3},{value:"Integration Testing",id:"integration-testing",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. T\u1ed5 ch\u1ee9c theo t\xednh n\u0103ng",id:"1-t\u1ed5-ch\u1ee9c-theo-t\xednh-n\u0103ng",level:3},{value:"2. Import c\xf3 ch\u1ecdn l\u1ecdc",id:"2-import-c\xf3-ch\u1ecdn-l\u1ecdc",level:3},{value:"3. Export h\u1ee3p l\xfd",id:"3-export-h\u1ee3p-l\xfd",level:3},{value:"4. S\u1eed d\u1ee5ng Shared Modules",id:"4-s\u1eed-d\u1ee5ng-shared-modules",level:3},{value:"5. Tr\xe1nh Circular Dependencies",id:"5-tr\xe1nh-circular-dependencies",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"modules",children:"Modules"})}),"\n",(0,s.jsx)(n.p,{children:"Modules l\xe0 c\xe1ch NestJS t\u1ed5 ch\u1ee9c \u1ee9ng d\u1ee5ng th\xe0nh c\xe1c ph\u1ea7n ri\xeang bi\u1ec7t v\xe0 c\xf3 th\u1ec3 t\xe1i s\u1eed d\u1ee5ng. Ch\xfang \u0111\xf3ng vai tr\xf2 nh\u01b0 container ch\u1ee9a c\xe1c controllers, services v\xe0 providers li\xean quan."}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A[AppModule] --\x3e B[UserModule]\n    \n    style A fill:#e1f5fe\n    style B fill:#f3e5f5"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    B[UserModule] --\x3e C[UserController]\n    B --\x3e D[UserService]\n    B --\x3e E[UserRepository]\n    \n    style B fill:#f3e5f5\n    style C fill:#fce4ec\n    style D fill:#f1f8e9\n    style E fill:#fff8e1"}),"\n",(0,s.jsx)(n.admonition,{title:"\ud83d\udca1 Kh\xe1i ni\u1ec7m c\u01a1 b\u1ea3n",type:"tip",children:(0,s.jsx)(n.p,{children:'Modules trong NestJS gi\u1ed1ng nh\u01b0 c\xe1c "h\u1ed9p" ch\u1ee9a c\xe1c th\xe0nh ph\u1ea7n li\xean quan. M\u1ed7i h\u1ed9p c\xf3 th\u1ec3 ch\u1ee9a controllers, services v\xe0 c\xf3 th\u1ec3 chia s\u1ebb v\u1edbi c\xe1c h\u1ed9p kh\xe1c.'})}),"\n",(0,s.jsx)(n.h2,{id:"modules-l\xe0-g\xec",children:"Modules l\xe0 g\xec?"}),"\n",(0,s.jsx)(n.p,{children:"Modules trong NestJS:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"T\u1ed5 ch\u1ee9c code"})," - chia nh\u1ecf \u1ee9ng d\u1ee5ng th\xe0nh c\xe1c ph\u1ea7n logic"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Qu\u1ea3n l\xfd dependencies"})," - ki\u1ec3m so\xe1t vi\u1ec7c import/export providers"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Encapsulation"})," - \u1ea9n implementation details"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reusability"})," - t\xe1i s\u1eed d\u1ee5ng logic \u1edf nhi\u1ec1u n\u01a1i"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Testing"})," - d\u1ec5 d\xe0ng test t\u1eebng module \u0111\u1ed9c l\u1eadp"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"l\xfd-thuy\u1ebft-v\u1ec1-modules",children:"L\xfd thuy\u1ebft v\u1ec1 Modules"}),"\n",(0,s.jsx)(n.h3,{id:"nguy\xean-l\xfd-ho\u1ea1t-\u0111\u1ed9ng",children:"Nguy\xean l\xfd ho\u1ea1t \u0111\u1ed9ng"}),"\n",(0,s.jsxs)(n.p,{children:["Modules trong NestJS ho\u1ea1t \u0111\u1ed9ng d\u1ef1a tr\xean nguy\xean l\xfd ",(0,s.jsx)(n.strong,{children:"Dependency Injection Container"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Registration"})," - \u0110\u0103ng k\xfd providers trong module"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Resolution"})," - T\u1ef1 \u0111\u1ed9ng resolve dependencies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Lifecycle Management"})," - Qu\u1ea3n l\xfd v\xf2ng \u0111\u1eddi c\u1ee7a providers"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Scoping"})," - Ki\u1ec3m so\xe1t ph\u1ea1m vi c\u1ee7a providers"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"\ud83d\udd27 Dependency Injection Container",type:"info",children:(0,s.jsx)(n.p,{children:'DI Container l\xe0 "b\u1ed9 n\xe3o" c\u1ee7a NestJS, t\u1ef1 \u0111\u1ed9ng qu\u1ea3n l\xfd vi\u1ec7c t\u1ea1o v\xe0 k\u1ebft n\u1ed1i c\xe1c dependencies gi\u1eefa c\xe1c th\xe0nh ph\u1ea7n.'})}),"\n",(0,s.jsx)(n.h3,{id:"module-metadata",children:"Module Metadata"}),"\n",(0,s.jsx)(n.p,{children:"M\u1ed7i module \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a b\u1eb1ng metadata:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Module Metadata Structure"',children:"@Module({\n  // highlight-start\n  imports: [],      // Modules kh\xe1c c\u1ea7n import\n  controllers: [],  // Controllers c\u1ee7a module n\xe0y\n  providers: [],    // Services v\xe0 providers\n  exports: [],      // Providers \u0111\u1ec3 export cho modules kh\xe1c\n  // highlight-end\n})\n"})}),"\n",(0,s.jsx)(n.h2,{id:"t\u1ea1o-module-c\u01a1-b\u1ea3n",children:"T\u1ea1o Module c\u01a1 b\u1ea3n"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Basic Module Example"',children:"import { Module } from '@nestjs/common';\nimport { UserController } from './user.controller';\nimport { UserService } from './user.service';\n\n@Module({\n  // highlight-start\n  imports: [],\n  controllers: [UserController],\n  providers: [UserService],\n  exports: [UserService],\n  // highlight-end\n})\nexport class UserModule {}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"c\u1ea5u-tr\xfac-module",children:"C\u1ea5u tr\xfac Module"}),"\n",(0,s.jsx)(n.p,{children:"M\u1ed7i module c\xf3 4 ph\u1ea7n ch\xednh:"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A[Module] --\x3e B[imports]\n    A --\x3e C[controllers]\n    A --\x3e D[providers]\n    A --\x3e E[exports]\n    \n    B --\x3e F[Import Modules]\n    C --\x3e G[HTTP Controllers]\n    D --\x3e H[Services & Providers]\n    E --\x3e I[Export Providers]\n    \n    style A fill:#e3f2fd\n    style B fill:#f3e5f5\n    style C fill:#e8f5e8\n    style D fill:#fff3e0\n    style E fill:#fce4ec"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Module Structure Breakdown"',children:"@Module({\n  imports: [],      // Import modules kh\xe1c\n  controllers: [],  // Controllers c\u1ee7a module\n  providers: [],    // Services v\xe0 providers\n  exports: [],      // Export cho modules kh\xe1c\n})\nexport class ExampleModule {}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"imports",children:"Imports"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Import c\xe1c modules kh\xe1c"}),"\n",(0,s.jsx)(n.li,{children:"S\u1eed d\u1ee5ng providers t\u1eeb modules \u0111\xe3 import"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"controllers",children:"Controllers"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"X\u1eed l\xfd HTTP requests"}),"\n",(0,s.jsx)(n.li,{children:"\u0110\u1ecbnh ngh\u0129a routes"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"providers",children:"Providers"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Services, repositories, factories"}),"\n",(0,s.jsx)(n.li,{children:"Logic nghi\u1ec7p v\u1ee5"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"exports",children:"Exports"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Chia s\u1ebb providers v\u1edbi modules kh\xe1c"}),"\n",(0,s.jsx)(n.li,{children:"Ch\u1ec9 export nh\u1eefng g\xec c\u1ea7n thi\u1ebft"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"c\xe1c-lo\u1ea1i-modules",children:"C\xe1c lo\u1ea1i Modules"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A[Module Types] --\x3e B[AppModule]\n    A --\x3e C[Feature Modules]\n    A --\x3e D[Shared Modules]\n    A --\x3e E[Global Modules]\n    \n    style A fill:#e3f2fd\n    style B fill:#f3e5f5\n    style C fill:#e8f5e8\n    style D fill:#fff3e0\n    style E fill:#fce4ec"}),"\n",(0,s.jsx)(n.h3,{id:"1-appmodule-module-g\u1ed1c",children:"1. AppModule (Module g\u1ed1c)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," AppModule l\xe0 module ch\xednh v\xe0 duy nh\u1ea5t c\u1ee7a \u1ee9ng d\u1ee5ng NestJS. \u0110\xe2y l\xe0 \u0111i\u1ec3m kh\u1edfi \u0111\u1ea7u c\u1ee7a \u1ee9ng d\u1ee5ng."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Vai tr\xf2:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Module ch\xednh c\u1ee7a \u1ee9ng d\u1ee5ng"}),"\n",(0,s.jsx)(n.li,{children:"Import t\u1ea5t c\u1ea3 c\xe1c modules kh\xe1c"}),"\n",(0,s.jsx)(n.li,{children:"C\u1ea5u h\xecnh global providers"}),"\n",(0,s.jsx)(n.li,{children:"\u0110i\u1ec3m entry c\u1ee7a \u1ee9ng d\u1ee5ng"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Khi n\xe0o s\u1eed d\u1ee5ng:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Lu\xf4n c\u1ea7n thi\u1ebft trong m\u1ecdi \u1ee9ng d\u1ee5ng NestJS"}),"\n",(0,s.jsx)(n.li,{children:"Ch\u1ec9 c\xf3 m\u1ed9t AppModule duy nh\u1ea5t"}),"\n",(0,s.jsx)(n.li,{children:"\u0110\u01b0\u1ee3c bootstrap trong main.ts"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="AppModule Example"',children:"@Module({\n  imports: [\n    UserModule,\n    ProductModule,\n    OrderModule,\n    AuthModule,\n  ],\n  controllers: [AppController],\n  providers: [AppService],\n})\nexport class AppModule {}\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"\u26a0\ufe0f L\u01b0u \xfd quan tr\u1ecdng",type:"warning",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"AppModule kh\xf4ng n\xean ch\u1ee9a business logic"}),"\n",(0,s.jsx)(n.li,{children:"Ch\u1ec9 n\xean import c\xe1c modules kh\xe1c"}),"\n",(0,s.jsx)(n.li,{children:"C\xf3 th\u1ec3 c\xf3 m\u1ed9t s\u1ed1 global providers c\u1ea7n thi\u1ebft"}),"\n"]})}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A[AppModule] --\x3e B[UserModule]\n    A --\x3e C[ProductModule]\n    A --\x3e D[OrderModule]\n    \n    style A fill:#e3f2fd\n    style B fill:#f3e5f5\n    style C fill:#e8f5e8\n    style D fill:#fff3e0"}),"\n",(0,s.jsx)(n.h3,{id:"2-feature-modules",children:"2. Feature Modules"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Feature Modules l\xe0 c\xe1c module ch\u1ee9a logic cho m\u1ed9t t\xednh n\u0103ng c\u1ee5 th\u1ec3 c\u1ee7a \u1ee9ng d\u1ee5ng. M\u1ed7i t\xednh n\u0103ng s\u1ebd c\xf3 m\u1ed9t module ri\xeang."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Vai tr\xf2:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"T\u1ed5 ch\u1ee9c code theo t\xednh n\u0103ng"}),"\n",(0,s.jsx)(n.li,{children:"Encapsulation logic li\xean quan"}),"\n",(0,s.jsx)(n.li,{children:"D\u1ec5 d\xe0ng maintain v\xe0 test"}),"\n",(0,s.jsx)(n.li,{children:"C\xf3 th\u1ec3 t\xe1i s\u1eed d\u1ee5ng"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Khi n\xe0o s\u1eed d\u1ee5ng:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Khi c\xf3 logic nghi\u1ec7p v\u1ee5 ph\u1ee9c t\u1ea1p"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n t\xe1ch bi\u1ec7t c\xe1c t\xednh n\u0103ng"}),"\n",(0,s.jsx)(n.li,{children:"Khi mu\u1ed1n code d\u1ec5 maintain"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n t\xe1i s\u1eed d\u1ee5ng logic"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Feature Module Example"',children:"@Module({\n  controllers: [UserController],\n  providers: [UserService, UserRepository],\n  exports: [UserService],\n})\nexport class UserModule {}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"V\xed d\u1ee5 c\xe1c Feature Modules:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UserModule"})," - qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng, authentication, authorization"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ProductModule"})," - qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m, categories, inventory"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OrderModule"})," - qu\u1ea3n l\xfd \u0111\u01a1n h\xe0ng, payments, shipping"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"AuthModule"})," - x\xe1c th\u1ef1c, JWT, OAuth, permissions"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"\ud83c\udfaf L\u1ee3i \xedch c\u1ee7a Feature Modules",type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Separation of Concerns"})," - t\xe1ch bi\u1ec7t c\xe1c m\u1ed1i quan t\xe2m"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Maintainability"})," - d\u1ec5 b\u1ea3o tr\xec v\xe0 c\u1eadp nh\u1eadt"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Testability"})," - d\u1ec5 test t\u1eebng t\xednh n\u0103ng"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reusability"})," - c\xf3 th\u1ec3 t\xe1i s\u1eed d\u1ee5ng \u1edf d\u1ef1 \xe1n kh\xe1c"]}),"\n"]})}),"\n",(0,s.jsx)(n.h3,{id:"3-shared-modules",children:"3. Shared Modules"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Shared Modules l\xe0 c\xe1c module ch\u1ee9a logic chung \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng b\u1edfi nhi\u1ec1u modules kh\xe1c. Ch\xfang export c\xe1c providers \u0111\u1ec3 modules kh\xe1c c\xf3 th\u1ec3 s\u1eed d\u1ee5ng."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Vai tr\xf2:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Chia s\u1ebb logic chung"}),"\n",(0,s.jsx)(n.li,{children:"Tr\xe1nh duplicate code"}),"\n",(0,s.jsx)(n.li,{children:"Cung c\u1ea5p utilities v\xe0 helpers"}),"\n",(0,s.jsx)(n.li,{children:"T\xe1i s\u1eed d\u1ee5ng providers"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Khi n\xe0o s\u1eed d\u1ee5ng:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Khi c\xf3 logic \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u1edf nhi\u1ec1u n\u01a1i"}),"\n",(0,s.jsx)(n.li,{children:"Khi mu\u1ed1n tr\xe1nh duplicate code"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n utilities chung"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n database connections, logging, config"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Shared Module Example"',children:"@Module({\n  providers: [DatabaseService, LoggerService],\n  exports: [DatabaseService, LoggerService],\n})\nexport class SharedModule {}\n"})}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A[Shared Modules] --\x3e B[DatabaseModule]\n    A --\x3e C[LoggerModule]\n    A --\x3e D[ConfigModule]\n    A --\x3e E[CacheModule]\n    \n    B --\x3e F[Database Service]\n    C --\x3e G[Logger Service]\n    D --\x3e H[Config Service]\n    E --\x3e I[Cache Service]\n    \n    style A fill:#fff3e0\n    style B fill:#f3e5f5\n    style C fill:#e8f5e8\n    style D fill:#fce4ec\n    style E fill:#f1f8e9\n    style F fill:#f9fbe7\n    style G fill:#fff8e1\n    style H fill:#e1f5fe\n    style I fill:#f3e5f5"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"V\xed d\u1ee5 c\xe1c Shared Modules:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DatabaseModule"})," - k\u1ebft n\u1ed1i database, repositories"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"LoggerModule"})," - logging, error handling"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ConfigModule"})," - configuration, environment variables"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CacheModule"})," - caching, Redis connections"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"\ud83d\udd04 L\u1ee3i \xedch c\u1ee7a Shared Modules",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DRY Principle"})," - Don't Repeat Yourself"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consistency"})," - \u0111\u1ea3m b\u1ea3o t\xednh nh\u1ea5t qu\xe1n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Maintainability"})," - d\u1ec5 maintain khi thay \u0111\u1ed5i logic chung"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Performance"})," - t\u1ed1i \u01b0u performance v\u1edbi shared resources"]}),"\n"]})}),"\n",(0,s.jsx)(n.h3,{id:"4-global-modules",children:"4. Global Modules"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Global Modules l\xe0 c\xe1c module c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u1edf m\u1ecdi n\u01a1i trong \u1ee9ng d\u1ee5ng m\xe0 kh\xf4ng c\u1ea7n import v\xe0o t\u1eebng module."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Vai tr\xf2:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Cung c\u1ea5p utilities to\xe0n c\u1ee5c"}),"\n",(0,s.jsx)(n.li,{children:"Kh\xf4ng c\u1ea7n import \u1edf m\u1ecdi module"}),"\n",(0,s.jsx)(n.li,{children:"T\u1ef1 \u0111\u1ed9ng c\xf3 s\u1eb5n trong to\xe0n b\u1ed9 \u1ee9ng d\u1ee5ng"}),"\n",(0,s.jsx)(n.li,{children:"Gi\u1ea3m boilerplate code"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Khi n\xe0o s\u1eed d\u1ee5ng:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n utilities \u1edf m\u1ecdi n\u01a1i"}),"\n",(0,s.jsx)(n.li,{children:"Khi mu\u1ed1n gi\u1ea3m boilerplate import"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\xf3 configuration to\xe0n c\u1ee5c"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\xf3 logging, error handling to\xe0n c\u1ee5c"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Global Module Example"',children:"@Global()\n@Module({\n  providers: [ConfigService],\n  exports: [ConfigService],\n})\nexport class ConfigModule {}\n"})}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A[Global Modules] --\x3e B[ConfigModule]\n    A --\x3e C[LoggerModule]\n    A --\x3e D[ExceptionFilterModule]\n    A --\x3e E[ValidationModule]\n    \n    B --\x3e F[App Config]\n    C --\x3e G[App Logger]\n    D --\x3e H[Error Handler]\n    E --\x3e I[Validators]\n    \n    style A fill:#fce4ec\n    style B fill:#f3e5f5\n    style C fill:#e8f5e8\n    style D fill:#fff3e0\n    style E fill:#f1f8e9\n    style F fill:#f9fbe7\n    style G fill:#fff8e1\n    style H fill:#e1f5fe\n    style I fill:#f3e5f5"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"V\xed d\u1ee5 c\xe1c Global Modules:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ConfigModule"})," - configuration to\xe0n c\u1ee5c"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"LoggerModule"})," - logging to\xe0n c\u1ee5c"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ExceptionFilterModule"})," - error handling to\xe0n c\u1ee5c"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ValidationModule"})," - validation to\xe0n c\u1ee5c"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"\u26a0\ufe0f L\u01b0u \xfd quan tr\u1ecdng v\u1ec1 Global Modules",type:"warning",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Ch\u1ec9 s\u1eed d\u1ee5ng ",(0,s.jsx)(n.code,{children:"@Global()"})," khi th\u1ef1c s\u1ef1 c\u1ea7n thi\u1ebft"]}),"\n",(0,s.jsx)(n.li,{children:"Global modules c\xf3 th\u1ec3 g\xe2y kh\xf3 kh\u0103n cho testing"}),"\n",(0,s.jsx)(n.li,{children:"C\xf3 th\u1ec3 g\xe2y circular dependencies"}),"\n",(0,s.jsx)(n.li,{children:"N\xean s\u1eed d\u1ee5ng c\xf3 ch\u1ecdn l\u1ecdc"}),"\n"]})}),"\n",(0,s.jsx)(n.h2,{id:"module-configuration",children:"Module Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"dynamic-modules",children:"Dynamic Modules"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Dynamic Modules l\xe0 c\xe1c module c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c c\u1ea5u h\xecnh \u0111\u1ed9ng khi import. Ch\xfang s\u1eed d\u1ee5ng static methods \u0111\u1ec3 t\u1ea1o module v\u1edbi configuration t\xf9y ch\u1ec9nh."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Vai tr\xf2:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"C\u1ea5u h\xecnh module linh ho\u1ea1t"}),"\n",(0,s.jsx)(n.li,{children:"T\xf9y ch\u1ec9nh providers d\u1ef1a tr\xean options"}),"\n",(0,s.jsx)(n.li,{children:"T\u1ea1o module v\u1edbi configuration kh\xe1c nhau"}),"\n",(0,s.jsx)(n.li,{children:"Reusable modules v\u1edbi configuration"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Khi n\xe0o s\u1eed d\u1ee5ng:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Khi module c\u1ea7n configuration"}),"\n",(0,s.jsx)(n.li,{children:"Khi mu\u1ed1n module linh ho\u1ea1t"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n t\xf9y ch\u1ec9nh providers"}),"\n",(0,s.jsx)(n.li,{children:"Khi t\u1ea1o reusable modules"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"forroot-method",children:"forRoot() Method"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," ",(0,s.jsx)(n.code,{children:"forRoot()"})," l\xe0 static method ph\u1ed5 bi\u1ebfn nh\u1ea5t \u0111\u1ec3 c\u1ea5u h\xecnh Dynamic Modules. N\xf3 nh\u1eadn configuration options v\xe0 tr\u1ea3 v\u1ec1 DynamicModule."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"C\xe1ch ho\u1ea1t \u0111\u1ed9ng:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Nh\u1eadn configuration options l\xe0m parameter"}),"\n",(0,s.jsx)(n.li,{children:"T\u1ea1o providers d\u1ef1a tr\xean options"}),"\n",(0,s.jsx)(n.li,{children:"Tr\u1ea3 v\u1ec1 DynamicModule v\u1edbi providers \u0111\xe3 c\u1ea5u h\xecnh"}),"\n",(0,s.jsx)(n.li,{children:"Th\u01b0\u1eddng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u1edf AppModule level"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="forRoot() Method Implementation"',children:"@Module({})\nexport class DatabaseModule {\n  // highlight-next-line\n  static forRoot(options: DatabaseOptions): DynamicModule {\n    return {\n      module: DatabaseModule,\n      // highlight-start\n      providers: [\n        {\n          provide: 'DATABASE_OPTIONS',\n          useValue: options,\n        },\n        DatabaseService,\n      ],\n      // highlight-end\n      exports: [DatabaseService],\n    };\n  }\n}\n\n```typescript title=\"forRoot() Usage Example\"\n// Usage\n@Module({\n  imports: [\n    DatabaseModule.forRoot({\n      host: 'localhost',\n      port: 5432,\n      database: 'myapp',\n    }),\n  ],\n})\nexport class AppModule {}\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"\ud83d\udd27 forRoot() Pattern",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Configuration"})," - nh\u1eadn options \u0111\u1ec3 c\u1ea5u h\xecnh module"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Provider Registration"})," - \u0111\u0103ng k\xfd providers d\u1ef1a tr\xean config"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Global Setup"})," - th\u01b0\u1eddng \u0111\u01b0\u1ee3c g\u1ecdi \u1edf AppModule"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Single Instance"})," - t\u1ea1o m\u1ed9t instance duy nh\u1ea5t cho to\xe0n b\u1ed9 app"]}),"\n"]})}),"\n",(0,s.jsx)(n.h4,{id:"forrootasync-method",children:"forRootAsync() Method"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," ",(0,s.jsx)(n.code,{children:"forRootAsync()"})," l\xe0 static method \u0111\u1ec3 c\u1ea5u h\xecnh Dynamic Modules v\u1edbi async operations. N\xf3 s\u1eed d\u1ee5ng factories \u0111\u1ec3 t\u1ea1o providers b\u1ea5t \u0111\u1ed3ng b\u1ed9."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"C\xe1ch ho\u1ea1t \u0111\u1ed9ng:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Nh\u1eadn async factory function"}),"\n",(0,s.jsxs)(n.li,{children:["S\u1eed d\u1ee5ng ",(0,s.jsx)(n.code,{children:"useFactory"})," \u0111\u1ec3 t\u1ea1o providers"]}),"\n",(0,s.jsx)(n.li,{children:"C\xf3 th\u1ec3 inject dependencies t\u1eeb modules kh\xe1c"}),"\n",(0,s.jsx)(n.li,{children:"H\u1ed7 tr\u1ee3 async configuration loading"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="forRootAsync() Method Implementation"',children:"@Module({})\nexport class ConfigModule {\n  // highlight-next-line\n  static forRootAsync(options: ConfigModuleAsyncOptions): DynamicModule {\n    return {\n      module: ConfigModule,\n      imports: options.imports || [],\n      // highlight-start\n      providers: [\n        {\n          provide: 'CONFIG_OPTIONS',\n          useFactory: options.useFactory,\n          inject: options.inject || [],\n        },\n        ConfigService,\n      ],\n      // highlight-end\n      exports: [ConfigService],\n    };\n  }\n}\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="forRootAsync() Usage Example"',children:"// Usage v\u1edbi async factory\n@Module({\n  imports: [\n    ConfigModule.forRootAsync({\n      imports: [HttpModule],\n      useFactory: async (httpService: HttpService) => {\n        const response = await httpService.get('/api/config').toPromise();\n        return response.data;\n      },\n      inject: [HttpService],\n    }),\n  ],\n})\nexport class AppModule {}\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"\ud83d\udd04 forRootAsync() Pattern",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Async Configuration"})," - load config t\u1eeb external sources"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dependency Injection"})," - c\xf3 th\u1ec3 inject services t\u1eeb modules kh\xe1c"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Factory Pattern"})," - s\u1eed d\u1ee5ng factory function \u0111\u1ec3 t\u1ea1o config"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flexible Setup"})," - linh ho\u1ea1t trong vi\u1ec7c setup configuration"]}),"\n"]})}),"\n",(0,s.jsx)(n.h4,{id:"so-s\xe1nh-forroot-vs-forrootasync",children:"So s\xe1nh forRoot() vs forRootAsync()"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph TB\n    A[Dynamic Module Methods] --\x3e B[forRoot]\n    A --\x3e C[forRootAsync]\n    \n    B --\x3e D[Static Configuration]\n    B --\x3e E[Simple Setup]\n    B --\x3e F[No Dependencies]\n    \n    C --\x3e G[Async Configuration]\n    C --\x3e H[Factory Pattern]\n    C --\x3e I[Can Inject Dependencies]\n    \n    style A fill:#e1f5fe\n    style B fill:#e8f5e8\n    style C fill:#fff3e0"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Aspect"}),(0,s.jsx)(n.th,{children:"forRoot()"}),(0,s.jsx)(n.th,{children:"forRootAsync()"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Configuration"})}),(0,s.jsx)(n.td,{children:"Static options"}),(0,s.jsx)(n.td,{children:"Async factory"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Dependencies"})}),(0,s.jsx)(n.td,{children:"Kh\xf4ng th\u1ec3 inject"}),(0,s.jsx)(n.td,{children:"C\xf3 th\u1ec3 inject t\u1eeb modules kh\xe1c"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Use Case"})}),(0,s.jsx)(n.td,{children:"Simple configuration"}),(0,s.jsx)(n.td,{children:"Complex async setup"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Performance"})}),(0,s.jsx)(n.td,{children:"Synchronous"}),(0,s.jsx)(n.td,{children:"Asynchronous"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Complexity"})}),(0,s.jsx)(n.td,{children:"\u0110\u01a1n gi\u1ea3n"}),(0,s.jsx)(n.td,{children:"Ph\u1ee9c t\u1ea1p h\u01a1n"})]})]})]}),"\n",(0,s.jsx)(n.admonition,{title:"\ud83c\udfaf L\u1ee3i \xedch c\u1ee7a Dynamic Modules",type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flexibility"})," - linh ho\u1ea1t trong c\u1ea5u h\xecnh"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reusability"})," - t\xe1i s\u1eed d\u1ee5ng v\u1edbi config kh\xe1c nhau"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type Safety"})," - type-safe configuration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Testing"})," - d\u1ec5 test v\u1edbi config kh\xe1c nhau"]}),"\n"]})}),"\n",(0,s.jsx)(n.h3,{id:"async-modules",children:"Async Modules"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Async Modules l\xe0 c\xe1c module c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c c\u1ea5u h\xecnh b\u1ea5t \u0111\u1ed3ng b\u1ed9. Ch\xfang s\u1eed d\u1ee5ng factories \u0111\u1ec3 t\u1ea1o providers v\u1edbi async operations."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Vai tr\xf2:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"C\u1ea5u h\xecnh module b\u1ea5t \u0111\u1ed3ng b\u1ed9"}),"\n",(0,s.jsx)(n.li,{children:"Load configuration t\u1eeb external sources"}),"\n",(0,s.jsx)(n.li,{children:"Initialize providers v\u1edbi async operations"}),"\n",(0,s.jsx)(n.li,{children:"Dynamic configuration loading"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Khi n\xe0o s\u1eed d\u1ee5ng:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n load config t\u1eeb file/database"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n async initialization"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n dynamic configuration"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n environment-specific config"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Async Module Example"',children:"@Module({})\nexport class ConfigModule {\n  static forRootAsync(options: ConfigModuleAsyncOptions): DynamicModule {\n    return {\n      module: ConfigModule,\n      imports: options.imports || [],\n      providers: [\n        {\n          provide: 'CONFIG_OPTIONS',\n          useFactory: options.useFactory,\n          inject: options.inject || [],\n        },\n        ConfigService,\n      ],\n      exports: [ConfigService],\n    };\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"module-dependencies",children:"Module Dependencies"}),"\n",(0,s.jsx)(n.h3,{id:"circular-dependencies",children:"Circular Dependencies"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Circular Dependencies x\u1ea3y ra khi hai modules ph\u1ee5 thu\u1ed9c l\u1eabn nhau. \u0110i\u1ec1u n\xe0y c\xf3 th\u1ec3 g\xe2y ra l\u1ed7i trong qu\xe1 tr\xecnh bootstrap."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"V\u1ea5n \u0111\u1ec1:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"G\xe2y l\u1ed7i khi bootstrap"}),"\n",(0,s.jsx)(n.li,{children:"Kh\xf3 maintain v\xe0 debug"}),"\n",(0,s.jsx)(n.li,{children:"C\xf3 th\u1ec3 g\xe2y memory leaks"}),"\n",(0,s.jsx)(n.li,{children:"Kh\xf3 test"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Gi\u1ea3i ph\xe1p:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["S\u1eed d\u1ee5ng ",(0,s.jsx)(n.code,{children:"forwardRef()"})]}),"\n",(0,s.jsx)(n.li,{children:"Refactor code \u0111\u1ec3 tr\xe1nh circular dependencies"}),"\n",(0,s.jsx)(n.li,{children:"S\u1eed d\u1ee5ng events ho\u1eb7c message passing"}),"\n",(0,s.jsx)(n.li,{children:"T\xe1ch logic chung ra shared module"}),"\n"]}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A[UserModule] -.->|forwardRef| B[OrderModule]\n    B -.->|forwardRef| A\n    \n    style A fill:#f3e5f5\n    style B fill:#e8f5e8"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Circular Dependencies with forwardRef()"',children:"// UserModule\n@Module({\n  // highlight-start\n  imports: [forwardRef(() => OrderModule)],\n  // highlight-end\n  exports: [UserService],\n})\nexport class UserModule {}\n\n// OrderModule\n@Module({\n  // highlight-start\n  imports: [forwardRef(() => UserModule)],\n  // highlight-end\n  exports: [OrderService],\n})\nexport class OrderModule {}\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"\u26a0\ufe0f Circular Dependencies",type:"warning",children:(0,s.jsxs)(n.p,{children:["Circular dependencies l\xe0 m\u1ed9t v\u1ea5n \u0111\u1ec1 ph\u1ee9c t\u1ea1p. Lu\xf4n c\u1ed1 g\u1eafng thi\u1ebft k\u1ebf ki\u1ebfn tr\xfac \u0111\u1ec3 tr\xe1nh ch\xfang, ch\u1ec9 s\u1eed d\u1ee5ng ",(0,s.jsx)(n.code,{children:"forwardRef()"})," khi th\u1ef1c s\u1ef1 c\u1ea7n thi\u1ebft."]})}),"\n",(0,s.jsx)(n.h3,{id:"gi\u1ea3i-ph\xe1p-cho-circular-dependencies",children:"Gi\u1ea3i ph\xe1p cho Circular Dependencies"}),"\n",(0,s.jsx)(n.h4,{id:"1-s\u1eed-d\u1ee5ng-forwardref",children:"1. S\u1eed d\u1ee5ng forwardRef()"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="forwardRef Solution"',children:"// UserModule\n@Module({\n  imports: [forwardRef(() => OrderModule)],\n  exports: [UserService],\n})\nexport class UserModule {}\n\n// OrderModule\n@Module({\n  imports: [forwardRef(() => UserModule)],\n  exports: [OrderService],\n})\nexport class OrderModule {}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"2-refactor-architecture",children:"2. Refactor Architecture"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A[UserModule] --\x3e C[SharedModule]\n    B[OrderModule] --\x3e C\n    \n    style A fill:#f3e5f5\n    style B fill:#e8f5e8\n    style C fill:#fff3e0"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Refactored Architecture"',children:"// SharedModule - gi\u1ea3i quy\u1ebft circular dependency\n@Module({\n  providers: [UserOrderService, CommonUtils],\n  exports: [UserOrderService, CommonUtils],\n})\nexport class SharedModule {}\n\n// UserModule\n@Module({\n  imports: [SharedModule],\n  exports: [UserService],\n})\nexport class UserModule {}\n\n// OrderModule\n@Module({\n  imports: [SharedModule],\n  exports: [OrderService],\n})\nexport class OrderModule {}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"3-event-based-communication",children:"3. Event-based Communication"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A[UserModule] --\x3e C[EventBus]\n    B[OrderModule] --\x3e C\n    \n    style A fill:#f3e5f5\n    style B fill:#e8f5e8\n    style C fill:#fff3e0"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Event-based Solution"',children:"// UserModule\n@Module({\n  providers: [UserService, UserEvents],\n  exports: [UserService],\n})\nexport class UserModule {}\n\n// OrderModule\n@Module({\n  providers: [OrderService, OrderEvents],\n  exports: [OrderService],\n})\nexport class OrderModule {}\n\n// S\u1eed d\u1ee5ng events thay v\xec direct imports\n@Injectable()\nexport class UserService {\n  constructor(private eventBus: EventBus) {}\n\n  createUser(dto: CreateUserDto) {\n    // T\u1ea1o user\n    const user = this.userRepository.create(dto);\n    \n    // Emit event thay v\xec g\u1ecdi tr\u1ef1c ti\u1ebfp OrderService\n    this.eventBus.emit('user.created', user);\n    \n    return user;\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"conditional-imports",children:"Conditional Imports"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Conditional Imports cho ph\xe9p import modules d\u1ef1a tr\xean \u0111i\u1ec1u ki\u1ec7n nh\u01b0 environment, configuration, ho\u1eb7c runtime conditions."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Vai tr\xf2:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Import modules theo environment"}),"\n",(0,s.jsx)(n.li,{children:"Dynamic module loading"}),"\n",(0,s.jsx)(n.li,{children:"Feature flags"}),"\n",(0,s.jsx)(n.li,{children:"Environment-specific modules"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Conditional Module Imports"',children:"@Module({\n  imports: [\n    process.env.NODE_ENV === 'production' \n      ? ProductionModule \n      : DevelopmentModule,\n  ],\n})\nexport class AppModule {}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"module-scopes",children:"Module Scopes"}),"\n",(0,s.jsx)(n.h3,{id:"default-scope-singleton",children:"Default Scope (Singleton)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," M\u1eb7c \u0111\u1ecbnh, t\u1ea5t c\u1ea3 providers trong NestJS \u0111\u1ec1u c\xf3 scope l\xe0 singleton. \u0110i\u1ec1u n\xe0y c\xf3 ngh\u0129a l\xe0 ch\u1ec9 c\xf3 m\u1ed9t instance duy nh\u1ea5t cho to\xe0n b\u1ed9 \u1ee9ng d\u1ee5ng."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u0110\u1eb7c \u0111i\u1ec3m:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"M\u1ed9t instance duy nh\u1ea5t"}),"\n",(0,s.jsx)(n.li,{children:"Shared state across requests"}),"\n",(0,s.jsx)(n.li,{children:"Memory efficient"}),"\n",(0,s.jsx)(n.li,{children:"Kh\xf4ng thread-safe"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Singleton Scope (Default)"',children:"@Injectable()\nexport class UserService {\n  // M\u1ed9t instance duy nh\u1ea5t cho to\xe0n b\u1ed9 \u1ee9ng d\u1ee5ng\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"request-scope",children:"Request Scope"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Request Scope t\u1ea1o ra m\u1ed9t instance m\u1edbi cho m\u1ed7i HTTP request. M\u1ed7i request s\u1ebd c\xf3 instance ri\xeang c\u1ee7a provider."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u0110\u1eb7c \u0111i\u1ec3m:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Instance m\u1edbi cho m\u1ed7i request"}),"\n",(0,s.jsx)(n.li,{children:"Isolated state per request"}),"\n",(0,s.jsx)(n.li,{children:"Thread-safe"}),"\n",(0,s.jsx)(n.li,{children:"Memory overhead"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Khi n\xe0o s\u1eed d\u1ee5ng:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n isolated state per request"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n request-specific data"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n thread safety"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n user-specific context"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Request Scope Example"',children:"@Injectable({ \n  // highlight-next-line\n  scope: Scope.REQUEST \n})\nexport class UserService {\n  // M\u1ed9t instance m\u1edbi cho m\u1ed7i request\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"transient-scope",children:"Transient Scope"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u0110\u1ecbnh ngh\u0129a:"})," Transient Scope t\u1ea1o ra m\u1ed9t instance m\u1edbi m\u1ed7i l\u1ea7n provider \u0111\u01b0\u1ee3c inject. M\u1ed7i injection s\u1ebd c\xf3 instance ri\xeang."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u0110\u1eb7c \u0111i\u1ec3m:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Instance m\u1edbi m\u1ed7i l\u1ea7n inject"}),"\n",(0,s.jsx)(n.li,{children:"No shared state"}),"\n",(0,s.jsx)(n.li,{children:"Memory overhead"}),"\n",(0,s.jsx)(n.li,{children:"Complete isolation"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Khi n\xe0o s\u1eed d\u1ee5ng:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n complete isolation"}),"\n",(0,s.jsx)(n.li,{children:"Khi kh\xf4ng mu\u1ed1n shared state"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n fresh instance m\u1ed7i l\u1ea7n"}),"\n",(0,s.jsx)(n.li,{children:"Khi c\u1ea7n temporary objects"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Transient Scope Example"',children:"@Injectable({ \n  // highlight-next-line\n  scope: Scope.TRANSIENT \n})\nexport class UserService {\n  // M\u1ed9t instance m\u1edbi m\u1ed7i l\u1ea7n inject\n}\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"\ud83d\udcca So s\xe1nh c\xe1c Scopes",type:"info",children:(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Scope"}),(0,s.jsx)(n.th,{children:"Instance"}),(0,s.jsx)(n.th,{children:"Memory"}),(0,s.jsx)(n.th,{children:"Thread-safe"}),(0,s.jsx)(n.th,{children:"Use Case"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Singleton"}),(0,s.jsx)(n.td,{children:"1"}),(0,s.jsx)(n.td,{children:"Low"}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Shared state"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Request"}),(0,s.jsx)(n.td,{children:"Per request"}),(0,s.jsx)(n.td,{children:"Medium"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"Request isolation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Transient"}),(0,s.jsx)(n.td,{children:"Per injection"}),(0,s.jsx)(n.td,{children:"High"}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"Complete isolation"})]})]})]})}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A[Module Scopes] --\x3e B[Singleton]\n    A --\x3e C[Request]\n    A --\x3e D[Transient]\n    \n    style A fill:#e1f5fe\n    style B fill:#e8f5e8\n    style C fill:#fff3e0\n    style D fill:#fce4ec"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    B[Singleton] --\x3e E[1 Instance cho to\xe0n app]\n    B --\x3e F[Shared State]\n    B --\x3e G[Memory Efficient]\n    \n    C[Request] --\x3e H[1 Instance cho m\u1ed7i request]\n    C --\x3e I[Isolated State]\n    C --\x3e J[Thread Safe]\n    \n    D[Transient] --\x3e K[1 Instance cho m\u1ed7i injection]\n    D --\x3e L[No Shared State]\n    D --\x3e M[Complete Isolation]\n    \n    style B fill:#e8f5e8\n    style C fill:#fff3e0\n    style D fill:#fce4ec\n    style E fill:#f1f8e9\n    style F fill:#fff8e1\n    style G fill:#f3e5f5\n    style H fill:#e1f5fe\n    style I fill:#f9fbe7\n    style J fill:#e8f5e8\n    style K fill:#fce4ec\n    style L fill:#ffebee\n    style M fill:#fff3e0"}),"\n",(0,s.jsx)(n.h2,{id:"module-testing",children:"Module Testing"}),"\n",(0,s.jsx)(n.h3,{id:"unit-testing",children:"Unit Testing"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"M\u1ee5c \u0111\xedch:"})," Test t\u1eebng module \u0111\u1ed9c l\u1eadp \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o module ho\u1ea1t \u0111\u1ed9ng \u0111\xfang."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Ph\u01b0\u01a1ng ph\xe1p:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Test module configuration"}),"\n",(0,s.jsx)(n.li,{children:"Test providers registration"}),"\n",(0,s.jsx)(n.li,{children:"Test exports"}),"\n",(0,s.jsx)(n.li,{children:"Mock dependencies"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Module Unit Testing"',children:"describe('UserModule', () => {\n  let module: TestingModule;\n\n  beforeEach(async () => {\n    // highlight-start\n    module = await Test.createTestingModule({\n      imports: [UserModule],\n    }).compile();\n    // highlight-end\n  });\n\n  it('should be defined', () => {\n    expect(module).toBeDefined();\n  });\n\n  it('should have UserService', () => {\n    // highlight-next-line\n    const userService = module.get<UserService>(UserService);\n    expect(userService).toBeDefined();\n  });\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"integration-testing",children:"Integration Testing"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"M\u1ee5c \u0111\xedch:"})," Test module trong context c\u1ee7a \u1ee9ng d\u1ee5ng ho\xe0n ch\u1ec9nh."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Ph\u01b0\u01a1ng ph\xe1p:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Test v\u1edbi real dependencies"}),"\n",(0,s.jsx)(n.li,{children:"Test HTTP endpoints"}),"\n",(0,s.jsx)(n.li,{children:"Test database operations"}),"\n",(0,s.jsx)(n.li,{children:"Test error scenarios"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Module Integration Testing"',children:"describe('UserModule Integration', () => {\n  let app: INestApplication;\n\n  beforeEach(async () => {\n    const moduleFixture = await Test.createTestingModule({\n      imports: [UserModule],\n    }).compile();\n\n    app = moduleFixture.createNestApplication();\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await app.close();\n  });\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"1-t\u1ed5-ch\u1ee9c-theo-t\xednh-n\u0103ng",children:"1. T\u1ed5 ch\u1ee9c theo t\xednh n\u0103ng"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A[Module Organization] --\x3e B[\u2705 Feature-based]\n    A --\x3e C[\u274c Monolithic]\n    \n    style A fill:#e1f5fe\n    style B fill:#e8f5e8\n    style C fill:#ffebee"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    B[Feature-based] --\x3e D[UserModule]\n    B --\x3e E[ProductModule]\n    B --\x3e F[OrderModule]\n    \n    C[Monolithic] --\x3e G[BigModule]\n    G --\x3e H[UserController]\n    G --\x3e I[ProductController]\n    G --\x3e J[OrderController]\n    \n    style B fill:#e8f5e8\n    style C fill:#ffebee\n    style G fill:#ffebee\n    style D fill:#f1f8e9\n    style E fill:#fff3e0\n    style F fill:#fce4ec\n    style H fill:#f3e5f5\n    style I fill:#e8f5e8\n    style J fill:#fff3e0"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Feature-based Module Organization"',children:"// \u2705 T\u1ed1t - M\u1ed7i t\xednh n\u0103ng m\u1ed9t module\n@Module({\n  controllers: [UserController],\n  providers: [UserService, UserRepository],\n  exports: [UserService],\n})\nexport class UserModule {}\n\n// \u274c Kh\xf4ng t\u1ed1t - Module qu\xe1 l\u1edbn\n@Module({\n  controllers: [UserController, ProductController, OrderController],\n  providers: [UserService, ProductService, OrderService, ...],\n})\nexport class BigModule {}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-import-c\xf3-ch\u1ecdn-l\u1ecdc",children:"2. Import c\xf3 ch\u1ecdn l\u1ecdc"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Selective Module Imports"',children:"// \u2705 T\u1ed1t - Ch\u1ec9 import c\u1ea7n thi\u1ebft\n@Module({\n  imports: [UserModule, AuthModule],\n  controllers: [OrderController],\n  providers: [OrderService],\n})\nexport class OrderModule {}\n\n// \u274c Kh\xf4ng t\u1ed1t - Import t\u1ea5t c\u1ea3\n@Module({\n  imports: [UserModule, ProductModule, AuthModule, PaymentModule, ...],\n})\nexport class OrderModule {}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-export-h\u1ee3p-l\xfd",children:"3. Export h\u1ee3p l\xfd"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Selective Module Exports"',children:"// \u2705 T\u1ed1t - Ch\u1ec9 export c\u1ea7n thi\u1ebft\n@Module({\n  providers: [UserService, UserRepository, UserHelper],\n  exports: [UserService], // Ch\u1ec9 export UserService\n})\nexport class UserModule {}\n\n// \u274c Kh\xf4ng t\u1ed1t - Export t\u1ea5t c\u1ea3\n@Module({\n  providers: [UserService, UserRepository, UserHelper],\n  exports: [UserService, UserRepository, UserHelper], // Export t\u1ea5t c\u1ea3\n})\nexport class UserModule {}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4-s\u1eed-d\u1ee5ng-shared-modules",children:"4. S\u1eed d\u1ee5ng Shared Modules"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Shared Module Usage"',children:"// \u2705 T\u1ed1t - T\xe1i s\u1eed d\u1ee5ng logic chung\n@Module({\n  providers: [LoggerService, DatabaseService],\n  exports: [LoggerService, DatabaseService],\n})\nexport class SharedModule {}\n\n// \u274c Kh\xf4ng t\u1ed1t - Duplicate code\n@Module({\n  providers: [LoggerService, DatabaseService], // Duplicate trong nhi\u1ec1u modules\n})\nexport class UserModule {}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"5-tr\xe1nh-circular-dependencies",children:"5. Tr\xe1nh Circular Dependencies"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",metastring:'title="Circular Dependencies Handling"',children:"// \u2705 T\u1ed1t - S\u1eed d\u1ee5ng forwardRef khi c\u1ea7n\n@Module({\n  imports: [forwardRef(() => OrderModule)],\n})\nexport class UserModule {}\n\n// \u274c Kh\xf4ng t\u1ed1t - Circular dependency tr\u1ef1c ti\u1ebfp\n@Module({\n  imports: [OrderModule], // S\u1ebd g\xe2y l\u1ed7i\n})\nexport class UserModule {}\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.admonition,{title:"\ud83d\udca1 L\u1eddi khuy\xean t\u1ed5ng k\u1ebft",type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"B\u1eaft \u0111\u1ea7u v\u1edbi m\u1ed9t module \u0111\u01a1n gi\u1ea3n"}),"\n",(0,s.jsx)(n.li,{children:"T\xe1ch module khi c\xf3 nhi\u1ec1u t\xednh n\u0103ng"}),"\n",(0,s.jsx)(n.li,{children:"S\u1eed d\u1ee5ng Global modules cho utilities chung"}),"\n",(0,s.jsx)(n.li,{children:"Tr\xe1nh circular dependencies"}),"\n",(0,s.jsx)(n.li,{children:"Test t\u1eebng module \u0111\u1ed9c l\u1eadp"}),"\n",(0,s.jsx)(n.li,{children:"Export ch\u1ec9 nh\u1eefng g\xec c\u1ea7n thi\u1ebft"}),"\n",(0,s.jsx)(n.li,{children:"S\u1eed d\u1ee5ng Shared modules \u0111\u1ec3 tr\xe1nh duplicate code"}),"\n"]})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"B\xe0i ti\u1ebfp theo:"})," ",(0,s.jsx)(n.a,{href:"/docs/overview/controllers",children:"Controllers"})]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);