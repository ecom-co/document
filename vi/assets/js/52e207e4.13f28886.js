"use strict";(self.webpackChunktemplate_docs=self.webpackChunktemplate_docs||[]).push([[8311],{11470:(e,r,n)=>{n.d(r,{A:()=>C});var i=n(96540),t=n(34164),l=n(23104),s=n(56347),o=n(205),c=n(57485),a=n(31682),d=n(70679);function u(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:r,children:n}=e;return(0,i.useMemo)(()=>{const e=r??function(e){return u(e).map(({props:{value:e,label:r,attributes:n,default:i}})=>({value:e,label:r,attributes:n,default:i}))}(n);return function(e){const r=(0,a.XI)(e,(e,r)=>e.value===r.value);if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[r,n])}function h({value:e,tabValues:r}){return r.some(r=>r.value===e)}function g({queryString:e=!1,groupId:r}){const n=(0,s.W6)(),t=function({queryString:e=!1,groupId:r}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:e,groupId:r});return[(0,c.aZ)(t),(0,i.useCallback)(e=>{if(!t)return;const r=new URLSearchParams(n.location.search);r.set(t,e),n.replace({...n.location,search:r.toString()})},[t,n])]}function m(e){const{defaultValue:r,queryString:n=!1,groupId:t}=e,l=p(e),[s,c]=(0,i.useState)(()=>function({defaultValue:e,tabValues:r}){if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${r.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=r.find(e=>e.default)??r[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:r,tabValues:l})),[a,u]=g({queryString:n,groupId:t}),[m,f]=function({groupId:e}){const r=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,t]=(0,d.Dv)(r);return[n,(0,i.useCallback)(e=>{r&&t.set(e)},[r,t])]}({groupId:t}),b=(()=>{const e=a??m;return h({value:e,tabValues:l})?e:null})();(0,o.A)(()=>{b&&c(b)},[b]);return{selectedValue:s,selectValue:(0,i.useCallback)(e=>{if(!h({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);c(e),u(e),f(e)},[u,f,l]),tabValues:l}}var f=n(92303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=n(74848);function v({className:e,block:r,selectedValue:n,selectValue:i,tabValues:s}){const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,l.a_)(),a=e=>{const r=e.currentTarget,t=o.indexOf(r),l=s[t].value;l!==n&&(c(r),i(l))},d=e=>{let r=null;switch(e.key){case"Enter":a(e);break;case"ArrowRight":{const n=o.indexOf(e.currentTarget)+1;r=o[n]??o[0];break}case"ArrowLeft":{const n=o.indexOf(e.currentTarget)-1;r=o[n]??o[o.length-1];break}}r?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":r},e),children:s.map(({value:e,label:r,attributes:i})=>(0,x.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{o.push(e)},onKeyDown:d,onClick:a,...i,className:(0,t.A)("tabs__item",b.tabItem,i?.className,{"tabs__item--active":n===e}),children:r??e},e))})}function j({lazy:e,children:r,selectedValue:n}){const l=(Array.isArray(r)?r:[r]).filter(Boolean);if(e){const e=l.find(e=>e.props.value===n);return e?(0,i.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:l.map((e,r)=>(0,i.cloneElement)(e,{key:r,hidden:e.props.value!==n}))})}function y(e){const r=m(e);return(0,x.jsxs)("div",{className:(0,t.A)("tabs-container",b.tabList),children:[(0,x.jsx)(v,{...r,...e}),(0,x.jsx)(j,{...r,...e})]})}function C(e){const r=(0,f.A)();return(0,x.jsx)(y,{...e,children:u(e.children)},String(r))}},14325:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"ecom-co/libs/grpc/grpc-library","title":"gRPC Library","description":"gRPC Library cung c\u1ea5p c\xe1c utilities v\xe0 helpers \u0111\u1ec3 implement gRPC communication trong NestJS applications.","source":"@site/docs/ecom-co/libs/grpc/grpc-library.md","sourceDirName":"ecom-co/libs/grpc","slug":"/ecom-co/libs/grpc/grpc-library","permalink":"/document/vi/docs/ecom-co/libs/grpc/grpc-library","draft":false,"unlisted":false,"editUrl":"https://github.com/ecom-co/document/tree/main/docs/ecom-co/libs/grpc/grpc-library.md","tags":[],"version":"current","frontMatter":{"id":"grpc-library","title":"gRPC Library","sidebar_label":"gRPC Library"},"sidebar":"tutorialSidebar","previous":{"title":"T\u1ed5ng quan","permalink":"/document/vi/docs/ecom-co/ecom-co-overview"},"next":{"title":"Proto Utils","permalink":"/document/vi/docs/proto-utils"}}');var t=n(74848),l=n(28453),s=n(11470),o=n(19365);const c={id:"grpc-library",title:"gRPC Library",sidebar_label:"gRPC Library"},a="gRPC Library",d={},u=[{value:"gRPC Library l\xe0 g\xec?",id:"grpc-library-l\xe0-g\xec",level:2},{value:"Ki\u1ebfn tr\xfac gRPC Library",id:"ki\u1ebfn-tr\xfac-grpc-library",level:2},{value:"C\xe1ch s\u1eed d\u1ee5ng",id:"c\xe1ch-s\u1eed-d\u1ee5ng",level:2},{value:"<strong>1. Installation</strong>",id:"1-installation",level:3},{value:"<strong>2. Basic Usage</strong>",id:"2-basic-usage",level:3},{value:"C\xe1c th\xe0nh ph\u1ea7n ch\xednh",id:"c\xe1c-th\xe0nh-ph\u1ea7n-ch\xednh",level:2},{value:"T\xednh n\u0103ng n\u1ed5i b\u1eadt",id:"t\xednh-n\u0103ng-n\u1ed5i-b\u1eadt",level:2}];function p(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"grpc-library",children:"gRPC Library"})}),"\n",(0,t.jsx)(r.admonition,{title:"\ud83d\udca1 Kh\xe1i ni\u1ec7m c\u01a1 b\u1ea3n",type:"tip",children:(0,t.jsx)(r.p,{children:"gRPC Library cung c\u1ea5p c\xe1c utilities v\xe0 helpers \u0111\u1ec3 implement gRPC communication trong NestJS applications."})}),"\n",(0,t.jsx)(r.h2,{id:"grpc-library-l\xe0-g\xec",children:"gRPC Library l\xe0 g\xec?"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"L\xfd thuy\u1ebft c\u01a1 b\u1ea3n:"}),"\ngRPC Library l\xe0 m\u1ed9t th\u01b0 vi\u1ec7n \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1eb7c bi\u1ec7t \u0111\u1ec3 simplify qu\xe1 tr\xecnh implement gRPC communication trong NestJS applications, cung c\u1ea5p comprehensive tools cho c\u1ea3 client v\xe0 server side."]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"\u0110\u1eb7c \u0111i\u1ec3m k\u1ef9 thu\u1eadt:"})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Protocol Buffers Integration"}),": H\u1ed7 tr\u1ee3 \u0111\u1ea7y \u0111\u1ee7 Protocol Buffers v\u1edbi utilities"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Client-Server Communication"}),": Wrapper classes cho gRPC operations"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Validation System"}),": Built-in validation pipe cho gRPC requests"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Exception Handling"}),": Comprehensive exception filters cho client v\xe0 server"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Error Management"}),": Structured error responses v\xe0 logging"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Production Ready"}),": Timeout handling, retry logic, v\xe0 monitoring"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"ki\u1ebfn-tr\xfac-grpc-library",children:"Ki\u1ebfn tr\xfac gRPC Library"}),"\n",(0,t.jsx)(r.mermaid,{value:"flowchart TD\n    A[gRPC Library] --\x3e|1. Protocol Buffers| B[Proto Utils]\n    A --\x3e|2. Client Operations| C[Wrapped gRPC]\n    A --\x3e|3. Request Validation| D[gRPC Validation Pipe]\n    A --\x3e|4. Server Error Handling| E[Server Exception Filter]\n    A --\x3e|5. Client Error Handling| F[Client Exception Filter]\n    A --\x3e|6. Utilities| G[gRPC Utilities]\n    A --\x3e|7. Custom Exceptions| H[gRPC Exceptions]\n    \n    B --\x3e I[Proto File Processing]\n    C --\x3e J[Retry Logic & Timeout]\n    D --\x3e K[Request Validation]\n    E --\x3e L[Server Error Responses]\n    F --\x3e M[HTTP Error Mapping]\n    G --\x3e N[Connection Management]\n    H --\x3e O[Error Information]\n    \n    style A fill:#e3f2fd\n    style B fill:#e8f5e8\n    style C fill:#f3e5f5\n    style D fill:#fff3e0\n    style E fill:#fce4ec\n    style F fill:#f1f8e9\n    style G fill:#fff8e1\n    style H fill:#ffcdd2\n    style I fill:#e8f5e8\n    style J fill:#f3e5f5\n    style K fill:#fff3e0\n    style L fill:#fce4ec\n    style M fill:#f1f8e9\n    style N fill:#fff8e1\n    style O fill:#e8f5e8"}),"\n",(0,t.jsx)(r.h2,{id:"c\xe1ch-s\u1eed-d\u1ee5ng",children:"C\xe1ch s\u1eed d\u1ee5ng"}),"\n",(0,t.jsx)(r.h3,{id:"1-installation",children:(0,t.jsx)(r.strong,{children:"1. Installation"})}),"\n",(0,t.jsxs)(s.A,{children:[(0,t.jsx)(o.A,{value:"npm",label:"npm",children:(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"npm install @ecom-co/grpc\n"})})}),(0,t.jsx)(o.A,{value:"yarn",label:"yarn",children:(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"yarn add @ecom-co/grpc\n"})})}),(0,t.jsx)(o.A,{value:"pnpm",label:"pnpm",children:(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"pnpm add @ecom-co/grpc\n"})})})]}),"\n",(0,t.jsx)(r.h3,{id:"2-basic-usage",children:(0,t.jsx)(r.strong,{children:"2. Basic Usage"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-typescript",children:"// Proto Utils\nimport { ProtoUtils } from '@ecom-co/grpc';\n\n// Wrapped gRPC Client\nimport { createWrappedGrpc } from '@ecom-co/grpc';\n\n// Validation Pipe\nimport { GrpcValidationPipe } from '@ecom-co/grpc';\n\n// Exception Filters\nimport { GrpcClientFilter, GrpcServerFilter } from '@ecom-co/grpc';\n"})}),"\n",(0,t.jsx)(r.h2,{id:"c\xe1c-th\xe0nh-ph\u1ea7n-ch\xednh",children:"C\xe1c th\xe0nh ph\u1ea7n ch\xednh"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:(0,t.jsx)(r.a,{href:"/docs/ecom-co/libs/grpc/docs/proto-utils",children:"Proto Utils"})}),": Utilities \u0111\u1ec3 l\xe0m vi\u1ec7c v\u1edbi Protocol Buffers, bao g\u1ed3m proto file parsing, validation, v\xe0 code generation"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:(0,t.jsx)(r.a,{href:"/docs/ecom-co/libs/grpc/docs/wrapped-grpc",children:"Wrapped gRPC"})}),": Wrapper classes cho gRPC operations v\u1edbi retry logic, timeout handling, v\xe0 error management"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:(0,t.jsx)(r.a,{href:"/docs/ecom-co/libs/grpc/docs/grpc-validation-pipe",children:"gRPC Validation Pipe"})}),": Validation pipe cho gRPC requests v\u1edbi custom validation rules v\xe0 error handling"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:(0,t.jsx)(r.a,{href:"/docs/ecom-co/libs/grpc/docs/grpc-server-exception-filter",children:"gRPC Server Exception Filter"})}),": Exception filter cho gRPC server v\u1edbi structured error responses v\xe0 logging"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:(0,t.jsx)(r.a,{href:"/docs/ecom-co/libs/grpc/docs/grpc-utilities",children:"gRPC Utilities"})}),": C\xe1c utility functions cho gRPC operations, connection management, v\xe0 monitoring"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:(0,t.jsx)(r.a,{href:"/docs/ecom-co/libs/grpc/docs/grpc-client-exception-filter",children:"gRPC Client Exception Filter"})}),": Exception filter cho gRPC client v\u1edbi HTTP error mapping v\xe0 production-safe error handling"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:(0,t.jsx)(r.a,{href:"/docs/ecom-co/libs/grpc/docs/grpc-exceptions",children:"gRPC Exceptions"})}),": Custom exceptions cho gRPC v\u1edbi detailed error information v\xe0 status code mapping"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"t\xednh-n\u0103ng-n\u1ed5i-b\u1eadt",children:"T\xednh n\u0103ng n\u1ed5i b\u1eadt"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Retry & Timeout"}),": T\u1ef1 \u0111\u1ed9ng retry v\u1edbi exponential backoff v\xe0 timeout protection"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Error Mapping"}),": Map gRPC errors sang HTTP status codes chu\u1ea9n"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Production Safety"}),": Sanitized error messages v\xe0 security headers"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Monitoring"}),": Built-in metrics tracking v\xe0 logging"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Flexible Configuration"}),": Environment-specific settings v\xe0 custom options"]}),"\n"]}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"B\xe0i ti\u1ebfp theo:"})," ",(0,t.jsx)(r.a,{href:"/docs/ecom-co/libs/rabbitmq/rabbitmq-library",children:"RabbitMQ Library"})]})]})}function h(e={}){const{wrapper:r}={...(0,l.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},19365:(e,r,n)=>{n.d(r,{A:()=>s});n(96540);var i=n(34164);const t={tabItem:"tabItem_Ymn6"};var l=n(74848);function s({children:e,hidden:r,className:n}){return(0,l.jsx)("div",{role:"tabpanel",className:(0,i.A)(t.tabItem,n),hidden:r,children:e})}},28453:(e,r,n)=>{n.d(r,{R:()=>s,x:()=>o});var i=n(96540);const t={},l=i.createContext(t);function s(e){const r=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),i.createElement(l.Provider,{value:r},e.children)}}}]);