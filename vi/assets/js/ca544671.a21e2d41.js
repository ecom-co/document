"use strict";(self.webpackChunktemplate_docs=self.webpackChunktemplate_docs||[]).push([[250],{7463:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>o,contentTitle:()=>c,default:()=>a,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"microservices/communication/grpc-protocol","title":"gRPC Protocol","description":"T\xecm hi\u1ec3u v\u1ec1 gRPC Protocol - Google Remote Procedure Call, protocol hi\u1ec7u su\u1ea5t cao cho microservices","source":"@site/docs/microservices/communication/grpc-protocol.md","sourceDirName":"microservices/communication","slug":"/microservices/communication/grpc-protocol","permalink":"/document/vi/docs/microservices/communication/grpc-protocol","draft":false,"unlisted":false,"editUrl":"https://github.com/ecom-co/document/tree/main/docs/microservices/communication/grpc-protocol.md","tags":[],"version":"current","frontMatter":{"title":"gRPC Protocol","description":"T\xecm hi\u1ec3u v\u1ec1 gRPC Protocol - Google Remote Procedure Call, protocol hi\u1ec7u su\u1ea5t cao cho microservices"},"sidebar":"tutorialSidebar","previous":{"title":"Communication Overview","permalink":"/document/vi/docs/microservices/communication/communication-overview"},"next":{"title":"REST Protocol","permalink":"/document/vi/docs/microservices/communication/rest-protocol"}}');var i=s(74848),t=s(28453);const l={title:"gRPC Protocol",description:"T\xecm hi\u1ec3u v\u1ec1 gRPC Protocol - Google Remote Procedure Call, protocol hi\u1ec7u su\u1ea5t cao cho microservices"},c="gRPC Protocol",o={},h=[{value:"gRPC l\xe0 g\xec?",id:"grpc-l\xe0-g\xec",level:2},{value:"Khi n\xe0o n\xean d\xf9ng v\xe0 khi n\xe0o kh\xf4ng n\xean d\xf9ng gRPC",id:"khi-n\xe0o-n\xean-d\xf9ng-v\xe0-khi-n\xe0o-kh\xf4ng-n\xean-d\xf9ng-grpc",level:2},{value:"<strong>Khi n\xe0o N\xcaN d\xf9ng gRPC:</strong>",id:"khi-n\xe0o-n\xean-d\xf9ng-grpc",level:3},{value:"<strong>Khi n\xe0o KH\xd4NG N\xcaN d\xf9ng gRPC:</strong>",id:"khi-n\xe0o-kh\xf4ng-n\xean-d\xf9ng-grpc",level:3},{value:"<strong>Gi\u1ea3i th\xedch chi ti\u1ebft v\u1ec1 v\u1ea5n \u0111\u1ec1 File Upload:</strong>",id:"gi\u1ea3i-th\xedch-chi-ti\u1ebft-v\u1ec1-v\u1ea5n-\u0111\u1ec1-file-upload",level:3},{value:"<strong>C\xe1c v\u1ea5n \u0111\u1ec1 k\u1ef9 thu\u1eadt kh\xe1c:</strong>",id:"c\xe1c-v\u1ea5n-\u0111\u1ec1-k\u1ef9-thu\u1eadt-kh\xe1c",level:3},{value:"Ki\u1ebfn tr\xfac gRPC",id:"ki\u1ebfn-tr\xfac-grpc",level:2},{value:"1. <strong>gRPC Flow - L\xfd thuy\u1ebft v\xe0 Quy tr\xecnh</strong>",id:"1-grpc-flow---l\xfd-thuy\u1ebft-v\xe0-quy-tr\xecnh",level:3},{value:"2. <strong>Protocol Buffers - L\xfd thuy\u1ebft v\xe0 C\u1ea5u tr\xfac</strong>",id:"2-protocol-buffers---l\xfd-thuy\u1ebft-v\xe0-c\u1ea5u-tr\xfac",level:3},{value:"C\xe1ch \xe1p d\u1ee5ng gRPC hi\u1ec7u qu\u1ea3",id:"c\xe1ch-\xe1p-d\u1ee5ng-grpc-hi\u1ec7u-qu\u1ea3",level:2},{value:"<strong>1. Chi\u1ebfn l\u01b0\u1ee3c \xe1p d\u1ee5ng (Adoption Strategy):</strong>",id:"1-chi\u1ebfn-l\u01b0\u1ee3c-\xe1p-d\u1ee5ng-adoption-strategy",level:3},{value:"<strong>2. Best Practices khi \xe1p d\u1ee5ng:</strong>",id:"2-best-practices-khi-\xe1p-d\u1ee5ng",level:3},{value:"<strong>3. Common Pitfalls v\xe0 c\xe1ch tr\xe1nh:</strong>",id:"3-common-pitfalls-v\xe0-c\xe1ch-tr\xe1nh",level:3},{value:"gRPC trong NestJS",id:"grpc-trong-nestjs",level:2},{value:"1. <strong>C\xe0i \u0111\u1eb7t Dependencies</strong>",id:"1-c\xe0i-\u0111\u1eb7t-dependencies",level:3},{value:"2. <strong>C\u1ea5u h\xecnh gRPC Server - L\xfd thuy\u1ebft v\xe0 Th\u1ef1c h\xe0nh</strong>",id:"2-c\u1ea5u-h\xecnh-grpc-server---l\xfd-thuy\u1ebft-v\xe0-th\u1ef1c-h\xe0nh",level:3},{value:"3. <strong>Service Implementation - L\xfd thuy\u1ebft v\xe0 Th\u1ef1c h\xe0nh</strong>",id:"3-service-implementation---l\xfd-thuy\u1ebft-v\xe0-th\u1ef1c-h\xe0nh",level:3},{value:"4. <strong>gRPC Client</strong>",id:"4-grpc-client",level:3},{value:"gRPC Communication Patterns",id:"grpc-communication-patterns",level:2},{value:"1. <strong>Unary RPC (Request-Response)</strong>",id:"1-unary-rpc-request-response",level:3},{value:"2. <strong>Server Streaming RPC</strong>",id:"2-server-streaming-rpc",level:3},{value:"3. <strong>Client Streaming RPC</strong>",id:"3-client-streaming-rpc",level:3},{value:"4. <strong>Bidirectional Streaming RPC</strong>",id:"4-bidirectional-streaming-rpc",level:3},{value:"So s\xe1nh v\u1edbi c\xe1c Protocol kh\xe1c",id:"so-s\xe1nh-v\u1edbi-c\xe1c-protocol-kh\xe1c",level:2},{value:"<strong>1. gRPC vs REST:</strong>",id:"1-grpc-vs-rest",level:3},{value:"<strong>2. gRPC vs GraphQL:</strong>",id:"2-grpc-vs-graphql",level:3},{value:"<strong>3. gRPC vs Message Queues:</strong>",id:"3-grpc-vs-message-queues",level:3},{value:"gRPC Best Practices",id:"grpc-best-practices",level:2},{value:"1. <strong>Error Handling</strong>",id:"1-error-handling",level:3},{value:"2. <strong>Performance Optimization</strong>",id:"2-performance-optimization",level:3},{value:"3. <strong>Connection Management</strong>",id:"3-connection-management",level:3},{value:"gRPC vs REST Comparison",id:"grpc-vs-rest-comparison",level:2},{value:"B\u1ea3ng so s\xe1nh chi ti\u1ebft",id:"b\u1ea3ng-so-s\xe1nh-chi-ti\u1ebft",level:3},{value:"Use Case Recommendations",id:"use-case-recommendations",level:3}];function d(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"grpc-protocol",children:"gRPC Protocol"})}),"\n",(0,i.jsx)(e.p,{children:"gRPC (Google Remote Procedure Call) l\xe0 m\u1ed9t framework RPC hi\u1ec7n \u0111\u1ea1i, hi\u1ec7u su\u1ea5t cao s\u1eed d\u1ee5ng Protocol Buffers \u0111\u1ec3 serialize data. N\xf3 \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1ec3 ho\u1ea1t \u0111\u1ed9ng hi\u1ec7u qu\u1ea3 trong microservices architecture."}),"\n",(0,i.jsx)(e.mermaid,{value:"flowchart LR\n    A[Client Service] --\x3e|gRPC Call| B[gRPC Server]\n    B --\x3e|Protocol Buffers| C[Business Logic]\n    C --\x3e|Serialized Response| A\n    \n    D[Proto File] --\x3e|Define Interface| B\n    D --\x3e|Generate Code| A\n    \n    style A fill:#e8f5e8\n    style B fill:#f3e5f5\n    style C fill:#fff3e0\n    style D fill:#fce4ec"}),"\n",(0,i.jsx)(e.admonition,{title:"\ud83d\udca1 Kh\xe1i ni\u1ec7m c\u01a1 b\u1ea3n",type:"tip",children:(0,i.jsx)(e.p,{children:'gRPC gi\u1ed1ng nh\u01b0 "\u0111i\u1ec7n tho\u1ea1i tr\u1ef1c ti\u1ebfp" gi\u1eefa c\xe1c services - g\u1ecdi tr\u1ef1c ti\u1ebfp v\xe0 nh\u1eadn response ngay l\u1eadp t\u1ee9c v\u1edbi hi\u1ec7u su\u1ea5t cao.'})}),"\n",(0,i.jsx)(e.h2,{id:"grpc-l\xe0-g\xec",children:"gRPC l\xe0 g\xec?"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"L\xfd thuy\u1ebft c\u01a1 b\u1ea3n:"}),"\ngRPC l\xe0 m\u1ed9t framework RPC (Remote Procedure Call) hi\u1ec7n \u0111\u1ea1i, s\u1eed d\u1ee5ng HTTP/2 l\xe0m transport layer v\xe0 Protocol Buffers l\xe0m interface definition language. gRPC \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1ec3 cung c\u1ea5p hi\u1ec7u su\u1ea5t cao, cross-platform v\xe0 h\u1ed7 tr\u1ee3 nhi\u1ec1u ng\xf4n ng\u1eef l\u1eadp tr\xecnh."]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u0110\u1eb7c \u0111i\u1ec3m k\u1ef9 thu\u1eadt:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"HTTP/2 Transport"}),": S\u1eed d\u1ee5ng HTTP/2 v\u1edbi multiplexing v\xe0 server push"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Protocol Buffers"}),": Schema-first approach v\u1edbi binary serialization"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Strong Typing"}),": Type safety across different languages"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Bidirectional Streaming"}),": H\u1ed7 tr\u1ee3 streaming data"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"C\xe1ch ho\u1ea1t \u0111\u1ed9ng:"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Service Definition"}),": \u0110\u1ecbnh ngh\u0129a service interface b\u1eb1ng .proto file"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Code Generation"}),": T\u1ef1 \u0111\u1ed9ng generate client/server code"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Binary Communication"}),": Giao ti\u1ebfp b\u1eb1ng binary protocol"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"HTTP/2 Features"}),": T\u1eadn d\u1ee5ng HTTP/2 multiplexing"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Bi\u1ebfn \u0111\u1ed5i trong qu\xe1 tr\xecnh x\u1eed l\xfd:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Request State"}),": Serialized \u2192 Transmitted \u2192 Deserialized \u2192 Processed"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Connection State"}),": Idle \u2192 Active \u2192 Streaming \u2192 Idle"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Data Format"}),": Text \u2192 Binary \u2192 Structured Data"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u0110i\u1ec3m m\u1ea1nh (Strengths):"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"High Performance"}),": Binary protocol, HTTP/2 multiplexing, connection pooling"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Type Safety"}),": Generated code v\u1edbi strong typing, compile-time error checking"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Efficient"}),": Compression t\u1ef1 \u0111\u1ed9ng, connection reuse, low memory overhead"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Cross-Platform"}),": H\u1ed7 tr\u1ee3 nhi\u1ec1u ng\xf4n ng\u1eef (Java, C++, Python, Go, Node.js)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Streaming Support"}),": Bidirectional streaming, real-time communication"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Schema Evolution"}),": Backward compatibility, version management"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Load Balancing"}),": Built-in load balancing v\xe0 health checking"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u0110i\u1ec3m y\u1ebfu (Weaknesses):"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Complexity"}),": Ph\u1ee9c t\u1ea1p h\u01a1n REST, c\u1ea7n hi\u1ec3u RPC concepts"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Debugging"}),": Kh\xf3 debug binary protocol, c\u1ea7n special tools"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Browser Support"}),": H\u1ea1n ch\u1ebf trong browsers, ch\u1ee7 y\u1ebfu cho server-to-server"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Learning Curve"}),": C\u1ea7n h\u1ecdc Protocol Buffers, gRPC concepts"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Tooling"}),": \xcdt tools h\u1ed7 tr\u1ee3 so v\u1edbi REST, debugging kh\xf3 kh\u0103n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Human Readability"}),": Binary format kh\xf4ng \u0111\u1ecdc \u0111\u01b0\u1ee3c, kh\xf3 troubleshoot"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Network Issues"}),": Kh\xf3 handle network problems, firewall issues"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"File Upload Limitations"}),": Kh\xf4ng ph\xf9 h\u1ee3p cho file upload l\u1edbn, memory issues"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Message Size Constraints"}),": C\xf3 gi\u1edbi h\u1ea1n v\u1ec1 k\xedch th\u01b0\u1edbc message"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Streaming Complexity"}),": Bidirectional streaming ph\u1ee9c t\u1ea1p \u0111\u1ec3 implement"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Stateful Connections"}),": HTTP/2 connections c\xf3 th\u1ec3 g\xe2y memory leaks"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Load Balancing Challenges"}),": Kh\xf3 implement load balancing cho gRPC"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Service Discovery"}),": C\u1ea7n special service discovery mechanisms"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Security Complexity"}),": TLS, authentication ph\u1ee9c t\u1ea1p h\u01a1n REST"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Testing Difficulties"}),": Unit testing v\xe0 integration testing ph\u1ee9c t\u1ea1p"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"khi-n\xe0o-n\xean-d\xf9ng-v\xe0-khi-n\xe0o-kh\xf4ng-n\xean-d\xf9ng-grpc",children:"Khi n\xe0o n\xean d\xf9ng v\xe0 khi n\xe0o kh\xf4ng n\xean d\xf9ng gRPC"}),"\n",(0,i.jsx)(e.h3,{id:"khi-n\xe0o-n\xean-d\xf9ng-grpc",children:(0,i.jsx)(e.strong,{children:"Khi n\xe0o N\xcaN d\xf9ng gRPC:"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"1. High-Performance Requirements:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Microservices Communication"}),": Service-to-service communication c\u1ea7n performance cao"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Real-time Applications"}),": Chat apps, live streaming, gaming"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"High-throughput Systems"}),": Data processing, analytics, ETL pipelines"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Low-latency Requirements"}),": Financial trading, real-time monitoring"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"2. Strong Type Safety:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Enterprise Applications"}),": C\u1ea7n contract enforcement"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"API Versioning"}),": C\u1ea7n backward compatibility"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Multi-language Teams"}),": Teams s\u1eed d\u1ee5ng nhi\u1ec1u ng\xf4n ng\u1eef kh\xe1c nhau"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Contract-first Development"}),": API design tr\u01b0\u1edbc, implementation sau"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"3. Streaming Requirements:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Bidirectional Communication"}),": Chat, notifications, real-time updates"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Small Data Streaming"}),": Sensor data, real-time metrics, status updates"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Event-driven Systems"}),": Real-time event processing"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"IoT Applications"}),": Device communication, sensor data"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Real-time Analytics"}),": Live dashboards, monitoring data"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"4. Server-to-Server Communication:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Internal APIs"}),": Kh\xf4ng c\u1ea7n browser access"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Backend Services"}),": Database services, cache services"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Infrastructure Services"}),": Monitoring, logging, configuration"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Cloud-native Applications"}),": Kubernetes, Docker environments"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"khi-n\xe0o-kh\xf4ng-n\xean-d\xf9ng-grpc",children:(0,i.jsx)(e.strong,{children:"Khi n\xe0o KH\xd4NG N\xcaN d\xf9ng gRPC:"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"1. Browser-based Applications:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Web Frontends"}),": Browsers kh\xf4ng h\u1ed7 tr\u1ee3 gRPC tr\u1ef1c ti\u1ebfp"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Public APIs"}),": APIs c\u1ea7n browser access"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Mobile Web Apps"}),": Progressive web applications"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Third-party Integrations"}),": External services c\u1ea7n REST"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"2. Simple CRUD Operations:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Basic APIs"}),": CRUD operations \u0111\u01a1n gi\u1ea3n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Admin Panels"}),": Simple data management"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Reporting Tools"}),": Basic data retrieval"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Simple Integrations"}),": Third-party service connections"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"3. Human-readable Requirements:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Debugging Needs"}),": C\u1ea7n \u0111\u1ecdc \u0111\u01b0\u1ee3c request/response"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"API Documentation"}),": C\u1ea7n human-readable format"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Testing Tools"}),": Manual testing v\xe0 debugging"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Support Teams"}),": Technical support c\u1ea7n \u0111\u1ecdc logs"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"4. File Upload & Large Data:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"File Upload Services"}),": Upload files l\u1edbn, images, videos"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Document Processing"}),": PDF processing, document uploads"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Media Streaming"}),": Video streaming, audio streaming"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Data Import/Export"}),": Bulk data operations, CSV processing"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"5. Load Balancing & Service Discovery:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Simple Load Balancers"}),": Load balancers kh\xf4ng h\u1ed7 tr\u1ee3 HTTP/2"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Basic Service Discovery"}),": Kh\xf4ng c\xf3 service discovery infrastructure"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Stateless Requirements"}),": C\u1ea7n stateless communication"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Horizontal Scaling"}),": Kh\xf3 scale horizontally"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"6. Security & Compliance:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Strict Security Requirements"}),": C\u1ea7n special security configurations"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Compliance Needs"}),": Regulatory compliance requirements"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Audit Logging"}),": C\u1ea7n detailed audit trails"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Access Control"}),": Complex authentication/authorization"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"7. Testing & Development:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Rapid Prototyping"}),": C\u1ea7n quick API development"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Manual Testing"}),": C\u1ea7n manual API testing"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Debugging Requirements"}),": C\u1ea7n easy debugging"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Team Skills"}),": Team kh\xf4ng c\xf3 gRPC experience"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"8. Legacy System Integration:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Old Systems"}),": Systems kh\xf4ng h\u1ed7 tr\u1ee3 HTTP/2"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Firewall Restrictions"}),": Corporate firewalls block gRPC"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Proxy Issues"}),": Reverse proxies kh\xf4ng h\u1ed7 tr\u1ee3 gRPC"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Load Balancer Limitations"}),": Load balancers kh\xf4ng h\u1ed7 tr\u1ee3 HTTP/2"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"gi\u1ea3i-th\xedch-chi-ti\u1ebft-v\u1ec1-v\u1ea5n-\u0111\u1ec1-file-upload",children:(0,i.jsx)(e.strong,{children:"Gi\u1ea3i th\xedch chi ti\u1ebft v\u1ec1 v\u1ea5n \u0111\u1ec1 File Upload:"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"T\u1ea1i sao gRPC kh\xf4ng ph\xf9 h\u1ee3p cho file upload:"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"1. Memory Constraints:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"gRPC"}),": Load to\xe0n b\u1ed9 file v\xe0o memory tr\u01b0\u1edbc khi x\u1eed l\xfd"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"V\u1ea5n \u0111\u1ec1"}),": Files l\u1edbn c\xf3 th\u1ec3 g\xe2y out-of-memory errors"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Gi\u1ea3i ph\xe1p"}),": C\u1ea7n implement chunked streaming ph\u1ee9c t\u1ea1p"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"2. Message Size Limits:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"gRPC"}),": C\xf3 gi\u1edbi h\u1ea1n v\u1ec1 k\xedch th\u01b0\u1edbc message (th\u01b0\u1eddng 4MB-100MB)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"REST"}),": Kh\xf4ng c\xf3 gi\u1edbi h\u1ea1n c\u1ee9ng, c\xf3 th\u1ec3 handle files l\u1edbn"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"K\u1ebft qu\u1ea3"}),": gRPC b\u1ecb gi\u1edbi h\u1ea1n b\u1edfi message size"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"3. Streaming Complexity:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"gRPC"}),": Bidirectional streaming ph\u1ee9c t\u1ea1p \u0111\u1ec3 implement"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"File Upload"}),": C\u1ea7n chunked upload v\u1edbi progress tracking"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"K\u1ebft qu\u1ea3"}),": Code ph\u1ee9c t\u1ea1p, kh\xf3 maintain"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"4. Performance Issues:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Small Files"}),": gRPC t\u1ed1t h\u01a1n REST"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Large Files"}),": REST t\u1ed1t h\u01a1n gRPC"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"L\xfd do"}),": gRPC overhead cho files l\u1edbn"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"5. Alternative Solutions:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"REST + Multipart"}),": \u0110\u01a1n gi\u1ea3n, hi\u1ec7u qu\u1ea3 cho file upload"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Message Queues"}),": Cho background file processing"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Direct File Storage"}),": Upload tr\u1ef1c ti\u1ebfp \u0111\u1ebfn cloud storage"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"c\xe1c-v\u1ea5n-\u0111\u1ec1-k\u1ef9-thu\u1eadt-kh\xe1c",children:(0,i.jsx)(e.strong,{children:"C\xe1c v\u1ea5n \u0111\u1ec1 k\u1ef9 thu\u1eadt kh\xe1c:"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"1. Connection Management:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"HTTP/2 Connections"}),": C\xf3 th\u1ec3 g\xe2y memory leaks n\u1ebfu kh\xf4ng qu\u1ea3n l\xfd t\u1ed1t"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Connection Pooling"}),": C\u1ea7n implement connection pooling \u0111\xfang c\xe1ch"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Keep-alive Issues"}),": HTTP/2 keep-alive c\xf3 th\u1ec3 g\xe2y v\u1ea5n \u0111\u1ec1"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"2. Load Balancing Challenges:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"L7 Load Balancing"}),": C\u1ea7n load balancer h\u1ed7 tr\u1ee3 HTTP/2"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Sticky Sessions"}),": Kh\xf3 implement sticky sessions"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Health Checking"}),": Health check ph\u1ee9c t\u1ea1p h\u01a1n HTTP/1.1"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"3. Service Discovery Issues:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Dynamic Registration"}),": C\u1ea7n special service registry"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Health Monitoring"}),": Health check ph\u1ee9c t\u1ea1p"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Load Distribution"}),": Kh\xf3 distribute load evenly"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"4. Security & Compliance:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"TLS Configuration"}),": C\u1ea7n c\u1ea5u h\xecnh TLS \u0111\xfang c\xe1ch"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Certificate Management"}),": Certificate rotation ph\u1ee9c t\u1ea1p"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Audit Logging"}),": Kh\xf3 log binary requests"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Access Control"}),": JWT, OAuth integration ph\u1ee9c t\u1ea1p"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"5. Testing & Debugging:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Unit Testing"}),": Mock gRPC services ph\u1ee9c t\u1ea1p"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Integration Testing"}),": End-to-end testing kh\xf3 kh\u0103n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Performance Testing"}),": Load testing tools \xedt h\u1ed7 tr\u1ee3 gRPC"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Debugging Tools"}),": \xcdt tools debug gRPC communication"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"ki\u1ebfn-tr\xfac-grpc",children:"Ki\u1ebfn tr\xfac gRPC"}),"\n",(0,i.jsxs)(e.h3,{id:"1-grpc-flow---l\xfd-thuy\u1ebft-v\xe0-quy-tr\xecnh",children:["1. ",(0,i.jsx)(e.strong,{children:"gRPC Flow - L\xfd thuy\u1ebft v\xe0 Quy tr\xecnh"})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"L\xfd thuy\u1ebft v\u1ec1 gRPC Flow:"}),"\ngRPC s\u1eed d\u1ee5ng client-server architecture v\u1edbi code generation t\u1eeb Protocol Buffer definitions. Client v\xe0 server giao ti\u1ebfp th\xf4ng qua HTTP/2 v\u1edbi binary protocol."]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"C\xe1ch ho\u1ea1t \u0111\u1ed9ng:"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Proto Definition"}),": \u0110\u1ecbnh ngh\u0129a service interface"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Code Generation"}),": T\u1ef1 \u0111\u1ed9ng t\u1ea1o client stub v\xe0 server skeleton"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Client Call"}),": Client g\u1ecdi method th\xf4ng qua stub"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"HTTP/2 Transport"}),": Request \u0111\u01b0\u1ee3c g\u1eedi qua HTTP/2"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Server Processing"}),": Server x\u1eed l\xfd request v\xe0 tr\u1ea3 v\u1ec1 response"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Response Return"}),": Response \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 client"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Bi\u1ebfn \u0111\u1ed5i trong qu\xe1 tr\xecnh x\u1eed l\xfd:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Code State"}),": Proto \u2192 Generated Code \u2192 Compiled \u2192 Running"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Request State"}),": Method Call \u2192 Serialization \u2192 Transmission \u2192 Processing \u2192 Response"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Connection State"}),": Established \u2192 Active \u2192 Idle"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u01afu \u0111i\u1ec3m c\u1ee7a ki\u1ebfn tr\xfac:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Separation of Concerns"}),": Interface definition t\xe1ch bi\u1ec7t implementation"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Type Safety"}),": Generated code \u0111\u1ea3m b\u1ea3o type safety"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Performance"}),": Binary protocol v\xe0 HTTP/2 multiplexing"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Scalability"}),": Connection pooling v\xe0 load balancing"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Nh\u01b0\u1ee3c \u0111i\u1ec3m:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Complexity"}),": C\u1ea7n hi\u1ec3u Protocol Buffers v\xe0 gRPC concepts"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Debugging"}),": Kh\xf3 debug binary communication"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Tooling"}),": \xcdt tools h\u1ed7 tr\u1ee3 so v\u1edbi REST"]}),"\n"]}),"\n",(0,i.jsxs)(e.h3,{id:"2-protocol-buffers---l\xfd-thuy\u1ebft-v\xe0-c\u1ea5u-tr\xfac",children:["2. ",(0,i.jsx)(e.strong,{children:"Protocol Buffers - L\xfd thuy\u1ebft v\xe0 C\u1ea5u tr\xfac"})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"L\xfd thuy\u1ebft v\u1ec1 Protocol Buffers:"}),"\nProtocol Buffers (protobuf) l\xe0 m\u1ed9t data serialization format \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf b\u1edfi Google. N\xf3 s\u1eed d\u1ee5ng schema-first approach, n\u01a1i b\u1ea1n \u0111\u1ecbnh ngh\u0129a c\u1ea5u tr\xfac data tr\u01b0\u1edbc, sau \u0111\xf3 generate code cho nhi\u1ec1u ng\xf4n ng\u1eef l\u1eadp tr\xecnh."]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u0110\u1eb7c \u0111i\u1ec3m k\u1ef9 thu\u1eadt:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Schema Definition"}),": \u0110\u1ecbnh ngh\u0129a c\u1ea5u tr\xfac data b\u1eb1ng .proto file"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Binary Format"}),": Serialize data th\xe0nh binary format"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Backward Compatibility"}),": H\u1ed7 tr\u1ee3 thay \u0111\u1ed5i schema m\xe0 kh\xf4ng break existing code"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Language Agnostic"}),": H\u1ed7 tr\u1ee3 nhi\u1ec1u ng\xf4n ng\u1eef l\u1eadp tr\xecnh"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"C\xe1ch ho\u1ea1t \u0111\u1ed9ng:"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Schema Definition"}),": Vi\u1ebft .proto file \u0111\u1ecbnh ngh\u0129a service v\xe0 messages"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Code Generation"}),": S\u1eed d\u1ee5ng protoc compiler \u0111\u1ec3 generate code"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Serialization"}),": Convert data objects th\xe0nh binary format"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Transmission"}),": G\u1eedi binary data qua network"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Deserialization"}),": Convert binary data th\xe0nh objects"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Bi\u1ebfn \u0111\u1ed5i trong qu\xe1 tr\xecnh x\u1eed l\xfd:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Data State"}),": Structured Object \u2192 Serialized Binary \u2192 Transmitted \u2192 Deserialized \u2192 Structured Object"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Schema State"}),": Proto Definition \u2192 Generated Code \u2192 Runtime Usage"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Performance"}),": Text-based \u2192 Binary \u2192 Optimized"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u01afu \u0111i\u1ec3m:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Efficiency"}),": Binary format nh\u1ecf h\u01a1n JSON/XML"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Type Safety"}),": Strong typing v\u1edbi generated code"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Performance"}),": Serialization/deserialization nhanh"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Schema Evolution"}),": H\u1ed7 tr\u1ee3 thay \u0111\u1ed5i schema"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Nh\u01b0\u1ee3c \u0111i\u1ec3m:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Human Readability"}),": Binary format kh\xf4ng \u0111\u1ecdc \u0111\u01b0\u1ee3c"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Schema Dependency"}),": C\u1ea7n .proto file \u0111\u1ec3 deserialize"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Learning Curve"}),": C\u1ea7n h\u1ecdc protobuf syntax"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Tooling"}),": \xcdt tools h\u1ed7 tr\u1ee3 so v\u1edbi JSON"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"c\xe1ch-\xe1p-d\u1ee5ng-grpc-hi\u1ec7u-qu\u1ea3",children:"C\xe1ch \xe1p d\u1ee5ng gRPC hi\u1ec7u qu\u1ea3"}),"\n",(0,i.jsx)(e.h3,{id:"1-chi\u1ebfn-l\u01b0\u1ee3c-\xe1p-d\u1ee5ng-adoption-strategy",children:(0,i.jsx)(e.strong,{children:"1. Chi\u1ebfn l\u01b0\u1ee3c \xe1p d\u1ee5ng (Adoption Strategy):"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Phase 1: Assessment & Planning"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Evaluate Current Needs"}),": X\xe1c \u0111\u1ecbnh performance bottlenecks"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Team Skills Assessment"}),": \u0110\xe1nh gi\xe1 team c\xf3 \u0111\u1ee7 skills kh\xf4ng"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Infrastructure Review"}),": Ki\u1ec3m tra HTTP/2 support"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Pilot Project"}),": Ch\u1ecdn 1 service \u0111\u1ec3 test"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Phase 2: Infrastructure Setup"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Load Balancer Configuration"}),": C\u1ea5u h\xecnh HTTP/2 support"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Monitoring Setup"}),": gRPC metrics v\xe0 tracing"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Security Configuration"}),": TLS, authentication"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Development Environment"}),": Local development setup"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Phase 3: Gradual Migration"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Start with Internal Services"}),": Services kh\xf4ng c\u1ea7n external access"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Parallel Implementation"}),": Ch\u1ea1y song song v\u1edbi REST"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Performance Testing"}),": So s\xe1nh performance"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Team Training"}),": Training v\u1ec1 gRPC concepts"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"2-best-practices-khi-\xe1p-d\u1ee5ng",children:(0,i.jsx)(e.strong,{children:"2. Best Practices khi \xe1p d\u1ee5ng:"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Design Principles:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Contract-first Approach"}),": \u0110\u1ecbnh ngh\u0129a proto tr\u01b0\u1edbc"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Service Granularity"}),": Services v\u1eeba \u0111\u1ee7, kh\xf4ng qu\xe1 nh\u1ecf"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Error Handling"}),": Standardized error codes v\xe0 messages"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Versioning Strategy"}),": Semantic versioning cho APIs"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Performance Optimization:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Connection Pooling"}),": Reuse connections"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Streaming for Large Data"}),": S\u1eed d\u1ee5ng streaming cho data l\u1edbn"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Batch Operations"}),": G\u1ed9p nhi\u1ec1u operations"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Caching Strategy"}),": Implement proper caching"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Monitoring & Observability:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"gRPC Metrics"}),": Request/response times, error rates"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Distributed Tracing"}),": Track requests across services"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Health Checks"}),": Service health monitoring"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Logging Strategy"}),": Structured logging cho debugging"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"3-common-pitfalls-v\xe0-c\xe1ch-tr\xe1nh",children:(0,i.jsx)(e.strong,{children:"3. Common Pitfalls v\xe0 c\xe1ch tr\xe1nh:"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Technical Issues:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u274c Kh\xf4ng test performance"}),": Test performance tr\u01b0\u1edbc khi migrate"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u274c Ignore error handling"}),": Implement proper error handling"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u274c Skip monitoring"}),": Setup monitoring t\u1eeb \u0111\u1ea7u"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u274c Forget versioning"}),": Plan versioning strategy"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Organizational Issues:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u274c No team training"}),": Train team v\u1ec1 gRPC"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u274c Rush migration"}),": Migrate t\u1eebng b\u01b0\u1edbc, kh\xf4ng v\u1ed9i"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u274c Ignore documentation"}),": Document APIs v\xe0 processes"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u274c Skip testing"}),": Comprehensive testing strategy"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u2705 C\xe1ch tr\xe1nh:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Start Small"}),": B\u1eaft \u0111\u1ea7u v\u1edbi 1 service"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Measure Everything"}),": Monitor performance v\xe0 errors"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Train Team"}),": Invest v\xe0o team training"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Document Everything"}),": Maintain good documentation"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"grpc-trong-nestjs",children:"gRPC trong NestJS"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"L\xfd thuy\u1ebft v\u1ec1 gRPC trong NestJS:"}),"\nNestJS cung c\u1ea5p built-in support cho gRPC th\xf4ng qua ",(0,i.jsx)(e.code,{children:"@nestjs/microservices"})," package. N\xf3 cho ph\xe9p b\u1ea1n t\u1ea1o gRPC servers v\xe0 clients m\u1ed9t c\xe1ch d\u1ec5 d\xe0ng v\u1edbi decorators v\xe0 dependency injection."]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u0110\u1eb7c \u0111i\u1ec3m k\u1ef9 thu\u1eadt:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Microservice Transport"}),": H\u1ed7 tr\u1ee3 gRPC transport"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Decorator-based"}),": S\u1eed d\u1ee5ng ",(0,i.jsx)(e.code,{children:"@GrpcMethod"})," v\xe0 ",(0,i.jsx)(e.code,{children:"@GrpcStreamMethod"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Dependency Injection"}),": T\xedch h\u1ee3p v\u1edbi NestJS DI container"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Observable Support"}),": H\u1ed7 tr\u1ee3 RxJS Observables cho streaming"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"C\xe1ch ho\u1ea1t \u0111\u1ed9ng:"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Transport Configuration"}),": C\u1ea5u h\xecnh gRPC transport trong main.ts"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Service Registration"}),": \u0110\u0103ng k\xfd services v\u1edbi gRPC methods"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Method Implementation"}),": Implement c\xe1c gRPC methods"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Client Communication"}),": Clients g\u1ecdi methods th\xf4ng qua gRPC"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Bi\u1ebfn \u0111\u1ed5i trong qu\xe1 tr\xecnh x\u1eed l\xfd:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Service State"}),": Unregistered \u2192 Registered \u2192 Active \u2192 Handling Requests"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Request State"}),": gRPC Call \u2192 Method Resolution \u2192 Service Execution \u2192 Response"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Transport State"}),": Disconnected \u2192 Connected \u2192 Streaming \u2192 Idle"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u01afu \u0111i\u1ec3m:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Native Integration"}),": T\xedch h\u1ee3p t\u1ed1t v\u1edbi NestJS ecosystem"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Type Safety"}),": Generated types t\u1eeb protobuf"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Streaming Support"}),": H\u1ed7 tr\u1ee3 \u0111\u1ea7y \u0111\u1ee7 gRPC streaming"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Performance"}),": High-performance gRPC communication"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Nh\u01b0\u1ee3c \u0111i\u1ec3m:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Complexity"}),": C\u1ea7n hi\u1ec3u c\u1ea3 NestJS v\xe0 gRPC"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Debugging"}),": Kh\xf3 debug gRPC communication"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Learning Curve"}),": C\u1ea7n h\u1ecdc protobuf v\xe0 gRPC concepts"]}),"\n"]}),"\n",(0,i.jsxs)(e.h3,{id:"1-c\xe0i-\u0111\u1eb7t-dependencies",children:["1. ",(0,i.jsx)(e.strong,{children:"C\xe0i \u0111\u1eb7t Dependencies"})]}),"\n",(0,i.jsxs)(e.h3,{id:"2-c\u1ea5u-h\xecnh-grpc-server---l\xfd-thuy\u1ebft-v\xe0-th\u1ef1c-h\xe0nh",children:["2. ",(0,i.jsx)(e.strong,{children:"C\u1ea5u h\xecnh gRPC Server - L\xfd thuy\u1ebft v\xe0 Th\u1ef1c h\xe0nh"})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"L\xfd thuy\u1ebft v\u1ec1 c\u1ea5u h\xecnh gRPC Server:"}),"\nC\u1ea5u h\xecnh gRPC server trong NestJS li\xean quan \u0111\u1ebfn vi\u1ec7c thi\u1ebft l\u1eadp transport layer, \u0111\u1ecbnh ngh\u0129a proto file path, v\xe0 c\u1ea5u h\xecnh c\xe1c options cho gRPC communication."]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u0110\u1eb7c \u0111i\u1ec3m k\u1ef9 thu\u1eadt:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Transport Type"}),": Ch\u1ec9 \u0111\u1ecbnh gRPC transport"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Proto Path"}),": \u0110\u01b0\u1eddng d\u1eabn \u0111\u1ebfn .proto file"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Package Name"}),": T\xean package trong proto definition"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Server URL"}),": \u0110\u1ecba ch\u1ec9 v\xe0 port c\u1ee7a server"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Loader Options"}),": C\u1ea5u h\xecnh protobuf loader"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"C\xe1ch ho\u1ea1t \u0111\u1ed9ng:"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Transport Selection"}),": Ch\u1ecdn gRPC transport"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Proto Loading"}),": Load proto file t\u1eeb filesystem"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Service Registration"}),": \u0110\u0103ng k\xfd services t\u1eeb proto"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Server Binding"}),": Bind server v\xe0o specified port"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Request Handling"}),": X\u1eed l\xfd incoming gRPC requests"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Bi\u1ebfn \u0111\u1ed5i trong qu\xe1 tr\xecnh x\u1eed l\xfd:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Server State"}),": Uninitialized \u2192 Configured \u2192 Bound \u2192 Listening \u2192 Handling Requests"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Proto State"}),": File \u2192 Loaded \u2192 Parsed \u2192 Services Registered"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Network State"}),": Closed \u2192 Open \u2192 Accepting Connections"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u01afu \u0111i\u1ec3m:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Flexible Configuration"}),": Nhi\u1ec1u options c\u1ea5u h\xecnh"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Proto Integration"}),": T\xedch h\u1ee3p t\u1ed1t v\u1edbi protobuf"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Performance Tuning"}),": C\xf3 th\u1ec3 tune performance options"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Development Support"}),": H\u1ed7 tr\u1ee3 development v\xe0 production"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Nh\u01b0\u1ee3c \u0111i\u1ec3m:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Configuration Complexity"}),": Nhi\u1ec1u options c\u1ea7n c\u1ea5u h\xecnh"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Proto Dependency"}),": Ph\u1ee5 thu\u1ed9c v\xe0o proto file"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Error Handling"}),": C\u1ea7n x\u1eed l\xfd configuration errors"]}),"\n"]}),"\n",(0,i.jsxs)(e.h3,{id:"3-service-implementation---l\xfd-thuy\u1ebft-v\xe0-th\u1ef1c-h\xe0nh",children:["3. ",(0,i.jsx)(e.strong,{children:"Service Implementation - L\xfd thuy\u1ebft v\xe0 Th\u1ef1c h\xe0nh"})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"L\xfd thuy\u1ebft v\u1ec1 Service Implementation:"}),"\nService implementation trong gRPC s\u1eed d\u1ee5ng decorators \u0111\u1ec3 map c\xe1c gRPC methods v\u1edbi service methods. M\u1ed7i gRPC method \u0111\u01b0\u1ee3c implement nh\u01b0 m\u1ed9t service method v\u1edbi proper error handling v\xe0 response formatting."]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u0110\u1eb7c \u0111i\u1ec3m k\u1ef9 thu\u1eadt:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Decorator-based"}),": S\u1eed d\u1ee5ng ",(0,i.jsx)(e.code,{children:"@GrpcMethod"})," \u0111\u1ec3 map gRPC methods"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Streaming Support"}),": H\u1ed7 tr\u1ee3 server streaming v\u1edbi ",(0,i.jsx)(e.code,{children:"@GrpcStreamMethod"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Observable Pattern"}),": S\u1eed d\u1ee5ng RxJS Observables cho streaming"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Error Handling"}),": Proper error handling v\xe0 propagation"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Type Safety"}),": Generated types t\u1eeb protobuf"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"C\xe1ch ho\u1ea1t \u0111\u1ed9ng:"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Method Registration"}),": Decorator \u0111\u0103ng k\xfd method v\u1edbi gRPC service"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Request Processing"}),": Nh\u1eadn v\xe0 validate incoming requests"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Business Logic"}),": Th\u1ef1c hi\u1ec7n business logic"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Response Generation"}),": T\u1ea1o v\xe0 format response"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Streaming"}),": X\u1eed l\xfd streaming data n\u1ebfu c\u1ea7n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Bi\u1ebfn \u0111\u1ed5i trong qu\xe1 tr\xecnh x\u1eed l\xfd:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Method State"}),": Unregistered \u2192 Registered \u2192 Active \u2192 Processing \u2192 Completed"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Request State"}),": Received \u2192 Validated \u2192 Processed \u2192 Response Generated"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Data State"}),": Raw Request \u2192 Validated Data \u2192 Business Result \u2192 Formatted Response"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u01afu \u0111i\u1ec3m:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Clean Architecture"}),": Separation of concerns r\xf5 r\xe0ng"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Type Safety"}),": Generated types \u0111\u1ea3m b\u1ea3o type safety"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Streaming Support"}),": H\u1ed7 tr\u1ee3 \u0111\u1ea7y \u0111\u1ee7 gRPC streaming patterns"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Error Handling"}),": Proper error handling v\xe0 propagation"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Nh\u01b0\u1ee3c \u0111i\u1ec3m:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Complexity"}),": C\u1ea7n hi\u1ec3u RxJS Observables"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Debugging"}),": Kh\xf3 debug streaming operations"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Memory Management"}),": C\u1ea7n qu\u1ea3n l\xfd memory cho streaming"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Error Propagation"}),": Complex error handling trong streams"]}),"\n"]}),"\n",(0,i.jsxs)(e.h3,{id:"4-grpc-client",children:["4. ",(0,i.jsx)(e.strong,{children:"gRPC Client"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",metastring:'title="gRPC Client Configuration"',children:"// user-client.service.ts\nimport { Injectable, OnModuleInit } from '@nestjs/common';\nimport { ClientGrpc, Client, Transport } from '@nestjs/microservices';\nimport { join } from 'path';\n\ninterface UserService {\n  getUser(data: { user_id: string }): Promise<any>;\n  getUsers(data: { page: number; limit: number; search?: string }): Observable<any>;\n  createUsers(requests: Observable<any>): Promise<any>;\n  chat(messages: Observable<any>): Observable<any>;\n}\n\n@Injectable()\nexport class UserClientService implements OnModuleInit {\n  @Client({\n    transport: Transport.GRPC,\n    options: {\n      package: 'user',\n      protoPath: join(__dirname, 'proto/user.proto'),\n      url: 'localhost:5000',\n      loader: {\n        keepCase: true,\n        longs: String,\n        enums: String,\n        defaults: true,\n        oneofs: true,\n      },\n    },\n  })\n  private client: ClientGrpc;\n\n  private userService: UserService;\n\n  onModuleInit() {\n    this.userService = this.client.getService<UserService>('UserService');\n  }\n\n  async getUser(userId: string): Promise<any> {\n    return this.userService.getUser({ user_id: userId });\n  }\n\n  getUsers(page: number, limit: number, search?: string): Observable<any> {\n    return this.userService.getUsers({ page, limit, search });\n  }\n\n  async createUsers(users: Array<{ name: string; email: string; password: string }>): Promise<any> {\n    const requests = new Observable(subscriber => {\n      users.forEach(user => subscriber.next(user));\n      subscriber.complete();\n    });\n    \n    return this.userService.createUsers(requests);\n  }\n\n  chat(message: string): Observable<any> {\n    const messages = new Observable(subscriber => {\n      subscriber.next({ user_id: 'client', message, timestamp: new Date() });\n      subscriber.complete();\n    });\n    \n    return this.userService.chat(messages);\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"grpc-communication-patterns",children:"gRPC Communication Patterns"}),"\n",(0,i.jsxs)(e.h3,{id:"1-unary-rpc-request-response",children:["1. ",(0,i.jsx)(e.strong,{children:"Unary RPC (Request-Response)"})]}),"\n",(0,i.jsx)(e.mermaid,{value:"flowchart LR\n    A[Client] --\x3e|Request| B[gRPC Server]\n    B --\x3e|Process| C[Business Logic]\n    C --\x3e|Response| B\n    B --\x3e|Response| A\n    \n    style A fill:#e8f5e8\n    style B fill:#f3e5f5\n    style C fill:#fff3e0"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",metastring:'title="Unary RPC Example"',children:"// Server\n@GrpcMethod('UserService', 'GetUser')\nasync getUser(data: { user_id: string }): Promise<any> {\n  const user = await this.userRepository.findOne(data.user_id);\n  return this.mapToGrpcResponse(user);\n}\n\n// Client\nconst user = await this.userClient.getUser('user123');\nconsole.log('User:', user);\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"2-server-streaming-rpc",children:["2. ",(0,i.jsx)(e.strong,{children:"Server Streaming RPC"})]}),"\n",(0,i.jsx)(e.mermaid,{value:"flowchart LR\n    A[Client] --\x3e|Single Request| B[gRPC Server]\n    B --\x3e|Stream Response 1| A\n    B --\x3e|Stream Response 2| A\n    B --\x3e|Stream Response 3| A\n    B --\x3e|Stream Complete| A\n    \n    style A fill:#e8f5e8\n    style B fill:#f3e5f5"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",metastring:'title="Server Streaming Example"',children:"// Server\n@GrpcMethod('UserService', 'GetUsers')\ngetUsers(data: { page: number; limit: number }): Observable<any> {\n  return new Observable(subscriber => {\n    this.userRepository.findAll(data.page, data.limit).then(users => {\n      users.forEach(user => subscriber.next(this.mapToGrpcResponse(user)));\n      subscriber.complete();\n    });\n  });\n}\n\n// Client\nthis.userClient.getUsers(1, 10).subscribe({\n  next: (user) => console.log('Received user:', user),\n  complete: () => console.log('Stream completed'),\n  error: (error) => console.error('Stream error:', error),\n});\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"3-client-streaming-rpc",children:["3. ",(0,i.jsx)(e.strong,{children:"Client Streaming RPC"})]}),"\n",(0,i.jsx)(e.mermaid,{value:"flowchart LR\n    A[Client] --\x3e|Stream Request 1| B[gRPC Server]\n    A --\x3e|Stream Request 2| B\n    A --\x3e|Stream Request 3| B\n    A --\x3e|Stream Complete| B\n    B --\x3e|Single Response| A\n    \n    style A fill:#e8f5e8\n    style B fill:#f3e5f5"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",metastring:'title="Client Streaming Example"',children:"// Server\n@GrpcMethod('UserService', 'CreateUsers')\nasync createUsers(requests: Observable<any>): Promise<any> {\n  const userIds: string[] = [];\n  \n  return new Promise((resolve, reject) => {\n    requests.subscribe({\n      next: async (request) => {\n        const user = await this.userRepository.create(request);\n        userIds.push(user.id);\n      },\n      complete: () => resolve({ user_ids: userIds, total_created: userIds.length }),\n      error: reject,\n    });\n  });\n}\n\n// Client\nconst users = [\n  { name: 'John', email: 'john@example.com', password: 'password123' },\n  { name: 'Jane', email: 'jane@example.com', password: 'password456' },\n];\n\nconst requests = new Observable(subscriber => {\n  users.forEach(user => subscriber.next(user));\n  subscriber.complete();\n});\n\nconst result = await this.userClient.createUsers(requests);\nconsole.log('Created users:', result);\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"4-bidirectional-streaming-rpc",children:["4. ",(0,i.jsx)(e.strong,{children:"Bidirectional Streaming RPC"})]}),"\n",(0,i.jsx)(e.mermaid,{value:"flowchart LR\n    A[Client] --\x3e|Request 1| B[gRPC Server]\n    B --\x3e|Response 1| A\n    A --\x3e|Request 2| B\n    B --\x3e|Response 2| A\n    A --\x3e|Request 3| B\n    B --\x3e|Response 3| A\n    \n    style A fill:#e8f5e8\n    style B fill:#f3e5f5"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",metastring:'title="Bidirectional Streaming Example"',children:"// Server\n@GrpcStreamMethod('UserService', 'Chat')\nchat(messages: Observable<any>): Observable<any> {\n  return messages.pipe(\n    map(message => ({\n      user_id: 'server',\n      message: `Echo: ${message.message}`,\n      timestamp: new Date(),\n    }))\n  );\n}\n\n// Client\nconst messages = new Observable(subscriber => {\n  subscriber.next({ user_id: 'client', message: 'Hello!', timestamp: new Date() });\n  subscriber.next({ user_id: 'client', message: 'How are you?', timestamp: new Date() });\n  setTimeout(() => subscriber.complete(), 1000);\n});\n\nthis.userClient.chat(messages).subscribe({\n  next: (response) => console.log('Server response:', response),\n  complete: () => console.log('Chat completed'),\n});\n"})}),"\n",(0,i.jsx)(e.h2,{id:"so-s\xe1nh-v\u1edbi-c\xe1c-protocol-kh\xe1c",children:"So s\xe1nh v\u1edbi c\xe1c Protocol kh\xe1c"}),"\n",(0,i.jsx)(e.h3,{id:"1-grpc-vs-rest",children:(0,i.jsx)(e.strong,{children:"1. gRPC vs REST:"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Performance:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"gRPC"}),": Binary protocol, HTTP/2, multiplexing, compression"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"REST"}),": Text-based, HTTP/1.1, no multiplexing, no compression"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"K\u1ebft qu\u1ea3"}),": gRPC nhanh h\u01a1n 2-10x t\xf9y use case"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Type Safety:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"gRPC"}),": Strong typing, generated code, compile-time validation"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"REST"}),": No built-in typing, runtime validation, manual parsing"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"K\u1ebft qu\u1ea3"}),": gRPC \xedt bugs h\u01a1n, development nhanh h\u01a1n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Streaming:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"gRPC"}),": Bidirectional streaming, real-time communication"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"REST"}),": Request-response only, no streaming"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"K\u1ebft qu\u1ea3"}),": gRPC ph\xf9 h\u1ee3p cho real-time apps"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Browser Support:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"gRPC"}),": Limited browser support, mainly server-to-server"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"REST"}),": Full browser support, universal compatibility"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"K\u1ebft qu\u1ea3"}),": REST t\u1ed1t h\u01a1n cho public APIs"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"2-grpc-vs-graphql",children:(0,i.jsx)(e.strong,{children:"2. gRPC vs GraphQL:"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Data Fetching:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"gRPC"}),": Fixed contracts, efficient binary transfer"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"GraphQL"}),": Flexible queries, over-fetching prevention"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"K\u1ebft qu\u1ea3"}),": gRPC t\u1ed1t cho fixed APIs, GraphQL t\u1ed1t cho flexible queries"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Performance:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"gRPC"}),": Binary protocol, HTTP/2, high performance"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"GraphQL"}),": Text-based, HTTP/1.1, query complexity issues"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"K\u1ebft qu\u1ea3"}),": gRPC performance t\u1ed1t h\u01a1n cho simple operations"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Learning Curve:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"gRPC"}),": RPC concepts, Protocol Buffers"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"GraphQL"}),": Query language, schema design"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"K\u1ebft qu\u1ea3"}),": C\u1ea3 hai \u0111\u1ec1u c\xf3 learning curve cao"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"3-grpc-vs-message-queues",children:(0,i.jsx)(e.strong,{children:"3. gRPC vs Message Queues:"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Communication Pattern:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"gRPC"}),": Synchronous, request-response, real-time"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Message Queues"}),": Asynchronous, fire-and-forget, eventual consistency"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"K\u1ebft qu\u1ea3"}),": gRPC cho real-time, MQ cho async processing"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"Use Cases:"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"gRPC"}),": Service-to-service calls, real-time communication"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Message Queues"}),": Background jobs, event processing, decoupling"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"K\u1ebft qu\u1ea3"}),": Kh\xe1c nhau, kh\xf4ng thay th\u1ebf \u0111\u01b0\u1ee3c nhau"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"grpc-best-practices",children:"gRPC Best Practices"}),"\n",(0,i.jsxs)(e.h3,{id:"1-error-handling",children:["1. ",(0,i.jsx)(e.strong,{children:"Error Handling"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",metastring:'title="gRPC Error Handling Best Practice"',children:"// \u2705 T\u1ed1t - X\u1eed l\xfd l\u1ed7i v\u1edbi gRPC status codes\n@GrpcMethod('UserService', 'GetUser')\nasync getUser(data: { user_id: string }): Promise<any> {\n  try {\n    const user = await this.userRepository.findOne(data.user_id);\n    \n    if (!user) {\n      throw new RpcException({\n        code: 5, // NOT_FOUND\n        message: 'User not found',\n        details: `No user found with ID: ${data.user_id}`,\n      });\n    }\n    \n    return this.mapToGrpcResponse(user);\n  } catch (error) {\n    if (error instanceof RpcException) {\n      throw error;\n    }\n    \n    this.logger.error('Failed to get user', error);\n    throw new RpcException({\n      code: 13, // INTERNAL\n      message: 'Internal server error',\n    });\n  }\n}\n\n// Client error handling\ntry {\n  const user = await this.userClient.getUser('invalid-id');\n} catch (error) {\n  if (error.code === 5) { // NOT_FOUND\n    console.log('User not found');\n  } else if (error.code === 13) { // INTERNAL\n    console.log('Server error');\n  }\n}\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"2-performance-optimization",children:["2. ",(0,i.jsx)(e.strong,{children:"Performance Optimization"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",metastring:'title="gRPC Performance Optimization"',children:"// \u2705 T\u1ed1t - T\u1ed1i \u01b0u performance cho gRPC\n@Injectable()\nexport class OptimizedUserService {\n  constructor(\n    private readonly userRepository: UserRepository,\n    private readonly cacheService: CacheService,\n  ) {}\n\n  @GrpcMethod('UserService', 'GetUser')\n  async getUser(data: { user_id: string }): Promise<any> {\n    // Check cache first\n    const cachedUser = await this.cacheService.get(`user:${data.user_id}`);\n    if (cachedUser) {\n      return cachedUser;\n    }\n\n    // Get from database\n    const user = await this.userRepository.findOne(data.user_id);\n    if (!user) {\n      throw new RpcException({ code: 5, message: 'User not found' });\n    }\n\n    // Cache the result\n    const grpcResponse = this.mapToGrpcResponse(user);\n    await this.cacheService.set(`user:${data.user_id}`, grpcResponse, 300); // 5 minutes\n\n    return grpcResponse;\n  }\n\n  @GrpcMethod('UserService', 'GetUsers')\n  getUsers(data: { page: number; limit: number }): Observable<any> {\n    return new Observable(subscriber => {\n      // Use pagination and streaming\n      this.userRepository\n        .findAllPaginated(data.page, data.limit)\n        .then(users => {\n          users.forEach(user => {\n            const response = this.mapToGrpcResponse(user);\n            subscriber.next(response);\n          });\n          subscriber.complete();\n        })\n        .catch(error => subscriber.error(error));\n    });\n  }\n}\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"3-connection-management",children:["3. ",(0,i.jsx)(e.strong,{children:"Connection Management"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",metastring:'title="gRPC Connection Management"',children:"// \u2705 T\u1ed1t - Qu\u1ea3n l\xfd connection hi\u1ec7u qu\u1ea3\n@Injectable()\nexport class UserClientService implements OnModuleInit, OnModuleDestroy {\n  private client: ClientGrpc;\n  private userService: UserService;\n\n  constructor() {\n    this.client = ClientProxyFactory.create({\n      transport: Transport.GRPC,\n      options: {\n        package: 'user',\n        protoPath: join(__dirname, 'proto/user.proto'),\n        url: 'localhost:5000',\n        loader: {\n          keepCase: true,\n          longs: String,\n          enums: String,\n          defaults: true,\n          oneofs: true,\n        },\n        // Connection options\n        maxReceiveMessageLength: 1024 * 1024 * 10, // 10MB\n        maxSendMessageLength: 1024 * 1024 * 10,    // 10MB\n        keepalive: {\n          keepaliveTimeMs: 120000, // 2 minutes\n          keepaliveTimeoutMs: 20000, // 20 seconds\n          keepalivePermitWithoutCalls: true,\n          http2MaxPingsWithoutData: 0,\n          http2MinTimeBetweenPingsMs: 120000, // 2 minutes\n          http2MinPingIntervalWithoutDataMs: 300000, // 5 minutes\n        },\n      },\n    });\n  }\n\n  onModuleInit() {\n    this.userService = this.client.getService<UserService>('UserService');\n  }\n\n  onModuleDestroy() {\n    this.client.close();\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"grpc-vs-rest-comparison",children:"gRPC vs REST Comparison"}),"\n",(0,i.jsx)(e.h3,{id:"b\u1ea3ng-so-s\xe1nh-chi-ti\u1ebft",children:"B\u1ea3ng so s\xe1nh chi ti\u1ebft"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"Ti\xeau ch\xed"}),(0,i.jsx)(e.th,{children:"gRPC"}),(0,i.jsx)(e.th,{children:"REST/HTTP"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Protocol"})}),(0,i.jsx)(e.td,{children:"HTTP/2"}),(0,i.jsx)(e.td,{children:"HTTP/1.1"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Data Format"})}),(0,i.jsx)(e.td,{children:"Protocol Buffers (Binary)"}),(0,i.jsx)(e.td,{children:"JSON/XML (Text)"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Performance"})}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50\u2b50"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Type Safety"})}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Streaming"})}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Browser Support"})}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50"}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Learning Curve"})}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50\u2b50"}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Tooling"})}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50"}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Caching"})}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50"}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.strong,{children:"Debugging"})}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50\u2b50"}),(0,i.jsx)(e.td,{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"use-case-recommendations",children:"Use Case Recommendations"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",metastring:'title="Protocol Selection Guidelines"',children:"class ProtocolSelection {\n  // \u2705 D\xf9ng gRPC cho:\n  // - High-performance APIs\n  // - Service-to-service communication\n  // - Real-time streaming\n  // - Strong typing requirements\n  // - Internal microservices\n  \n  // \u2705 D\xf9ng REST cho:\n  // - Public APIs\n  // - Browser clients\n  // - Simple CRUD operations\n  // - Third-party integrations\n  // - Caching requirements\n}\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsx)(e.admonition,{title:"\ud83d\udca1 L\u1eddi khuy\xean t\u1ed5ng k\u1ebft",type:"tip",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"S\u1eed d\u1ee5ng gRPC cho high-performance, service-to-service communication"}),"\n",(0,i.jsx)(e.li,{children:"Protocol Buffers cung c\u1ea5p type safety v\xe0 hi\u1ec7u su\u1ea5t cao"}),"\n",(0,i.jsx)(e.li,{children:"Implement proper error handling v\u1edbi gRPC status codes"}),"\n",(0,i.jsx)(e.li,{children:"Optimize performance v\u1edbi connection pooling v\xe0 caching"}),"\n",(0,i.jsx)(e.li,{children:"Ch\u1ecdn protocol ph\xf9 h\u1ee3p v\u1edbi use case c\u1ee5 th\u1ec3"}),"\n",(0,i.jsx)(e.li,{children:"Monitor v\xe0 optimize gRPC performance metrics"}),"\n"]})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"B\xe0i ti\u1ebfp theo:"})," ",(0,i.jsx)(e.a,{href:"/docs/microservices/communication/rest-protocol",children:"REST Protocol"})]})]})}function a(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>l,x:()=>c});var r=s(96540);const i={},t=r.createContext(i);function l(n){const e=r.useContext(t);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),r.createElement(t.Provider,{value:e},n.children)}}}]);