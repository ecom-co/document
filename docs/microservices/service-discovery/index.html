<!doctype html>
<html lang="vi" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-microservices/service-discovery" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Service Discovery | NestJS Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ecom-co.github.io/document/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ecom-co.github.io/document/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ecom-co.github.io/document/docs/microservices/service-discovery"><meta data-rh="true" property="og:locale" content="vi"><meta data-rh="true" name="docusaurus_locale" content="vi"><meta data-rh="true" name="docsearch:language" content="vi"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Service Discovery | NestJS Documentation"><meta data-rh="true" name="description" content="Service Discovery giống như &quot;danh bạ điện thoại&quot; cho microservices - giúp services tìm thấy nhau và biết địa chỉ để giao tiếp."><meta data-rh="true" property="og:description" content="Service Discovery giống như &quot;danh bạ điện thoại&quot; cho microservices - giúp services tìm thấy nhau và biết địa chỉ để giao tiếp."><link data-rh="true" rel="icon" href="/document/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ecom-co.github.io/document/docs/microservices/service-discovery"><link data-rh="true" rel="alternate" href="https://ecom-co.github.io/document/docs/microservices/service-discovery" hreflang="vi"><link data-rh="true" rel="alternate" href="https://ecom-co.github.io/document/docs/microservices/service-discovery" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Service Discovery","item":"https://ecom-co.github.io/document/docs/microservices/service-discovery"}]}</script><link rel="alternate" type="application/rss+xml" href="/document/blog/rss.xml" title="NestJS Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/document/blog/atom.xml" title="NestJS Documentation Atom Feed"><link rel="stylesheet" href="/document/assets/css/styles.82925b1f.css">
<script src="/document/assets/js/runtime~main.0dc5647a.js" defer="defer"></script>
<script src="/document/assets/js/main.9b8e79c8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/document/img/logo.svg"><div role="region" aria-label="Chuyển tới nội dung chính"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Chuyển tới nội dung chính</a></div><nav aria-label="Thanh điều hướng" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Đóng - mở thanh điều hướng" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/document/"><div class="navbar__logo"><img src="/document/img/logo.svg" alt="NestJS Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/document/img/logo.svg" alt="NestJS Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">NestJS</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/document/docs/">Docs</a><a class="navbar__item navbar__link" href="/document/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Tìm kiếm..." aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/ecom-co/document" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Tiếng Việt</a><ul class="dropdown__menu"><li><a href="/document/docs/microservices/service-discovery" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="vi">Tiếng Việt</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Chuyển đổi chế độ sáng và tối (hiện tại là system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Trở lại đầu trang" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Thanh điều hướng tài liệu" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/document/docs/">NestJS là gì?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/document/docs/installation">Cài đặt NestJS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/document/docs/overview/modules">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/document/docs/tips/circular-dependency">Tips &amp; Troubleshooting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/document/docs/http-exception/http-methods">HTTP &amp; Exception Handling</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/document/docs/microservices/microservices-overview">Microservices &amp; Communication</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/document/docs/microservices/microservices-overview">Microservices Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/document/docs/microservices/communication/communication-overview">Communication Protocols</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/document/docs/microservices/service-discovery">Service Discovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/document/docs/microservices/load-balancing">Load Balancing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/document/docs/microservices/microservices-patterns">Microservices Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/document/docs/microservices/microservices-testing">Microservices Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/document/docs/microservices/microservices-deployment">Microservices Deployment</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/document/docs/ecom-co/ecom-co-overview">Ecom-co Libraries</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Liên kết điều hướng"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Trang chủ" class="breadcrumbs__link" href="/document/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Microservices &amp; Communication</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Service Discovery</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Trên trang này</button></div><div class="theme-doc-markdown markdown"><header><h1>Service Discovery</h1></header>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>💡 Khái niệm cơ bản</div><div class="admonitionContent_BuS1"><p>Service Discovery giống như &quot;danh bạ điện thoại&quot; cho microservices - giúp services tìm thấy nhau và biết địa chỉ để giao tiếp.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="service-discovery-là-gì">Service Discovery là gì?<a href="#service-discovery-là-gì" class="hash-link" aria-label="Đường dẫn trực tiếp đến Service Discovery là gì?" title="Đường dẫn trực tiếp đến Service Discovery là gì?">​</a></h2>
<p><strong>Lý thuyết cơ bản:</strong>
Service Discovery là một pattern cho phép services tự động tìm thấy và kết nối với nhau trong distributed system. Nó giải quyết vấn đề services cần biết địa chỉ của services khác để giao tiếp.</p>
<p><strong>Đặc điểm kỹ thuật:</strong></p>
<ul>
<li><strong>Service Registration</strong>: Services đăng ký với discovery service</li>
<li><strong>Service Lookup</strong>: Services tìm kiếm services khác</li>
<li><strong>Health Checking</strong>: Kiểm tra sức khỏe services</li>
<li><strong>Load Balancing</strong>: Phân phối tải giữa service instances</li>
<li><strong>Dynamic Discovery</strong>: Tự động discovery services mới</li>
<li><strong>Service Metadata</strong>: Lưu trữ metadata về services</li>
</ul>
<p><strong>Cách hoạt động:</strong></p>
<ol>
<li><strong>Service Startup</strong>: Service khởi động và đăng ký</li>
<li><strong>Registration</strong>: Service đăng ký với discovery service</li>
<li><strong>Health Monitoring</strong>: Discovery service monitor health</li>
<li><strong>Service Lookup</strong>: Client tìm kiếm service</li>
<li><strong>Connection</strong>: Client kết nối với service</li>
</ol>
<p><strong>Biến đổi trong quá trình xử lý:</strong></p>
<ul>
<li><strong>Service State</strong>: Starting → Registering → Registered → Active → Unhealthy → Deregistered</li>
<li><strong>Discovery State</strong>: Idle → Discovering → Found → Connected → Monitoring</li>
<li><strong>Registry State</strong>: Empty → Registering → Populated → Updating → Cleanup</li>
</ul>
<p><strong>Điểm mạnh (Strengths):</strong></p>
<ul>
<li><strong>Dynamic Discovery</strong>: Tự động tìm thấy services mới</li>
<li><strong>Load Balancing</strong>: Tự động load balance requests</li>
<li><strong>Health Monitoring</strong>: Monitor service health</li>
<li><strong>Scalability</strong>: Dễ dàng scale services</li>
<li><strong>Fault Tolerance</strong>: Handle service failures</li>
<li><strong>Service Isolation</strong>: Services không cần biết địa chỉ nhau</li>
<li><strong>Configuration Management</strong>: Centralized configuration</li>
<li><strong>Service Mesh Integration</strong>: Tích hợp với service mesh</li>
</ul>
<p><strong>Điểm yếu (Weaknesses):</strong></p>
<ul>
<li><strong>Single Point of Failure</strong>: Discovery service có thể fail</li>
<li><strong>Complexity</strong>: Implementation complexity</li>
<li><strong>Performance Overhead</strong>: Discovery overhead</li>
<li><strong>Network Dependency</strong>: Phụ thuộc vào network</li>
<li><strong>Service Dependencies</strong>: Services phụ thuộc vào discovery</li>
<li><strong>Configuration Complexity</strong>: Complex configuration</li>
<li><strong>Debugging Difficulty</strong>: Khó debug discovery issues</li>
<li><strong>Security Concerns</strong>: Security vulnerabilities</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="khi-nào-nên-dùng-và-khi-nào-không-nên-dùng-service-discovery">Khi nào nên dùng và khi nào không nên dùng Service Discovery<a href="#khi-nào-nên-dùng-và-khi-nào-không-nên-dùng-service-discovery" class="hash-link" aria-label="Đường dẫn trực tiếp đến Khi nào nên dùng và khi nào không nên dùng Service Discovery" title="Đường dẫn trực tiếp đến Khi nào nên dùng và khi nào không nên dùng Service Discovery">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="khi-nào-nên-dùng-service-discovery"><strong>Khi nào NÊN dùng Service Discovery:</strong><a href="#khi-nào-nên-dùng-service-discovery" class="hash-link" aria-label="Đường dẫn trực tiếp đến khi-nào-nên-dùng-service-discovery" title="Đường dẫn trực tiếp đến khi-nào-nên-dùng-service-discovery">​</a></h3>
<p><strong>1. Microservices Architecture:</strong></p>
<ul>
<li><strong>Large Scale</strong>: Systems có nhiều services</li>
<li><strong>Dynamic Services</strong>: Services thường xuyên thay đổi</li>
<li><strong>Service Scaling</strong>: Services cần scale independently</li>
<li><strong>Service Communication</strong>: Services cần giao tiếp với nhau</li>
</ul>
<p><strong>2. Dynamic Environments:</strong></p>
<ul>
<li><strong>Cloud Native</strong>: Cloud-native applications</li>
<li><strong>Container Orchestration</strong>: Kubernetes, Docker Swarm</li>
<li><strong>Auto-scaling</strong>: Auto-scaling environments</li>
<li><strong>Dynamic IPs</strong>: Services với dynamic IP addresses</li>
</ul>
<p><strong>3. High Availability Requirements:</strong></p>
<ul>
<li><strong>Fault Tolerance</strong>: Cần fault tolerance</li>
<li><strong>Load Balancing</strong>: Cần load balancing</li>
<li><strong>Health Monitoring</strong>: Cần monitor service health</li>
<li><strong>Service Recovery</strong>: Cần recover từ failures</li>
</ul>
<p><strong>4. Service Mesh:</strong></p>
<ul>
<li><strong>Service Mesh</strong>: Implement service mesh</li>
<li><strong>Traffic Management</strong>: Advanced traffic management</li>
<li><strong>Security</strong>: Service-to-service security</li>
<li><strong>Observability</strong>: Service observability</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="khi-nào-không-nên-dùng-service-discovery"><strong>Khi nào KHÔNG NÊN dùng Service Discovery:</strong><a href="#khi-nào-không-nên-dùng-service-discovery" class="hash-link" aria-label="Đường dẫn trực tiếp đến khi-nào-không-nên-dùng-service-discovery" title="Đường dẫn trực tiếp đến khi-nào-không-nên-dùng-service-discovery">​</a></h3>
<p><strong>1. Simple Applications:</strong></p>
<ul>
<li><strong>Monolithic</strong>: Monolithic applications</li>
<li><strong>Few Services</strong>: Chỉ có vài services</li>
<li><strong>Static Configuration</strong>: Static service configuration</li>
<li><strong>Simple Architecture</strong>: Simple architecture</li>
</ul>
<p><strong>2. Performance Critical:</strong></p>
<ul>
<li><strong>Low Latency</strong>: Cần latency thấp</li>
<li><strong>High Throughput</strong>: High throughput requirements</li>
<li><strong>Resource Constraints</strong>: Limited resources</li>
<li><strong>Network Limitations</strong>: Network limitations</li>
</ul>
<p><strong>3. Security Requirements:</strong></p>
<ul>
<li><strong>High Security</strong>: High security requirements</li>
<li><strong>Network Isolation</strong>: Network isolation requirements</li>
<li><strong>Compliance</strong>: Strict compliance requirements</li>
<li><strong>Audit Requirements</strong>: Audit requirements</li>
</ul>
<p><strong>4. Legacy Systems:</strong></p>
<ul>
<li><strong>Old Systems</strong>: Legacy systems</li>
<li><strong>No Containerization</strong>: No containerization</li>
<li><strong>Static Infrastructure</strong>: Static infrastructure</li>
<li><strong>Limited Resources</strong>: Limited infrastructure resources</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cách-áp-dụng-service-discovery-hiệu-quả">Cách áp dụng Service Discovery hiệu quả<a href="#cách-áp-dụng-service-discovery-hiệu-quả" class="hash-link" aria-label="Đường dẫn trực tiếp đến Cách áp dụng Service Discovery hiệu quả" title="Đường dẫn trực tiếp đến Cách áp dụng Service Discovery hiệu quả">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-chiến-lược-áp-dụng-adoption-strategy"><strong>1. Chiến lược áp dụng (Adoption Strategy):</strong><a href="#1-chiến-lược-áp-dụng-adoption-strategy" class="hash-link" aria-label="Đường dẫn trực tiếp đến 1-chiến-lược-áp-dụng-adoption-strategy" title="Đường dẫn trực tiếp đến 1-chiến-lược-áp-dụng-adoption-strategy">​</a></h3>
<p><strong>Phase 1: Assessment &amp; Planning</strong></p>
<ul>
<li><strong>Service Analysis</strong>: Analyze existing services</li>
<li><strong>Discovery Requirements</strong>: Identify discovery requirements</li>
<li><strong>Technology Selection</strong>: Choose discovery technology</li>
<li><strong>Infrastructure Planning</strong>: Plan infrastructure</li>
</ul>
<p><strong>Phase 2: Implementation</strong></p>
<ul>
<li><strong>Discovery Service</strong>: Implement discovery service</li>
<li><strong>Service Registration</strong>: Implement service registration</li>
<li><strong>Service Lookup</strong>: Implement service lookup</li>
<li><strong>Health Checking</strong>: Implement health checking</li>
</ul>
<p><strong>Phase 3: Testing &amp; Deployment</strong></p>
<ul>
<li><strong>Integration Testing</strong>: Test service integration</li>
<li><strong>Load Testing</strong>: Test discovery performance</li>
<li><strong>Failure Testing</strong>: Test failure scenarios</li>
<li><strong>Production Deployment</strong>: Deploy to production</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-best-practices-khi-áp-dụng"><strong>2. Best Practices khi áp dụng:</strong><a href="#2-best-practices-khi-áp-dụng" class="hash-link" aria-label="Đường dẫn trực tiếp đến 2-best-practices-khi-áp-dụng" title="Đường dẫn trực tiếp đến 2-best-practices-khi-áp-dụng">​</a></h3>
<p><strong>Service Registration:</strong></p>
<ul>
<li><strong>Automatic Registration</strong>: Automatic service registration</li>
<li><strong>Health Checks</strong>: Implement health checks</li>
<li><strong>Metadata Management</strong>: Manage service metadata</li>
<li><strong>Deregistration</strong>: Proper service deregistration</li>
</ul>
<p><strong>Service Lookup:</strong></p>
<ul>
<li><strong>Caching</strong>: Implement service caching</li>
<li><strong>Load Balancing</strong>: Implement load balancing</li>
<li><strong>Failover</strong>: Implement failover logic</li>
<li><strong>Retry Logic</strong>: Implement retry logic</li>
</ul>
<p><strong>Monitoring &amp; Observability:</strong></p>
<ul>
<li><strong>Health Monitoring</strong>: Monitor service health</li>
<li><strong>Performance Monitoring</strong>: Monitor discovery performance</li>
<li><strong>Error Tracking</strong>: Track discovery errors</li>
<li><strong>Metrics Collection</strong>: Collect discovery metrics</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-common-pitfalls-và-cách-tránh"><strong>3. Common Pitfalls và cách tránh:</strong><a href="#3-common-pitfalls-và-cách-tránh" class="hash-link" aria-label="Đường dẫn trực tiếp đến 3-common-pitfalls-và-cách-tránh" title="Đường dẫn trực tiếp đến 3-common-pitfalls-và-cách-tránh">​</a></h3>
<p><strong>Architecture Issues:</strong></p>
<ul>
<li><strong>❌ Single Point of Failure</strong>: Implement redundancy</li>
<li><strong>❌ No Health Checks</strong>: Implement health checks</li>
<li><strong>❌ No Load Balancing</strong>: Implement load balancing</li>
<li><strong>❌ No Failover</strong>: Implement failover logic</li>
</ul>
<p><strong>Performance Issues:</strong></p>
<ul>
<li><strong>❌ No Caching</strong>: Implement service caching</li>
<li><strong>❌ No Performance Monitoring</strong>: Monitor performance</li>
<li><strong>❌ No Optimization</strong>: Optimize discovery</li>
<li><strong>❌ No Scaling</strong>: Plan for scaling</li>
</ul>
<p><strong>✅ Cách tránh:</strong></p>
<ul>
<li><strong>Plan for Scale</strong>: Plan scaling từ đầu</li>
<li><strong>Implement Redundancy</strong>: Implement redundancy</li>
<li><strong>Monitor Everything</strong>: Monitor tất cả aspects</li>
<li><strong>Test Failures</strong>: Test failure scenarios</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="service-discovery-patterns">Service Discovery Patterns<a href="#service-discovery-patterns" class="hash-link" aria-label="Đường dẫn trực tiếp đến Service Discovery Patterns" title="Đường dẫn trực tiếp đến Service Discovery Patterns">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-client-side-discovery---lý-thuyết-và-thực-hành"><strong>1. Client-Side Discovery - Lý thuyết và Thực hành</strong><a href="#1-client-side-discovery---lý-thuyết-và-thực-hành" class="hash-link" aria-label="Đường dẫn trực tiếp đến 1-client-side-discovery---lý-thuyết-và-thực-hành" title="Đường dẫn trực tiếp đến 1-client-side-discovery---lý-thuyết-và-thực-hành">​</a></h3>
<p><strong>Lý thuyết về Client-Side Discovery:</strong>
Client-Side Discovery là pattern nơi client chịu trách nhiệm tìm kiếm service instances. Client query discovery service để lấy danh sách service instances và chọn instance phù hợp.</p>
<p><strong>Đặc điểm kỹ thuật:</strong></p>
<ul>
<li><strong>Client Responsibility</strong>: Client chịu trách nhiệm discovery</li>
<li><strong>Service Registry</strong>: Central service registry</li>
<li><strong>Load Balancing</strong>: Client-side load balancing</li>
<li><strong>Caching</strong>: Client-side caching</li>
</ul>
<p><strong>Cách hoạt động:</strong></p>
<ol>
<li><strong>Service Lookup</strong>: Client query discovery service</li>
<li><strong>Instance Selection</strong>: Client chọn service instance</li>
<li><strong>Connection</strong>: Client kết nối với selected instance</li>
<li><strong>Caching</strong>: Client cache service information</li>
</ol>
<p><strong>Biến đổi trong quá trình xử lý:</strong></p>
<ul>
<li><strong>Client State</strong>: Idle → Discovering → Found → Connected → Cached</li>
<li><strong>Service State</strong>: Unknown → Discovered → Selected → Connected</li>
<li><strong>Registry State</strong>: Idle → Querying → Responding → Idle</li>
</ul>
<p><strong>Ưu điểm:</strong></p>
<ul>
<li><strong>Client Control</strong>: Client có control over instance selection</li>
<li><strong>Load Balancing</strong>: Client-side load balancing</li>
<li><strong>Caching</strong>: Client-side caching</li>
<li><strong>Flexibility</strong>: Flexible instance selection</li>
</ul>
<p><strong>Nhược điểm:</strong></p>
<ul>
<li><strong>Client Complexity</strong>: Client complexity</li>
<li><strong>Coupling</strong>: Client coupled với discovery service</li>
<li><strong>Caching Issues</strong>: Caching complexity</li>
<li><strong>Load Balancing</strong>: Client-side load balancing complexity</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-client-side-discovery">**2. <strong>Client-Side Discovery</strong><a href="#2-client-side-discovery" class="hash-link" aria-label="Đường dẫn trực tiếp đến 2-client-side-discovery" title="Đường dẫn trực tiếp đến 2-client-side-discovery">​</a></h3>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-server-side-discovery---lý-thuyết-và-thực-hành"><strong>3. Server-Side Discovery - Lý thuyết và Thực hành</strong><a href="#3-server-side-discovery---lý-thuyết-và-thực-hành" class="hash-link" aria-label="Đường dẫn trực tiếp đến 3-server-side-discovery---lý-thuyết-và-thực-hành" title="Đường dẫn trực tiếp đến 3-server-side-discovery---lý-thuyết-và-thực-hành">​</a></h3>
<p><strong>Lý thuyết về Server-Side Discovery:</strong>
Server-Side Discovery là pattern nơi load balancer hoặc router chịu trách nhiệm discovery. Client gửi request đến load balancer, load balancer tìm kiếm service instance và route request.</p>
<p><strong>Đặc điểm kỹ thuật:</strong></p>
<ul>
<li><strong>Load Balancer</strong>: Load balancer chịu trách nhiệm discovery</li>
<li><strong>Service Registry</strong>: Load balancer query service registry</li>
<li><strong>Request Routing</strong>: Load balancer route requests</li>
<li><strong>Health Checking</strong>: Load balancer monitor health</li>
</ul>
<p><strong>Cách hoạt động:</strong></p>
<ol>
<li><strong>Request Reception</strong>: Load balancer nhận request</li>
<li><strong>Service Discovery</strong>: Load balancer tìm kiếm service</li>
<li><strong>Instance Selection</strong>: Load balancer chọn instance</li>
<li><strong>Request Routing</strong>: Load balancer route request</li>
</ol>
<p><strong>Biến đổi trong quá trình xử lý:</strong></p>
<ul>
<li><strong>Request State</strong>: Received → Discovering → Found → Routing → Completed</li>
<li><strong>Load Balancer State</strong>: Idle → Discovering → Routing → Idle</li>
<li><strong>Service State</strong>: Unknown → Discovered → Selected → Processing</li>
</ul>
<p><strong>Ưu điểm:</strong></p>
<ul>
<li><strong>Client Simplicity</strong>: Client đơn giản</li>
<li><strong>Centralized Control</strong>: Centralized discovery control</li>
<li><strong>Load Balancing</strong>: Centralized load balancing</li>
<li><strong>Health Monitoring</strong>: Centralized health monitoring</li>
</ul>
<p><strong>Nhược điểm:</strong></p>
<ul>
<li><strong>Load Balancer Dependency</strong>: Phụ thuộc vào load balancer</li>
<li><strong>Single Point of Failure</strong>: Load balancer là single point of failure</li>
<li><strong>Complexity</strong>: Load balancer complexity</li>
<li><strong>Scaling Issues</strong>: Load balancer scaling issues</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-server-side-discovery">**4. <strong>Server-Side Discovery</strong><a href="#4-server-side-discovery" class="hash-link" aria-label="Đường dẫn trực tiếp đến 4-server-side-discovery" title="Đường dẫn trực tiếp đến 4-server-side-discovery">​</a></h3>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-service-registry---lý-thuyết-và-thực-hành"><strong>5. Service Registry - Lý thuyết và Thực hành</strong><a href="#5-service-registry---lý-thuyết-và-thực-hành" class="hash-link" aria-label="Đường dẫn trực tiếp đến 5-service-registry---lý-thuyết-và-thực-hành" title="Đường dẫn trực tiếp đến 5-service-registry---lý-thuyết-và-thực-hành">​</a></h3>
<p><strong>Lý thuyết về Service Registry:</strong>
Service Registry là central database lưu trữ thông tin về services. Nó quản lý service registration, health monitoring, và service discovery.</p>
<p><strong>Đặc điểm kỹ thuật:</strong></p>
<ul>
<li><strong>Service Registration</strong>: Register và deregister services</li>
<li><strong>Health Monitoring</strong>: Monitor service health</li>
<li><strong>Service Metadata</strong>: Store service metadata</li>
<li><strong>Service Discovery</strong>: Provide service discovery</li>
</ul>
<p><strong>Cách hoạt động:</strong></p>
<ol>
<li><strong>Service Registration</strong>: Services register với registry</li>
<li><strong>Health Monitoring</strong>: Registry monitor service health</li>
<li><strong>Service Discovery</strong>: Clients query registry</li>
<li><strong>Registry Management</strong>: Manage registry data</li>
</ol>
<p><strong>Biến đổi trong quá trình xử lý:</strong></p>
<ul>
<li><strong>Registry State</strong>: Empty → Populating → Populated → Updating → Cleanup</li>
<li><strong>Service State</strong>: Unregistered → Registering → Registered → Active → Unhealthy → Deregistered</li>
<li><strong>Data State</strong>: No Data → Collecting → Stored → Updated → Cleaned</li>
</ul>
<p><strong>Ưu điểm:</strong></p>
<ul>
<li><strong>Centralized Management</strong>: Centralized service management</li>
<li><strong>Health Monitoring</strong>: Centralized health monitoring</li>
<li><strong>Service Discovery</strong>: Centralized service discovery</li>
<li><strong>Metadata Management</strong>: Centralized metadata management</li>
</ul>
<p><strong>Nhược điểm:</strong></p>
<ul>
<li><strong>Single Point of Failure</strong>: Single point of failure</li>
<li><strong>Scalability Issues</strong>: Scalability issues</li>
<li><strong>Complexity</strong>: Registry complexity</li>
<li><strong>Network Dependency</strong>: Network dependency</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-service-registry-architecture">**6. <strong>Service Registry Architecture</strong><a href="#6-service-registry-architecture" class="hash-link" aria-label="Đường dẫn trực tiếp đến 6-service-registry-architecture" title="Đường dẫn trực tiếp đến 6-service-registry-architecture">​</a></h3>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="service-discovery-technologies">Service Discovery Technologies<a href="#service-discovery-technologies" class="hash-link" aria-label="Đường dẫn trực tiếp đến Service Discovery Technologies" title="Đường dẫn trực tiếp đến Service Discovery Technologies">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-consul---lý-thuyết-và-thực-hành"><strong>1. Consul - Lý thuyết và Thực hành</strong><a href="#1-consul---lý-thuyết-và-thực-hành" class="hash-link" aria-label="Đường dẫn trực tiếp đến 1-consul---lý-thuyết-và-thực-hành" title="Đường dẫn trực tiếp đến 1-consul---lý-thuyết-và-thực-hành">​</a></h3>
<p><strong>Lý thuyết về Consul:</strong>
Consul là một service discovery và configuration tool được phát triển bởi HashiCorp. Nó cung cấp service discovery, health checking, và key-value storage.</p>
<p><strong>Đặc điểm kỹ thuật:</strong></p>
<ul>
<li><strong>Service Discovery</strong>: Automatic service discovery</li>
<li><strong>Health Checking</strong>: Built-in health checking</li>
<li><strong>Key-Value Storage</strong>: Distributed key-value storage</li>
<li><strong>Multi-Datacenter</strong>: Multi-datacenter support</li>
<li><strong>ACL Support</strong>: Access control list support</li>
<li><strong>DNS Interface</strong>: DNS interface cho service discovery</li>
</ul>
<p><strong>Cách hoạt động:</strong></p>
<ol>
<li><strong>Agent Startup</strong>: Consul agent khởi động</li>
<li><strong>Service Registration</strong>: Services register với agent</li>
<li><strong>Health Checking</strong>: Agent monitor service health</li>
<li><strong>Service Discovery</strong>: Clients query Consul</li>
<li><strong>Configuration Management</strong>: Manage configuration</li>
</ol>
<p><strong>Biến đổi trong quá trình xử lý:</strong></p>
<ul>
<li><strong>Agent State</strong>: Starting → Running → Monitoring → Updating → Stopping</li>
<li><strong>Service State</strong>: Unregistered → Registering → Registered → Healthy → Unhealthy → Deregistered</li>
<li><strong>Configuration State</strong>: Default → Loading → Loaded → Updating → Synchronized</li>
</ul>
<p><strong>Ưu điểm:</strong></p>
<ul>
<li><strong>Feature Rich</strong>: Rich feature set</li>
<li><strong>Health Checking</strong>: Built-in health checking</li>
<li><strong>Multi-Datacenter</strong>: Multi-datacenter support</li>
<li><strong>ACL Support</strong>: Access control support</li>
<li><strong>DNS Interface</strong>: DNS interface</li>
<li><strong>Key-Value Storage</strong>: Key-value storage</li>
</ul>
<p><strong>Nhược điểm:</strong></p>
<ul>
<li><strong>Complexity</strong>: High complexity</li>
<li><strong>Resource Usage</strong>: High resource usage</li>
<li><strong>Learning Curve</strong>: Steep learning curve</li>
<li><strong>Operational Overhead</strong>: High operational overhead</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-consul-architecture">**2. <strong>Consul Architecture</strong><a href="#2-consul-architecture" class="hash-link" aria-label="Đường dẫn trực tiếp đến 2-consul-architecture" title="Đường dẫn trực tiếp đến 2-consul-architecture">​</a></h3>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-eureka---lý-thuyết-và-thực-hành"><strong>3. Eureka - Lý thuyết và Thực hành</strong><a href="#3-eureka---lý-thuyết-và-thực-hành" class="hash-link" aria-label="Đường dẫn trực tiếp đến 3-eureka---lý-thuyết-và-thực-hành" title="Đường dẫn trực tiếp đến 3-eureka---lý-thuyết-và-thực-hành">​</a></h3>
<p><strong>Lý thuyết về Eureka:</strong>
Eureka là một service discovery tool được phát triển bởi Netflix. Nó được thiết kế cho AWS cloud và cung cấp REST-based service discovery.</p>
<p><strong>Đặc điểm kỹ thuật:</strong></p>
<ul>
<li><strong>REST API</strong>: REST-based service discovery</li>
<li><strong>AWS Integration</strong>: AWS cloud integration</li>
<li><strong>Self-Preservation</strong>: Self-preservation mode</li>
<li><strong>Client-Side Load Balancing</strong>: Client-side load balancing</li>
<li><strong>Health Checking</strong>: Health checking support</li>
<li><strong>Zone Awareness</strong>: Zone awareness support</li>
</ul>
<p><strong>Cách hoạt động:</strong></p>
<ol>
<li><strong>Service Registration</strong>: Services register với Eureka</li>
<li><strong>Heartbeat</strong>: Services send heartbeat</li>
<li><strong>Service Discovery</strong>: Clients query Eureka</li>
<li><strong>Load Balancing</strong>: Client-side load balancing</li>
<li><strong>Health Monitoring</strong>: Monitor service health</li>
</ol>
<p><strong>Biến đổi trong quá trình xử lý:</strong></p>
<ul>
<li><strong>Service State</strong>: Starting → Registering → Registered → Heartbeating → Unhealthy → Deregistered</li>
<li><strong>Eureka State</strong>: Starting → Running → Monitoring → Updating → Stopping</li>
<li><strong>Client State</strong>: Unknown → Discovering → Found → Connected → Monitoring</li>
</ul>
<p><strong>Ưu điểm:</strong></p>
<ul>
<li><strong>AWS Integration</strong>: Good AWS integration</li>
<li><strong>Self-Preservation</strong>: Self-preservation mode</li>
<li><strong>Client-Side Load Balancing</strong>: Client-side load balancing</li>
<li><strong>Zone Awareness</strong>: Zone awareness support</li>
<li><strong>Netflix Proven</strong>: Netflix proven technology</li>
<li><strong>Spring Integration</strong>: Good Spring integration</li>
</ul>
<p><strong>Nhược điểm:</strong></p>
<ul>
<li><strong>AWS Specific</strong>: AWS specific design</li>
<li><strong>Limited Features</strong>: Limited feature set</li>
<li><strong>No Multi-Datacenter</strong>: No multi-datacenter support</li>
<li><strong>No ACL Support</strong>: No access control support</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-eureka-architecture">**4. <strong>Eureka Architecture</strong><a href="#4-eureka-architecture" class="hash-link" aria-label="Đường dẫn trực tiếp đến 4-eureka-architecture" title="Đường dẫn trực tiếp đến 4-eureka-architecture">​</a></h3>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Đường dẫn trực tiếp đến Best Practices" title="Đường dẫn trực tiếp đến Best Practices">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-service-registration---lý-thuyết-và-nguyên-tắc"><strong>1. Service Registration - Lý thuyết và Nguyên tắc</strong><a href="#1-service-registration---lý-thuyết-và-nguyên-tắc" class="hash-link" aria-label="Đường dẫn trực tiếp đến 1-service-registration---lý-thuyết-và-nguyên-tắc" title="Đường dẫn trực tiếp đến 1-service-registration---lý-thuyết-và-nguyên-tắc">​</a></h3>
<p><strong>Nguyên tắc cơ bản:</strong></p>
<ul>
<li><strong>Automatic Registration</strong>: Automatic service registration</li>
<li><strong>Health Checks</strong>: Implement health checks</li>
<li><strong>Metadata Management</strong>: Manage service metadata</li>
<li><strong>Deregistration</strong>: Proper service deregistration</li>
</ul>
<p><strong>Quy tắc lựa chọn:</strong></p>
<ol>
<li><strong>Registration Strategy</strong>: Choose registration strategy</li>
<li><strong>Health Check Strategy</strong>: Choose health check strategy</li>
<li><strong>Metadata Strategy</strong>: Choose metadata strategy</li>
<li><strong>Deregistration Strategy</strong>: Choose deregistration strategy</li>
</ol>
<p><strong>Trade-offs cần cân nhắc:</strong></p>
<ul>
<li><strong>Automation vs Control</strong>: Balance automation và control</li>
<li><strong>Health Check Frequency</strong>: Balance frequency và overhead</li>
<li><strong>Metadata vs Performance</strong>: Balance metadata và performance</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-service-discovery---lý-thuyết-và-chiến-lược"><strong>2. Service Discovery - Lý thuyết và Chiến lược</strong><a href="#2-service-discovery---lý-thuyết-và-chiến-lược" class="hash-link" aria-label="Đường dẫn trực tiếp đến 2-service-discovery---lý-thuyết-và-chiến-lược" title="Đường dẫn trực tiếp đến 2-service-discovery---lý-thuyết-và-chiến-lược">​</a></h3>
<p><strong>Nguyên lý Service Discovery:</strong></p>
<ul>
<li><strong>Caching</strong>: Implement service caching</li>
<li><strong>Load Balancing</strong>: Implement load balancing</li>
<li><strong>Failover</strong>: Implement failover logic</li>
<li><strong>Retry Logic</strong>: Implement retry logic</li>
</ul>
<p><strong>Chiến lược Service Discovery:</strong></p>
<ul>
<li><strong>Discovery Strategy</strong>: Choose discovery strategy</li>
<li><strong>Caching Strategy</strong>: Choose caching strategy</li>
<li><strong>Load Balancing Strategy</strong>: Choose load balancing strategy</li>
<li><strong>Failover Strategy</strong>: Choose failover strategy</li>
</ul>
<p><strong>Best Practices:</strong></p>
<ul>
<li><strong>Implement Caching</strong>: Implement service caching</li>
<li><strong>Implement Load Balancing</strong>: Implement load balancing</li>
<li><strong>Implement Failover</strong>: Implement failover logic</li>
<li><strong>Implement Retry Logic</strong>: Implement retry logic</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-health-monitoring---lý-thuyết-và-chiến-lược"><strong>3. Health Monitoring - Lý thuyết và Chiến lược</strong><a href="#3-health-monitoring---lý-thuyết-và-chiến-lược" class="hash-link" aria-label="Đường dẫn trực tiếp đến 3-health-monitoring---lý-thuyết-và-chiến-lược" title="Đường dẫn trực tiếp đến 3-health-monitoring---lý-thuyết-và-chiến-lược">​</a></h3>
<p><strong>Nguyên lý Health Monitoring:</strong></p>
<ul>
<li><strong>Health Checks</strong>: Implement health checks</li>
<li><strong>Status Monitoring</strong>: Monitor service status</li>
<li><strong>Failure Detection</strong>: Detect service failures</li>
<li><strong>Recovery Actions</strong>: Take recovery actions</li>
</ul>
<p><strong>Chiến lược Health Monitoring:</strong></p>
<ul>
<li><strong>Health Check Strategy</strong>: Choose health check strategy</li>
<li><strong>Monitoring Strategy</strong>: Choose monitoring strategy</li>
<li><strong>Failure Detection Strategy</strong>: Choose failure detection strategy</li>
<li><strong>Recovery Strategy</strong>: Choose recovery strategy</li>
</ul>
<p><strong>Best Practices:</strong></p>
<ul>
<li><strong>Implement Health Checks</strong>: Implement health checks</li>
<li><strong>Monitor Status</strong>: Monitor service status</li>
<li><strong>Detect Failures</strong>: Detect service failures</li>
<li><strong>Take Recovery Actions</strong>: Take recovery actions</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="so-sánh-với-các-technology-khác">So sánh với các Technology khác<a href="#so-sánh-với-các-technology-khác" class="hash-link" aria-label="Đường dẫn trực tiếp đến So sánh với các Technology khác" title="Đường dẫn trực tiếp đến So sánh với các Technology khác">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-consul-vs-eureka"><strong>1. Consul vs Eureka:</strong><a href="#1-consul-vs-eureka" class="hash-link" aria-label="Đường dẫn trực tiếp đến 1-consul-vs-eureka" title="Đường dẫn trực tiếp đến 1-consul-vs-eureka">​</a></h3>
<p><strong>Feature Set:</strong></p>
<ul>
<li><strong>Consul</strong>: Rich feature set, health checking, key-value storage</li>
<li><strong>Eureka</strong>: Basic feature set, simple service discovery</li>
<li><strong>Kết quả</strong>: Consul feature-rich, Eureka simple</li>
</ul>
<p><strong>Cloud Integration:</strong></p>
<ul>
<li><strong>Consul</strong>: Multi-cloud, multi-datacenter</li>
<li><strong>Eureka</strong>: AWS specific, single datacenter</li>
<li><strong>Kết quả</strong>: Consul multi-cloud, Eureka AWS specific</li>
</ul>
<p><strong>Complexity:</strong></p>
<ul>
<li><strong>Consul</strong>: High complexity, steep learning curve</li>
<li><strong>Eureka</strong>: Low complexity, easy to use</li>
<li><strong>Kết quả</strong>: Consul complex, Eureka simple</li>
</ul>
<p><strong>Use Cases:</strong></p>
<ul>
<li><strong>Consul</strong>: Enterprise, multi-cloud, complex requirements</li>
<li><strong>Eureka</strong>: Simple, AWS, basic requirements</li>
<li><strong>Kết quả</strong>: Consul enterprise, Eureka simple</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-service-discovery-vs-load-balancing"><strong>2. Service Discovery vs Load Balancing:</strong><a href="#2-service-discovery-vs-load-balancing" class="hash-link" aria-label="Đường dẫn trực tiếp đến 2-service-discovery-vs-load-balancing" title="Đường dẫn trực tiếp đến 2-service-discovery-vs-load-balancing">​</a></h3>
<p><strong>Purpose:</strong></p>
<ul>
<li><strong>Service Discovery</strong>: Find service instances</li>
<li><strong>Load Balancing</strong>: Distribute load between instances</li>
<li><strong>Kết quả</strong>: Khác nhau, complement nhau</li>
</ul>
<p><strong>Functionality:</strong></p>
<ul>
<li><strong>Service Discovery</strong>: Service location, health monitoring</li>
<li><strong>Load Balancing</strong>: Request distribution, health checking</li>
<li><strong>Kết quả</strong>: Service Discovery + Load Balancing = Complete solution</li>
</ul>
<p><strong>Implementation:</strong></p>
<ul>
<li><strong>Service Discovery</strong>: Service registry, health monitoring</li>
<li><strong>Load Balancing</strong>: Request routing, instance selection</li>
<li><strong>Kết quả</strong>: Có thể implement riêng hoặc kết hợp</li>
</ul>
<hr>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>💡 Lời khuyên tổng kết - Lý thuyết và Thực hành</div><div class="admonitionContent_BuS1"><p><strong>Nguyên tắc cơ bản:</strong></p><ul>
<li><strong>Technology Selection</strong>: Service Discovery phù hợp cho microservices và dynamic environments</li>
<li><strong>Complexity vs Functionality</strong>: Service Discovery có nhiều features nhưng complexity cao</li>
<li><strong>Scalability vs Reliability</strong>: Service Discovery scalable nhưng cần reliability</li>
</ul><p><strong>Quy tắc thực hành:</strong></p><ol>
<li><strong>Service Discovery</strong>: Cho microservices, dynamic environments, cloud-native</li>
<li><strong>Load Balancing</strong>: Cho request distribution, health checking</li>
<li><strong>Service Mesh</strong>: Cho advanced traffic management, security</li>
</ol><p><strong>Lý do tại sao:</strong></p><ul>
<li><strong>Service Discovery</strong>: Dynamic discovery, health monitoring, scalability</li>
<li><strong>Load Balancing</strong>: Request distribution, health checking, performance</li>
<li><strong>Service Mesh</strong>: Advanced traffic management, security, observability</li>
</ul><p><strong>Cách xử lý biến đổi:</strong></p><ul>
<li><strong>Service State</strong>: Unregistered → Registered → Healthy → Unhealthy → Deregistered</li>
<li><strong>Discovery State</strong>: Idle → Discovering → Found → Connected → Monitoring</li>
<li><strong>Health State</strong>: Unknown → Healthy → Unhealthy → Failed → Recovered</li>
</ul></div></div>
<p><strong>Bài tiếp theo:</strong> <a href="/document/docs/microservices/load-balancing">Load Balancing</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/ecom-co/document/tree/main/docs/microservices/service-discovery.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Sửa trang này</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Trang tài liệu"><a class="pagination-nav__link pagination-nav__link--prev" href="/document/docs/microservices/communication/event-driven"><div class="pagination-nav__sublabel">Trước</div><div class="pagination-nav__label">Event-Driven Communication</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/document/docs/microservices/load-balancing"><div class="pagination-nav__sublabel">Kế tiếp</div><div class="pagination-nav__label">Load Balancing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#service-discovery-là-gì" class="table-of-contents__link toc-highlight">Service Discovery là gì?</a></li><li><a href="#khi-nào-nên-dùng-và-khi-nào-không-nên-dùng-service-discovery" class="table-of-contents__link toc-highlight">Khi nào nên dùng và khi nào không nên dùng Service Discovery</a><ul><li><a href="#khi-nào-nên-dùng-service-discovery" class="table-of-contents__link toc-highlight"><strong>Khi nào NÊN dùng Service Discovery:</strong></a></li><li><a href="#khi-nào-không-nên-dùng-service-discovery" class="table-of-contents__link toc-highlight"><strong>Khi nào KHÔNG NÊN dùng Service Discovery:</strong></a></li></ul></li><li><a href="#cách-áp-dụng-service-discovery-hiệu-quả" class="table-of-contents__link toc-highlight">Cách áp dụng Service Discovery hiệu quả</a><ul><li><a href="#1-chiến-lược-áp-dụng-adoption-strategy" class="table-of-contents__link toc-highlight"><strong>1. Chiến lược áp dụng (Adoption Strategy):</strong></a></li><li><a href="#2-best-practices-khi-áp-dụng" class="table-of-contents__link toc-highlight"><strong>2. Best Practices khi áp dụng:</strong></a></li><li><a href="#3-common-pitfalls-và-cách-tránh" class="table-of-contents__link toc-highlight"><strong>3. Common Pitfalls và cách tránh:</strong></a></li></ul></li><li><a href="#service-discovery-patterns" class="table-of-contents__link toc-highlight">Service Discovery Patterns</a><ul><li><a href="#1-client-side-discovery---lý-thuyết-và-thực-hành" class="table-of-contents__link toc-highlight"><strong>1. Client-Side Discovery - Lý thuyết và Thực hành</strong></a></li><li><a href="#2-client-side-discovery" class="table-of-contents__link toc-highlight">**2. <strong>Client-Side Discovery</strong></a></li><li><a href="#3-server-side-discovery---lý-thuyết-và-thực-hành" class="table-of-contents__link toc-highlight"><strong>3. Server-Side Discovery - Lý thuyết và Thực hành</strong></a></li><li><a href="#4-server-side-discovery" class="table-of-contents__link toc-highlight">**4. <strong>Server-Side Discovery</strong></a></li><li><a href="#5-service-registry---lý-thuyết-và-thực-hành" class="table-of-contents__link toc-highlight"><strong>5. Service Registry - Lý thuyết và Thực hành</strong></a></li><li><a href="#6-service-registry-architecture" class="table-of-contents__link toc-highlight">**6. <strong>Service Registry Architecture</strong></a></li></ul></li><li><a href="#service-discovery-technologies" class="table-of-contents__link toc-highlight">Service Discovery Technologies</a><ul><li><a href="#1-consul---lý-thuyết-và-thực-hành" class="table-of-contents__link toc-highlight"><strong>1. Consul - Lý thuyết và Thực hành</strong></a></li><li><a href="#2-consul-architecture" class="table-of-contents__link toc-highlight">**2. <strong>Consul Architecture</strong></a></li><li><a href="#3-eureka---lý-thuyết-và-thực-hành" class="table-of-contents__link toc-highlight"><strong>3. Eureka - Lý thuyết và Thực hành</strong></a></li><li><a href="#4-eureka-architecture" class="table-of-contents__link toc-highlight">**4. <strong>Eureka Architecture</strong></a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a><ul><li><a href="#1-service-registration---lý-thuyết-và-nguyên-tắc" class="table-of-contents__link toc-highlight"><strong>1. Service Registration - Lý thuyết và Nguyên tắc</strong></a></li><li><a href="#2-service-discovery---lý-thuyết-và-chiến-lược" class="table-of-contents__link toc-highlight"><strong>2. Service Discovery - Lý thuyết và Chiến lược</strong></a></li><li><a href="#3-health-monitoring---lý-thuyết-và-chiến-lược" class="table-of-contents__link toc-highlight"><strong>3. Health Monitoring - Lý thuyết và Chiến lược</strong></a></li></ul></li><li><a href="#so-sánh-với-các-technology-khác" class="table-of-contents__link toc-highlight">So sánh với các Technology khác</a><ul><li><a href="#1-consul-vs-eureka" class="table-of-contents__link toc-highlight"><strong>1. Consul vs Eureka:</strong></a></li><li><a href="#2-service-discovery-vs-load-balancing" class="table-of-contents__link toc-highlight"><strong>2. Service Discovery vs Load Balancing:</strong></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>